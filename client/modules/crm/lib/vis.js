"use strict";!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.vis=e():t.vis=e()}(this,function(){return o=[function(t,e,i){var o=i(1);o.extend(e,i(87)),o.extend(e,i(116)),o.extend(e,i(158))},function(i,h,t){var l=e(t(2)),n=e(t(55)),u=e(t(58)),s=e(t(62));function e(t){return t&&t.__esModule?t:{default:t}}var o=t(82),c=t(86),r=(h.isNumber=function(t){return t instanceof Number||"number"==typeof t},h.recursiveDOMDelete=function(t){if(t)for(;!0===t.hasChildNodes();)h.recursiveDOMDelete(t.firstChild),t.removeChild(t.firstChild)},h.giveRange=function(t,e,i,o){return e==t?.5:Math.max(0,(o-t)*(1/(e-t)))},h.isString=function(t){return t instanceof String||"string"==typeof t},h.isDate=function(t){if(t instanceof Date)return!0;if(h.isString(t)){if(r.exec(t))return!0;if(!isNaN(Date.parse(t)))return!0}return!1},h.randomUUID=function(){return c.v4()},h.assignAllKeys=function(t,e){for(var i in t)t.hasOwnProperty(i)&&"object"!==(0,s.default)(t[i])&&(t[i]=e)},h.fillIfDefined=function(t,e){var i,o=2<arguments.length&&void 0!==arguments[2]&&arguments[2];for(i in t)void 0!==e[i]&&("object"!==(0,s.default)(e[i])?void 0!==e[i]&&null!==e[i]||void 0===t[i]||!0!==o?t[i]=e[i]:delete t[i]:"object"===(0,s.default)(t[i])&&h.fillIfDefined(t[i],e[i],o))},h.protoExtend=function(t,e){for(var i=1;i<arguments.length;i++){var o,n=arguments[i];for(o in n)t[o]=n[o]}return t},h.extend=function(t,e){for(var i=1;i<arguments.length;i++){var o,n=arguments[i];for(o in n)n.hasOwnProperty(o)&&(t[o]=n[o])}return t},h.selectiveExtend=function(t,e,i){if(!Array.isArray(t))throw new Error("Array with property names expected as first argument");for(var o=2;o<arguments.length;o++)for(var n=arguments[o],s=0;s<t.length;s++){var r=t[s];n.hasOwnProperty(r)&&(e[r]=n[r])}return e},h.selectiveDeepExtend=function(t,e,i){var o=3<arguments.length&&void 0!==arguments[3]&&arguments[3];if(Array.isArray(i))throw new TypeError("Arrays are not supported by deepExtend");for(var n=2;n<arguments.length;n++)for(var s=arguments[n],r=0;r<t.length;r++){var a=t[r];if(s.hasOwnProperty(a))if(i[a]&&i[a].constructor===Object)void 0===e[a]&&(e[a]={}),e[a].constructor===Object?h.deepExtend(e[a],i[a],!1,o):null===i[a]&&void 0!==e[a]&&!0===o?delete e[a]:e[a]=i[a];else{if(Array.isArray(i[a]))throw new TypeError("Arrays are not supported by deepExtend");null===i[a]&&void 0!==e[a]&&!0===o?delete e[a]:e[a]=i[a]}}return e},h.selectiveNotDeepExtend=function(t,e,i){var o,n=3<arguments.length&&void 0!==arguments[3]&&arguments[3];if(Array.isArray(i))throw new TypeError("Arrays are not supported by deepExtend");for(o in i)if(i.hasOwnProperty(o)&&-1==t.indexOf(o))if(i[o]&&i[o].constructor===Object)void 0===e[o]&&(e[o]={}),e[o].constructor===Object?h.deepExtend(e[o],i[o]):null===i[o]&&void 0!==e[o]&&!0===n?delete e[o]:e[o]=i[o];else if(Array.isArray(i[o])){e[o]=[];for(var s=0;s<i[o].length;s++)e[o].push(i[o][s])}else null===i[o]&&void 0!==e[o]&&!0===n?delete e[o]:e[o]=i[o];return e},h.deepExtend=function(t,e,i,o){for(var n in e)if(e.hasOwnProperty(n)||!0===i)if(e[n]&&e[n].constructor===Object)void 0===t[n]&&(t[n]={}),t[n].constructor===Object?h.deepExtend(t[n],e[n],i):null===e[n]&&void 0!==t[n]&&!0===o?delete t[n]:t[n]=e[n];else if(Array.isArray(e[n])){t[n]=[];for(var s=0;s<e[n].length;s++)t[n].push(e[n][s])}else null===e[n]&&void 0!==t[n]&&!0===o?delete t[n]:t[n]=e[n];return t},h.equalArray=function(t,e){if(t.length!=e.length)return!1;for(var i=0,o=t.length;i<o;i++)if(t[i]!=e[i])return!1;return!0},h.convert=function(t,e){var i;if(void 0!==t){if(null===t)return null;if(!e)return t;if("string"!=typeof e&&!(e instanceof String))throw new Error("Type must be a string");switch(e){case"boolean":case"Boolean":return Boolean(t);case"number":case"Number":return h.isString(t)&&!isNaN(Date.parse(t))?o(t).valueOf():Number(t.valueOf());case"string":case"String":return String(t);case"Date":if(h.isNumber(t))return new Date(t);if(t instanceof Date)return new Date(t.valueOf());if(o.isMoment(t))return new Date(t.valueOf());if(h.isString(t))return(i=r.exec(t))?new Date(Number(i[1])):o(new Date(t)).toDate();throw new Error("Cannot convert object of type "+h.getType(t)+" to type Date");case"Moment":if(h.isNumber(t))return o(t);if(t instanceof Date)return o(t.valueOf());if(o.isMoment(t))return o(t);if(h.isString(t))return i=r.exec(t),o(i?Number(i[1]):t);throw new Error("Cannot convert object of type "+h.getType(t)+" to type Date");case"ISODate":if(h.isNumber(t))return new Date(t);if(t instanceof Date)return t.toISOString();if(o.isMoment(t))return t.toDate().toISOString();if(h.isString(t))return(i=r.exec(t))?new Date(Number(i[1])).toISOString():o(t).format();throw new Error("Cannot convert object of type "+h.getType(t)+" to type ISODate");case"ASPDate":if(h.isNumber(t))return"/Date("+t+")/";if(t instanceof Date)return"/Date("+t.valueOf()+")/";if(h.isString(t))return"/Date("+((i=r.exec(t))?new Date(Number(i[1])):new Date(t)).valueOf()+")/";throw new Error("Cannot convert object of type "+h.getType(t)+" to type ASPDate");default:throw new Error('Unknown type "'+e+'"')}}},/^\/?Date\((\-?\d+)/i);h.getType=function(t){var e=void 0===t?"undefined":(0,s.default)(t);return"object"==e?null===t?"null":t instanceof Boolean?"Boolean":t instanceof Number?"Number":t instanceof String?"String":Array.isArray(t)?"Array":t instanceof Date?"Date":"Object":"number"==e?"Number":"boolean"==e?"Boolean":"string"==e?"String":void 0===e?"undefined":e},h.copyAndExtendArray=function(t,e){for(var i=[],o=0;o<t.length;o++)i.push(t[o]);return i.push(e),i},h.copyArray=function(t){for(var e=[],i=0;i<t.length;i++)e.push(t[i]);return e},h.getAbsoluteLeft=function(t){return t.getBoundingClientRect().left},h.getAbsoluteRight=function(t){return t.getBoundingClientRect().right},h.getAbsoluteTop=function(t){return t.getBoundingClientRect().top},h.addClassName=function(t,e){var i=t.className.split(" ");-1==i.indexOf(e)&&(i.push(e),t.className=i.join(" "))},h.removeClassName=function(t,e){var i=t.className.split(" "),e=i.indexOf(e);-1!=e&&(i.splice(e,1),t.className=i.join(" "))},h.forEach=function(t,e){var i,o;if(Array.isArray(t))for(i=0,o=t.length;i<o;i++)e(t[i],i,t);else for(i in t)t.hasOwnProperty(i)&&e(t[i],i,t)},h.toArray=function(t){var e,i=[];for(e in t)t.hasOwnProperty(e)&&i.push(t[e]);return i},h.updateProperty=function(t,e,i){return t[e]!==i&&(t[e]=i,!0)},h.throttle=function(t){var e=!1;return function(){e||(e=!0,requestAnimationFrame(function(){e=!1,t()}))}},h.addEventListener=function(t,e,i,o){t.addEventListener?(void 0===o&&(o=!1),"mousewheel"===e&&0<=navigator.userAgent.indexOf("Firefox")&&(e="DOMMouseScroll"),t.addEventListener(e,i,o)):t.attachEvent("on"+e,i)},h.removeEventListener=function(t,e,i,o){t.removeEventListener?(void 0===o&&(o=!1),"mousewheel"===e&&0<=navigator.userAgent.indexOf("Firefox")&&(e="DOMMouseScroll"),t.removeEventListener(e,i,o)):t.detachEvent("on"+e,i)},h.preventDefault=function(t){(t=t||window.event).preventDefault?t.preventDefault():t.returnValue=!1},h.getTarget=function(t){var e;return(t=t||window.event).target?e=t.target:t.srcElement&&(e=t.srcElement),e=null!=e.nodeType&&3==e.nodeType?e.parentNode:e},h.hasParent=function(t,e){for(var i=t;i;){if(i===e)return!0;i=i.parentNode}return!1},h.option={},h.option.asBoolean=function(t,e){return null!=(t="function"==typeof t?t():t)?0!=t:e||null},h.option.asNumber=function(t,e){return null!=(t="function"==typeof t?t():t)?Number(t)||e||null:e||null},h.option.asString=function(t,e){return null!=(t="function"==typeof t?t():t)?String(t):e||null},h.option.asSize=function(t,e){return"function"==typeof t&&(t=t()),h.isString(t)?t:h.isNumber(t)?t+"px":e||null},h.option.asElement=function(t,e){return(t="function"==typeof t?t():t)||e||null},h.hexToRGB=function(t){t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(t,e,i,o){return e+e+i+i+o+o});t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null},h.overrideOpacity=function(t,e){return-1!=t.indexOf("rgba")?t:-1==t.indexOf("rgb")?null==(i=h.hexToRGB(t))?t:"rgba("+i.r+","+i.g+","+i.b+","+e+")":"rgba("+(i=t.substr(t.indexOf("(")+1).replace(")","").split(","))[0]+","+i[1]+","+i[2]+","+e+")";var i},h.RGBToHex=function(t,e,i){return"#"+((1<<24)+(t<<16)+(e<<8)+i).toString(16).slice(1)},h.parseColor=function(t){var e,i;return!0===h.isString(t)?(!0===h.isValidRGB(t)&&(e=t.substr(4).substr(0,t.length-5).split(",").map(function(t){return parseInt(t)}),t=h.RGBToHex(e[0],e[1],e[2])),i=!0===h.isValidHex(t)?(i={h:(e=h.hexToHSV(t)).h,s:.8*e.s,v:Math.min(1,1.02*e.v)},e={h:e.h,s:Math.min(1,1.25*e.s),v:.8*e.v},{background:t,border:e=h.HSVToHex(e.h,e.s,e.v),highlight:{background:i=h.HSVToHex(i.h,i.s,i.v),border:e},hover:{background:i,border:e}}):{background:t,border:t,highlight:{background:t,border:t},hover:{background:t,border:t}}):((i={}).background=t.background||void 0,i.border=t.border||void 0,h.isString(t.highlight)?i.highlight={border:t.highlight,background:t.highlight}:(i.highlight={},i.highlight.background=t.highlight&&t.highlight.background||void 0,i.highlight.border=t.highlight&&t.highlight.border||void 0),h.isString(t.hover)?i.hover={border:t.hover,background:t.hover}:(i.hover={},i.hover.background=t.hover&&t.hover.background||void 0,i.hover.border=t.hover&&t.hover.border||void 0)),i},h.RGBToHSV=function(t,e,i){t/=255,e/=255,i/=255;var o=Math.min(t,Math.min(e,i)),n=Math.max(t,Math.max(e,i));return o==n?{h:0,s:0,v:o}:{h:60*((t==o?3:i==o?1:5)-(t==o?e-i:i==o?t-e:i-t)/(n-o))/360,s:(n-o)/n,v:n}};var a=function(t){var i={};return t.split(";").forEach(function(t){var e;""!=t.trim()&&(e=(t=t.split(":"))[0].trim(),t=t[1].trim(),i[e]=t)}),i},d=function(e){return(0,u.default)(e).map(function(t){return t+": "+e[t]}).join("; ")};h.addCssText=function(t,e){var i=a(t.style.cssText),e=a(e),i=h.extend(i,e);t.style.cssText=d(i)},h.removeCssText=function(t,e){var i,o=a(t.style.cssText),n=a(e);for(i in n)n.hasOwnProperty(i)&&delete o[i];t.style.cssText=d(o)},h.HSVToRGB=function(t,e,i){var o,n,s,r=Math.floor(6*t),t=6*t-r,a=i*(1-e),h=i*(1-t*e),d=i*(1-(1-t)*e);switch(r%6){case 0:o=i,n=d,s=a;break;case 1:o=h,n=i,s=a;break;case 2:o=a,n=i,s=d;break;case 3:o=a,n=h,s=i;break;case 4:o=d,n=a,s=i;break;case 5:o=i,n=a,s=h}return{r:Math.floor(255*o),g:Math.floor(255*n),b:Math.floor(255*s)}},h.HSVToHex=function(t,e,i){t=h.HSVToRGB(t,e,i);return h.RGBToHex(t.r,t.g,t.b)},h.hexToHSV=function(t){t=h.hexToRGB(t);return h.RGBToHSV(t.r,t.g,t.b)},h.isValidHex=function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},h.isValidRGB=function(t){return t=t.replace(" ",""),/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/i.test(t)},h.isValidRGBA=function(t){return t=t.replace(" ",""),/rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),(.{1,3})\)/i.test(t)},h.selectiveBridgeObject=function(t,e){if("object"!=(void 0===e?"undefined":(0,s.default)(e)))return null;for(var i=(0,n.default)(e),o=0;o<t.length;o++)e.hasOwnProperty(t[o])&&"object"==(0,s.default)(e[t[o]])&&(i[t[o]]=h.bridgeObject(e[t[o]]));return i},h.bridgeObject=function(t){if("object"!=(void 0===t?"undefined":(0,s.default)(t)))return null;var e,i=(0,n.default)(t);for(e in t)t.hasOwnProperty(e)&&"object"==(0,s.default)(t[e])&&(i[e]=h.bridgeObject(t[e]));return i},h.insertSort=function(t,e){for(var i=0;i<t.length;i++){for(var o=t[i],n=i;0<n&&e(o,t[n-1])<0;n--)t[n]=t[n-1];t[n]=o}return t},h.mergeOptions=function(t,e,i){if(null===e[i])t[i]=(0,n.default)((4<arguments.length&&void 0!==arguments[4]?arguments[4]:{})[i]);else if(void 0!==e[i])if("boolean"==typeof e[i])t[i].enabled=e[i];else for(var o in void 0===e[i].enabled&&(t[i].enabled=!0),e[i])e[i].hasOwnProperty(o)&&(t[i][o]=e[i][o])},h.binarySearchCustom=function(t,e,i,o){for(var n=0,s=0,r=t.length-1;s<=r&&n<1e4;){var a=Math.floor((s+r)/2),h=t[a],h=e(void 0===o?h[i]:h[i][o]);if(0==h)return a;-1==h?s=a+1:r=a-1,n++}return-1},h.binarySearchValue=function(t,e,i,o,n){for(var s,r,l,a,u=0,h=0,d=t.length-1,n=null!=n?n:function(t,e){return t==e?0:t<e?-1:1};h<=d&&u<1e4;){if(a=Math.floor(.5*(d+h)),s=t[Math.max(0,a-1)][i],r=t[a][i],l=t[Math.min(t.length-1,a+1)][i],0==n(r,e))return a;if(n(s,e)<0&&0<n(r,e))return"before"==o?Math.max(0,a-1):a;if(n(r,e)<0&&0<n(l,e))return"before"==o?a:Math.min(t.length-1,a+1);n(r,e)<0?h=a+1:d=a-1,u++}return-1},h.easingFunctions={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:(4-2*t)*t-1},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}},h.getScrollBarWidth=function(){var t=document.createElement("p"),e=(t.style.width="100%",t.style.height="200px",document.createElement("div")),i=(e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.visibility="hidden",e.style.width="200px",e.style.height="150px",e.style.overflow="hidden",e.appendChild(t),document.body.appendChild(e),t.offsetWidth),t=(e.style.overflow="scroll",t.offsetWidth);return i==t&&(t=e.clientWidth),document.body.removeChild(e),i-t},h.topMost=function(t,e){var i=void 0,o=(Array.isArray(e)||(e=[e]),!0),n=!1,s=void 0;try{for(var r,a=(0,l.default)(t);!(o=(r=a.next()).done);o=!0){var h=r.value;if(h){for(var i=h[e[0]],d=1;d<e.length;d++)i=i&&i[e[d]];if(void 0!==i)break}}}catch(t){n=!0,s=t}finally{try{!o&&a.return&&a.return()}finally{if(n)throw s}}return i}},function(t,e,i){t.exports={default:i(3),__esModule:!0}},function(t,e,i){i(4),i(50),t.exports=i(52)},function(d,l,t){t(5);for(var e=t(16),i=t(20),o=t(8),n=t(47)("toStringTag"),s=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],r=0;r<5;r++){var a=s[r],h=e[a],h=h&&h.prototype;h&&!h[n]&&i(h,n,a),o[a]=o.Array}},function(t,e,i){var o=i(6),n=i(7),s=i(8),r=i(9);t.exports=i(13)(Array,"Array",function(t,e){this._t=r(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,i=this._i++;return!t||i>=t.length?(this._t=void 0,n(1)):n(0,"keys"==e?i:"values"==e?t[i]:[i,t[i]])},"values"),s.Arguments=s.Array,o("keys"),o("values"),o("entries")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e){t.exports={}},function(t,e,i){var o=i(10),n=i(12);t.exports=function(t){return o(n(t))}},function(t,e,i){var o=i(11);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==o(t)?t.split(""):Object(t)}},function(t,e){var i={}.toString;t.exports=function(t){return i.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,i,e){function y(){return this}var b=e(14),_=e(15),M=e(30),w=e(20),D=e(31),x=e(8),C=e(32),T=e(46),E=e(48),k=e(47)("iterator"),O=!([].keys&&"next"in[].keys()),S="values";t.exports=function(l,t,e,u,i,c,p){C(e,t,u);function o(t){if(!O&&t in a)return a[t];switch(t){case"keys":case S:return function(){return new e(this,t)}}return function(){return new e(this,t)}}var n,s,r,u=t+" Iterator",f=i==S,m=!1,a=l.prototype,h=a[k]||a["@@iterator"]||i&&a[i],d=h||o(i),g=i?f?o("entries"):d:void 0,v="Array"==t&&a.entries||h;if(v&&(r=E(v.call(new l)))!==Object.prototype&&(T(r,u,!0),b||D(r,k)||w(r,k,y)),f&&h&&h.name!==S&&(m=!0,d=function(){return h.call(this)}),b&&!p||!O&&!m&&a[k]||w(a,k,d),x[t]=d,x[u]=y,i)if(n={values:f?d:o(S),keys:c?d:o("keys"),entries:g},p)for(s in n)s in a||M(a,s,n[s]);else _(_.P+_.F*(O||m),t,n);return n}},function(t,e){t.exports=!0},function(t,e,i){function m(t,e,i){var o,n,s,l=t&m.F,r=t&m.G,u=t&m.S,c=t&m.P,p=t&m.B,f=t&m.W,a=r?v:v[e]||(v[e]={}),h=a[_],d=r?g:u?g[e]:(g[e]||{})[_];for(o in i=r?e:i)(n=!l&&d&&void 0!==d[o])&&o in a||(s=(n?d:i)[o],a[o]=r&&"function"!=typeof d[o]?i[o]:p&&n?y(s,g):f&&d[o]==s?function(o){function t(t,e,i){if(this instanceof o){switch(arguments.length){case 0:return new o;case 1:return new o(t);case 2:return new o(t,e)}return new o(t,e,i)}return o.apply(this,arguments)}return t[_]=o[_],t}(s):c&&"function"==typeof s?y(Function.call,s):s,c&&((a.virtual||(a.virtual={}))[o]=s,t&m.R&&h&&!h[o]&&b(h,o,s)))}var g=i(16),v=i(17),y=i(18),b=i(20),_="prototype";m.F=1,m.G=2,m.S=4,m.P=8,m.B=16,m.W=32,m.U=64,m.R=128,t.exports=m},function(t,e){t=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},function(t,e){t=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=t)},function(t,e,i){var s=i(19);t.exports=function(o,n,t){if(s(o),void 0===n)return o;switch(t){case 1:return function(t){return o.call(n,t)};case 2:return function(t,e){return o.call(n,t,e)};case 3:return function(t,e,i){return o.call(n,t,e,i)}}return function(){return o.apply(n,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,i){var o=i(21),n=i(29);t.exports=i(25)?function(t,e,i){return o.f(t,e,n(1,i))}:function(t,e,i){return t[e]=i,t}},function(t,e,i){var o=i(22),n=i(24),s=i(28),r=Object.defineProperty;e.f=i(25)?Object.defineProperty:function(t,e,i){if(o(t),e=s(e,!0),o(i),n)try{return r(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(t[e]=i.value),t}},function(t,e,i){var o=i(23);t.exports=function(t){if(!o(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,i){t.exports=!i(25)&&!i(26)(function(){return 7!=Object.defineProperty(i(27)("div"),"a",{get:function(){return 7}}).a})},function(t,e,i){t.exports=!i(26)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,i){var o=i(23),n=i(16).document,s=o(n)&&o(n.createElement);t.exports=function(t){return s?n.createElement(t):{}}},function(t,e,i){var n=i(23);t.exports=function(t,e){if(!n(t))return t;var i,o;if(e&&"function"==typeof(i=t.toString)&&!n(o=i.call(t)))return o;if("function"==typeof(i=t.valueOf)&&!n(o=i.call(t)))return o;if(!e&&"function"==typeof(i=t.toString)&&!n(o=i.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,i){t.exports=i(20)},function(t,e){var i={}.hasOwnProperty;t.exports=function(t,e){return i.call(t,e)}},function(t,e,i){var o=i(33),n=i(29),s=i(46),r={};i(20)(r,i(47)("iterator"),function(){return this}),t.exports=function(t,e,i){t.prototype=o(r,{next:n(1,i)}),s(t,e+" Iterator")}},function(t,e,i){function o(){}var n=i(22),s=i(34),r=i(44),a=i(41)("IE_PROTO"),h="prototype",d=function(){var t=i(27)("iframe"),e=r.length;for(t.style.display="none",i(45).appendChild(t),t.src="javascript:",(t=t.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),d=t.F;e--;)delete d[h][r[e]];return d()};t.exports=Object.create||function(t,e){var i;return null!==t?(o[h]=n(t),i=new o,o[h]=null,i[a]=t):i=d(),void 0===e?i:s(i,e)}},function(t,e,i){var r=i(21),a=i(22),h=i(35);t.exports=i(25)?Object.defineProperties:function(t,e){a(t);for(var i,o=h(e),n=o.length,s=0;s<n;)r.f(t,i=o[s++],e[i]);return t}},function(t,e,i){var o=i(36),n=i(44);t.exports=Object.keys||function(t){return o(t,n)}},function(t,e,i){var r=i(31),a=i(9),h=i(37)(!1),d=i(41)("IE_PROTO");t.exports=function(t,e){var i,o=a(t),n=0,s=[];for(i in o)i!=d&&r(o,i)&&s.push(i);for(;e.length>n;)r(o,i=e[n++])&&(~h(s,i)||s.push(i));return s}},function(t,e,i){var h=i(9),d=i(38),l=i(40);t.exports=function(a){return function(t,e,i){var o,n=h(t),s=d(n.length),r=l(i,s);if(a&&e!=e){for(;r<s;)if((o=n[r++])!=o)return!0}else for(;r<s;r++)if((a||r in n)&&n[r]===e)return a||r||0;return!a&&-1}}},function(t,e,i){var o=i(39),n=Math.min;t.exports=function(t){return 0<t?n(o(t),9007199254740991):0}},function(t,e){var i=Math.ceil,o=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(0<t?o:i)(t)}},function(t,e,i){var o=i(39),n=Math.max,s=Math.min;t.exports=function(t,e){return(t=o(t))<0?n(t+e,0):s(t,e)}},function(t,e,i){var o=i(42)("keys"),n=i(43);t.exports=function(t){return o[t]||(o[t]=n(t))}},function(t,e,i){var i=i(16),o="__core-js_shared__",n=i[o]||(i[o]={});t.exports=function(t){return n[t]||(n[t]={})}},function(t,e){var i=0,o=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++i+o).toString(36))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,i){t.exports=i(16).document&&document.documentElement},function(t,e,i){var o=i(21).f,n=i(31),s=i(47)("toStringTag");t.exports=function(t,e,i){t&&!n(t=i?t:t.prototype,s)&&o(t,s,{configurable:!0,value:e})}},function(t,e,i){var o=i(42)("wks"),n=i(43),s=i(16).Symbol,r="function"==typeof s;(t.exports=function(t){return o[t]||(o[t]=r&&s[t]||(r?s:n)("Symbol."+t))}).store=o},function(t,e,i){var o=i(31),n=i(49),s=i(41)("IE_PROTO"),r=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=n(t),o(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?r:null}},function(t,e,i){var o=i(12);t.exports=function(t){return Object(o(t))}},function(t,e,i){var o=i(51)(!0);i(13)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t=this._t,e=this._i;return e>=t.length?{value:void 0,done:!0}:(t=o(t,e),this._i+=t.length,{value:t,done:!1})})},function(t,e,i){var r=i(39),a=i(12);t.exports=function(s){return function(t,e){var i,o,t=String(a(t)),e=r(e),n=t.length;return e<0||n<=e?s?"":void 0:(i=t.charCodeAt(e))<55296||56319<i||e+1===n||(o=t.charCodeAt(e+1))<56320||57343<o?s?t.charAt(e):i:s?t.slice(e,e+2):o-56320+(i-55296<<10)+65536}}},function(t,e,i){var o=i(22),n=i(53);t.exports=i(17).getIterator=function(t){var e=n(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return o(e.call(t))}},function(t,e,i){var o=i(54),n=i(47)("iterator"),s=i(8);t.exports=i(17).getIteratorMethod=function(t){if(null!=t)return t[n]||t["@@iterator"]||s[o(t)]}},function(t,e,i){var o=i(11),n=i(47)("toStringTag"),s="Arguments"==o(function(){return arguments}());t.exports=function(t){var e;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(e=function(t,e){try{return t[e]}catch(t){}}(t=Object(t),n))?e:s?o(t):"Object"==(e=o(t))&&"function"==typeof t.callee?"Arguments":e}},function(t,e,i){t.exports={default:i(56),__esModule:!0}},function(t,e,i){i(57);var o=i(17).Object;t.exports=function(t,e){return o.create(t,e)}},function(t,e,i){var o=i(15);o(o.S,"Object",{create:i(33)})},function(t,e,i){t.exports={default:i(59),__esModule:!0}},function(t,e,i){i(60),t.exports=i(17).Object.keys},function(t,e,i){var o=i(49),n=i(35);i(61)("keys",function(){return function(t){return n(o(t))}})},function(t,e,i){var n=i(15),s=i(17),r=i(26);t.exports=function(t,e){var i=(s.Object||{})[t]||Object[t],o={};o[t]=e(i),n(n.S+n.F*r(function(){i(1)}),"Object",o)}},function(t,e,i){e.__esModule=!0;var o=r(i(63)),n=r(i(66)),s="function"==typeof n.default&&"symbol"==typeof o.default?function(t){return typeof t}:function(t){return t&&"function"==typeof n.default&&t.constructor===n.default&&t!==n.default.prototype?"symbol":typeof t};function r(t){return t&&t.__esModule?t:{default:t}}e.default="function"==typeof n.default&&"symbol"===s(o.default)?function(t){return void 0===t?"undefined":s(t)}:function(t){return t&&"function"==typeof n.default&&t.constructor===n.default&&t!==n.default.prototype?"symbol":void 0===t?"undefined":s(t)}},function(t,e,i){t.exports={default:i(64),__esModule:!0}},function(t,e,i){i(50),i(4),t.exports=i(65).f("iterator")},function(t,e,i){e.f=i(47)},function(t,e,i){t.exports={default:i(67),__esModule:!0}},function(t,e,i){i(68),i(79),i(80),i(81),t.exports=i(17).Symbol},function(l,u,t){function c(t){var e=h[t]=z(o[s]);return e._k=t,e}function p(t,e){P(t);for(var i,o=T(e=I(e)),n=0,s=o.length;n<s;)Q(t,i=o[n++],e[i]);return t}function f(t){var e=V.call(this,t=N(t,!0));return!(this===d&&r(h,t)&&!r(q,t))&&(!(e||!r(this,t)||!r(h,t)||r(this,a)&&this[a][t])||e)}function m(t,e){var i;if(t=I(t),e=N(e,!0),t!==d||!r(h,e)||r(q,e))return!(i=j(t,e))||!r(h,e)||r(t,a)&&t[a][e]||(i.enumerable=!0),i}function g(t){for(var e,i=H(I(t)),o=[],n=0;i.length>n;)r(h,e=i[n++])||e==a||e==w||o.push(e);return o}function v(t){for(var e,i=t===d,o=H(i?q:I(t)),n=[],s=0;o.length>s;)!r(h,e=o[s++])||i&&!r(d,e)||n.push(h[e]);return n}var y=t(16),r=t(31),b=t(25),e=t(15),_=t(30),w=t(69).KEY,x=t(26),i=t(42),k=t(46),O=t(43),S=t(47),M=t(65),D=t(70),C=t(71),T=t(72),E=t(75),P=t(22),I=t(9),N=t(28),R=t(29),z=t(33),A=t(76),L=t(78),F=t(21),B=t(35),j=L.f,n=F.f,H=A.f,o=y.Symbol,W=y.JSON,Y=W&&W.stringify,s="prototype",a=S("_hidden"),G=S("toPrimitive"),V={}.propertyIsEnumerable,U=i("symbol-registry"),h=i("symbols"),q=i("op-symbols"),d=Object[s],i="function"==typeof o,X=y.QObject,Z=!X||!X[s]||!X[s].findChild,K=b&&x(function(){return 7!=z(n({},"a",{get:function(){return n(this,"a",{value:7}).a}})).a})?function(t,e,i){var o=j(d,e);o&&delete d[e],n(t,e,i),o&&t!==d&&n(d,e,o)}:n,J=i&&"symbol"==typeof o.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof o},Q=function(t,e,i){return t===d&&Q(q,e,i),P(t),e=N(e,!0),P(i),r(h,e)?(i.enumerable?(r(t,a)&&t[a][e]&&(t[a][e]=!1),i=z(i,{enumerable:R(0,!1)})):(r(t,a)||n(t,a,R(1,{})),t[a][e]=!0),K(t,e,i)):n(t,e,i)};i||(_((o=function(){if(this instanceof o)throw TypeError("Symbol is not a constructor!");var e=O(0<arguments.length?arguments[0]:void 0),i=function(t){this===d&&i.call(q,t),r(this,a)&&r(this[a],e)&&(this[a][e]=!1),K(this,e,R(1,t))};return b&&Z&&K(d,e,{configurable:!0,set:i}),c(e)})[s],"toString",function(){return this._k}),L.f=m,F.f=Q,t(77).f=A.f=g,t(74).f=f,t(73).f=v,b&&!t(14)&&_(d,"propertyIsEnumerable",f,!0),M.f=function(t){return c(S(t))}),e(e.G+e.W+e.F*!i,{Symbol:o});for(var $="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;$.length>tt;)S($[tt++]);for($=B(S.store),tt=0;$.length>tt;)D($[tt++]);e(e.S+e.F*!i,"Symbol",{for:function(t){return r(U,t+="")?U[t]:U[t]=o(t)},keyFor:function(t){if(J(t))return C(U,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){Z=!0},useSimple:function(){Z=!1}}),e(e.S+e.F*!i,"Object",{create:function(t,e){return void 0===e?z(t):p(z(t),e)},defineProperty:Q,defineProperties:p,getOwnPropertyDescriptor:m,getOwnPropertyNames:g,getOwnPropertySymbols:v}),W&&e(e.S+e.F*(!i||x(function(){var t=o();return"[null]"!=Y([t])||"{}"!=Y({a:t})||"{}"!=Y(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!J(t)){for(var i,e=[t],o=1;o<arguments.length;)e.push(arguments[o++]);return t=e[1],!(i="function"==typeof t?t:i)&&E(t)||(t=function(t,e){if(i&&(e=i.call(this,t,e)),!J(e))return e}),e[1]=t,Y.apply(W,e)}}}),o[s][G]||t(20)(o[s],G,o[s].valueOf),k(o,"Symbol"),k(Math,"Math",!0),k(y.JSON,"JSON",!0)},function(t,l,e){function i(t){r(t,o,{value:{i:"O"+ ++a,w:{}}})}var o=e(43)("meta"),n=e(23),s=e(31),r=e(21).f,a=0,h=Object.isExtensible||function(){return!0},d=!e(26)(function(){return h(Object.preventExtensions({}))}),u=t.exports={KEY:o,NEED:!1,fastKey:function(t,e){if(!n(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!s(t,o)){if(!h(t))return"F";if(!e)return"E";i(t)}return t[o].i},getWeak:function(t,e){if(!s(t,o)){if(!h(t))return!0;if(!e)return!1;i(t)}return t[o].w},onFreeze:function(t){return d&&u.NEED&&h(t)&&!s(t,o)&&i(t),t}}},function(t,e,i){var o=i(16),n=i(17),s=i(14),r=i(65),a=i(21).f;t.exports=function(t){var e=n.Symbol||(n.Symbol=!s&&o.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:r.f(t)})}},function(t,e,i){var a=i(35),h=i(9);t.exports=function(t,e){for(var i,o=h(t),n=a(o),s=n.length,r=0;r<s;)if(o[i=n[r++]]===e)return i}},function(t,e,i){var a=i(35),h=i(73),d=i(74);t.exports=function(t){var e=a(t),i=h.f;if(i)for(var o,n=i(t),s=d.f,r=0;n.length>r;)s.call(t,o=n[r++])&&e.push(o);return e}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,i){var o=i(11);t.exports=Array.isArray||function(t){return"Array"==o(t)}},function(t,e,i){var o=i(9),n=i(77).f,s={}.toString,r="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){if(!r||"[object Window]"!=s.call(t))return n(o(t));try{return n(t)}catch(t){return r.slice()}}},function(t,e,i){var o=i(36),n=i(44).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return o(t,n)}},function(d,t,e){var i=e(74),o=e(29),n=e(9),s=e(28),r=e(31),a=e(24),h=Object.getOwnPropertyDescriptor;t.f=e(25)?h:function(t,e){if(t=n(t),e=s(e,!0),a)try{return h(t,e)}catch(t){}if(r(t,e))return o(!i.f.call(t,e),t[e])}},function(t,e){},function(t,e,i){i(70)("asyncIterator")},function(t,e,i){i(70)("observable")},function(t,e,i){t.exports="undefined"!=typeof window&&window.moment||i(83)},function(t,e,i){!function(pi){var t;t=function(){var a;function p(){return a.apply(null,arguments)}function h(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function d(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function u(t){return void 0===t}function c(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function m(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function g(t,e){for(var i=[],o=0;o<t.length;++o)i.push(e(t[o],o));return i}function v(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function y(t,e){for(var i in e)v(e,i)&&(t[i]=e[i]);return v(e,"toString")&&(t.toString=e.toString),v(e,"valueOf")&&(t.valueOf=e.valueOf),t}function b(t,e,i,o){return Se(t,e,i,o,!0).utc()}function f(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}var _=Array.prototype.some||function(t){for(var e=Object(this),i=e.length>>>0,o=0;o<i;o++)if(o in e&&t.call(this,e[o],o,e))return!0;return!1};function w(t){if(null==t._isValid){var e=f(t),i=_.call(e.parsedDateParts,function(t){return null!=t}),i=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&i);if(t._strict&&(i=i&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return i;t._isValid=i}return t._isValid}function x(t){var e=b(NaN);return null!=t?y(f(e),t):f(e).userInvalidated=!0,e}var k=p.momentProperties=[];function O(t,e){var i,o,n;if(u(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),u(e._i)||(t._i=e._i),u(e._f)||(t._f=e._f),u(e._l)||(t._l=e._l),u(e._strict)||(t._strict=e._strict),u(e._tzm)||(t._tzm=e._tzm),u(e._isUTC)||(t._isUTC=e._isUTC),u(e._offset)||(t._offset=e._offset),u(e._pf)||(t._pf=f(e)),u(e._locale)||(t._locale=e._locale),0<k.length)for(i=0;i<k.length;i++)u(n=e[o=k[i]])||(t[o]=n);return t}var S=!1;function M(t){O(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===S&&(S=!0,p.updateOffset(this),S=!1)}function D(t){return t instanceof M||null!=t&&null!=t._isAMomentObject}function C(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function l(t){var t=+t,e=0;return e=0!=t&&isFinite(t)?C(t):e}function T(t,e,i){for(var o=Math.min(t.length,e.length),n=Math.abs(t.length-e.length),s=0,r=0;r<o;r++)(i&&t[r]!==e[r]||!i&&l(t[r])!==l(e[r]))&&s++;return s+n}function E(t){!1===p.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function P(n,s){var r=!0;return y(function(){if(null!=p.deprecationHandler&&p.deprecationHandler(null,n),r){for(var t,e=[],i=0;i<arguments.length;i++){if(t="","object"==typeof arguments[i]){for(var o in t+="\n["+i+"] ",arguments[0])t+=o+": "+arguments[0][o]+", ";t=t.slice(0,-2)}else t=arguments[i];e.push(t)}E(n+"\nArguments: "+Array.prototype.slice.call(e).join("")+"\n"+(new Error).stack),r=!1}return s.apply(this,arguments)},s)}var I={};function N(t,e){null!=p.deprecationHandler&&p.deprecationHandler(t,e),I[t]||(E(e),I[t]=!0)}function R(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function z(t,e){var i,o=y({},t);for(i in e)v(e,i)&&(d(t[i])&&d(e[i])?(o[i]={},y(o[i],t[i]),y(o[i],e[i])):null!=e[i]?o[i]=e[i]:delete o[i]);for(i in t)v(t,i)&&!v(e,i)&&d(t[i])&&(o[i]=y({},o[i]));return o}function A(t){null!=t&&this.set(t)}p.suppressDeprecationWarnings=!1,p.deprecationHandler=null;var L=Object.keys||function(t){var e,i=[];for(e in t)v(t,e)&&i.push(e);return i};var F={};function B(t,e){var i=t.toLowerCase();F[i]=F[i+"s"]=F[e]=t}function j(t){return"string"==typeof t?F[t]||F[t.toLowerCase()]:void 0}function H(t){var e,i,o={};for(i in t)v(t,i)&&(e=j(i))&&(o[e]=t[i]);return o}var W={};function Y(t,e){W[t]=e}function G(e,i){return function(t){return null!=t?(U(this,e,t),p.updateOffset(this,i),this):V(this,e)}}function V(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function U(t,e,i){t.isValid()&&t._d["set"+(t._isUTC?"UTC":"")+e](i)}function q(t,e,i){var o=""+Math.abs(t);return(0<=t?i?"+":"":"-")+Math.pow(10,Math.max(0,e-o.length)).toString().substr(1)+o}var X=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Z=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,K={},J={};function o(t,e,i,o){var n="string"==typeof o?function(){return this[o]()}:o;t&&(J[t]=n),e&&(J[e[0]]=function(){return q(n.apply(this,arguments),e[1],e[2])}),i&&(J[i]=function(){return this.localeData().ordinal(n.apply(this,arguments),t)})}function Q(t,e){return t.isValid()?(e=$(e,t.localeData()),K[e]=K[e]||function(o){for(var t,n=o.match(X),e=0,s=n.length;e<s;e++)J[n[e]]?n[e]=J[n[e]]:n[e]=(t=n[e]).match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"");return function(t){for(var e="",i=0;i<s;i++)e+=R(n[i])?n[i].call(t,o):n[i];return e}}(e),K[e](t)):t.localeData().invalidDate()}function $(t,e){var i=5;function o(t){return e.longDateFormat(t)||t}for(Z.lastIndex=0;0<=i&&Z.test(t);)t=t.replace(Z,o),Z.lastIndex=0,--i;return t}var tt=/\d/,et=/\d\d/,it=/\d{3}/,ot=/\d{4}/,t=/[+-]?\d{6}/,i=/\d\d?/,nt=/\d\d\d\d?/,st=/\d\d\d\d\d\d?/,rt=/\d{1,3}/,at=/\d{1,4}/,e=/[+-]?\d{1,6}/,ht=/\d+/,dt=/[+-]?\d+/,lt=/Z|[+-]\d\d:?\d\d/gi,ut=/Z|[+-]\d\d(?::?\d\d)?/gi,ct=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,pt={};function n(t,i,o){pt[t]=R(i)?i:function(t,e){return t&&o?o:i}}function ft(t,e){return v(pt,t)?pt[t](e._strict,e._locale):new RegExp(mt(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,i,o,n){return e||i||o||n})))}function mt(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var gt={};function s(t,i){var e,o=i;for("string"==typeof t&&(t=[t]),c(i)&&(o=function(t,e){e[i]=l(t)}),e=0;e<t.length;e++)gt[t[e]]=o}function vt(t,n){s(t,function(t,e,i,o){i._w=i._w||{},n(t,i._w,i,o)})}var yt=0,bt=1,_t=2,wt=3,xt=4,kt=5,Ot=6,St=7,Mt=8,Dt=Array.prototype.indexOf||function(t){for(var e=0;e<this.length;++e)if(this[e]===t)return e;return-1},Ct=Dt;function Tt(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}o("M",["MM",2],"Mo",function(){return this.month()+1}),o("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),o("MMMM",0,0,function(t){return this.localeData().months(this,t)}),B("month","M"),Y("month",8),n("M",i),n("MM",i,et),n("MMM",function(t,e){return e.monthsShortRegex(t)}),n("MMMM",function(t,e){return e.monthsRegex(t)}),s(["M","MM"],function(t,e){e[bt]=l(t)-1}),s(["MMM","MMMM"],function(t,e,i,o){o=i._locale.monthsParse(t,o,i._strict);null!=o?e[bt]=o:f(i).invalidMonth=t});var Et=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Dt="January_February_March_April_May_June_July_August_September_October_November_December".split("_");var Pt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function It(t,e){var i;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=l(e);else if(!c(e=t.localeData().monthsParse(e)))return t;return i=Math.min(t.date(),Tt(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,i),t}function Nt(t){return null!=t?(It(this,t),p.updateOffset(this,!0),this):V(this,"Month")}var Rt=ct;var zt=ct;function At(){function t(t,e){return e.length-t.length}for(var e,i=[],o=[],n=[],s=0;s<12;s++)e=b([2e3,s]),i.push(this.monthsShort(e,"")),o.push(this.months(e,"")),n.push(this.months(e,"")),n.push(this.monthsShort(e,""));for(i.sort(t),o.sort(t),n.sort(t),s=0;s<12;s++)i[s]=mt(i[s]),o[s]=mt(o[s]);for(s=0;s<24;s++)n[s]=mt(n[s]);this._monthsRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function Lt(t){return Ft(t)?366:365}function Ft(t){return t%4==0&&t%100!=0||t%400==0}o("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),o(0,["YY",2],0,function(){return this.year()%100}),o(0,["YYYY",4],0,"year"),o(0,["YYYYY",5],0,"year"),o(0,["YYYYYY",6,!0],0,"year"),B("year","y"),Y("year",1),n("Y",dt),n("YY",i,et),n("YYYY",at,ot),n("YYYYY",e,t),n("YYYYYY",e,t),s(["YYYYY","YYYYYY"],yt),s("YYYY",function(t,e){e[yt]=2===t.length?p.parseTwoDigitYear(t):l(t)}),s("YY",function(t,e){e[yt]=p.parseTwoDigitYear(t)}),s("Y",function(t,e){e[yt]=parseInt(t,10)}),p.parseTwoDigitYear=function(t){return l(t)+(68<l(t)?1900:2e3)};var Bt=G("FullYear",!0);function jt(t,e,i,o,n,s,r){e=new Date(t,e,i,o,n,s,r);return t<100&&0<=t&&isFinite(e.getFullYear())&&e.setFullYear(t),e}function Ht(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&0<=t&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function Wt(t,e,i){i=7+e-i;return i-(7+Ht(t,0,i).getUTCDay()-e)%7-1}function Yt(t,e,i,o,n){var s,e=1+7*(e-1)+(7+i-o)%7+Wt(t,o,n),i=e<=0?Lt(s=t-1)+e:e>Lt(t)?(s=t+1,e-Lt(t)):(s=t,e);return{year:s,dayOfYear:i}}function Gt(t,e,i){var o,n,s=Wt(t.year(),e,i),s=Math.floor((t.dayOfYear()-s-1)/7)+1;return s<1?o=s+Vt(n=t.year()-1,e,i):s>Vt(t.year(),e,i)?(o=s-Vt(t.year(),e,i),n=t.year()+1):(n=t.year(),o=s),{week:o,year:n}}function Vt(t,e,i){var o=Wt(t,e,i),e=Wt(t+1,e,i);return(Lt(t)-o+e)/7}o("w",["ww",2],"wo","week"),o("W",["WW",2],"Wo","isoWeek"),B("week","w"),B("isoWeek","W"),Y("week",5),Y("isoWeek",5),n("w",i),n("ww",i,et),n("W",i),n("WW",i,et),vt(["w","ww","W","WW"],function(t,e,i,o){e[o.substr(0,1)]=l(t)});o("d",0,"do","day"),o("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),o("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),o("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),o("e",0,0,"weekday"),o("E",0,0,"isoWeekday"),B("day","d"),B("weekday","e"),B("isoWeekday","E"),Y("day",11),Y("weekday",11),Y("isoWeekday",11),n("d",i),n("e",i),n("E",i),n("dd",function(t,e){return e.weekdaysMinRegex(t)}),n("ddd",function(t,e){return e.weekdaysShortRegex(t)}),n("dddd",function(t,e){return e.weekdaysRegex(t)}),vt(["dd","ddd","dddd"],function(t,e,i,o){o=i._locale.weekdaysParse(t,o,i._strict);null!=o?e.d=o:f(i).invalidWeekday=t}),vt(["d","e","E"],function(t,e,i,o){e[o]=l(t)});var Ut="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");var qt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");var Xt="Su_Mo_Tu_We_Th_Fr_Sa".split("_");var Zt=ct;var Kt=ct;var Jt=ct;function Qt(){function t(t,e){return e.length-t.length}for(var e,i,o,n=[],s=[],r=[],a=[],h=0;h<7;h++)o=b([2e3,1]).day(h),e=this.weekdaysMin(o,""),i=this.weekdaysShort(o,""),o=this.weekdays(o,""),n.push(e),s.push(i),r.push(o),a.push(e),a.push(i),a.push(o);for(n.sort(t),s.sort(t),r.sort(t),a.sort(t),h=0;h<7;h++)s[h]=mt(s[h]),r[h]=mt(r[h]),a[h]=mt(a[h]);this._weekdaysRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+n.join("|")+")","i")}function $t(){return this.hours()%12||12}function te(t,e){o(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function ee(t,e){return e._meridiemParse}o("H",["HH",2],0,"hour"),o("h",["hh",2],0,$t),o("k",["kk",2],0,function(){return this.hours()||24}),o("hmm",0,0,function(){return""+$t.apply(this)+q(this.minutes(),2)}),o("hmmss",0,0,function(){return""+$t.apply(this)+q(this.minutes(),2)+q(this.seconds(),2)}),o("Hmm",0,0,function(){return""+this.hours()+q(this.minutes(),2)}),o("Hmmss",0,0,function(){return""+this.hours()+q(this.minutes(),2)+q(this.seconds(),2)}),te("a",!0),te("A",!1),B("hour","h"),Y("hour",13),n("a",ee),n("A",ee),n("H",i),n("h",i),n("k",i),n("HH",i,et),n("hh",i,et),n("kk",i,et),n("hmm",nt),n("hmmss",st),n("Hmm",nt),n("Hmmss",st),s(["H","HH"],wt),s(["k","kk"],function(t,e,i){t=l(t);e[wt]=24===t?0:t}),s(["a","A"],function(t,e,i){i._isPm=i._locale.isPM(t),i._meridiem=t}),s(["h","hh"],function(t,e,i){e[wt]=l(t),f(i).bigHour=!0}),s("hmm",function(t,e,i){var o=t.length-2;e[wt]=l(t.substr(0,o)),e[xt]=l(t.substr(o)),f(i).bigHour=!0}),s("hmmss",function(t,e,i){var o=t.length-4,n=t.length-2;e[wt]=l(t.substr(0,o)),e[xt]=l(t.substr(o,2)),e[kt]=l(t.substr(n)),f(i).bigHour=!0}),s("Hmm",function(t,e,i){var o=t.length-2;e[wt]=l(t.substr(0,o)),e[xt]=l(t.substr(o))}),s("Hmmss",function(t,e,i){var o=t.length-4,n=t.length-2;e[wt]=l(t.substr(0,o)),e[xt]=l(t.substr(o,2)),e[kt]=l(t.substr(n))});var ie,ct=G("Hours",!0),oe={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Dt,monthsShort:Pt,week:{dow:0,doy:6},weekdays:Ut,weekdaysMin:Xt,weekdaysShort:qt,meridiemParse:/[ap]\.?m?\.?/i},ne={},se={};function re(t){return t&&t.toLowerCase().replace("_","-")}function ae(t){if(!ne[t]&&void 0!==pi&&pi&&pi.exports)try{ie._abbr;var e=new Error('Cannot find module "./locale"');throw e.code="MODULE_NOT_FOUND",e}catch(t){}return ne[t]}function he(t,e){var i;return(ie=t&&(i=u(e)?le(t):de(t,e))?i:ie)._abbr}function de(t,e){if(null===e)return delete ne[t],null;var i=oe;if(e.abbr=t,null!=ne[t])N("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=ne[t]._config;else if(null!=e.parentLocale){if(null==ne[e.parentLocale])return se[e.parentLocale]||(se[e.parentLocale]=[]),se[e.parentLocale].push({name:t,config:e}),null;i=ne[e.parentLocale]._config}return ne[t]=new A(z(i,e)),se[t]&&se[t].forEach(function(t){de(t.name,t.config)}),he(t),ne[t]}function le(t){var e;if(!(t=t&&t._locale&&t._locale._abbr?t._locale._abbr:t))return ie;if(!h(t)){if(e=ae(t))return e;t=[t]}for(var i,o,n,s,r=t,a=0;a<r.length;){for(i=(s=re(r[a]).split("-")).length,o=(o=re(r[a+1]))?o.split("-"):null;0<i;){if(n=ae(s.slice(0,i).join("-")))return n;if(o&&o.length>=i&&T(s,o,!0)>=i-1)break;i--}a++}return null}function ue(t){var e=t._a;return e&&-2===f(t).overflow&&(e=e[bt]<0||11<e[bt]?bt:e[_t]<1||e[_t]>Tt(e[yt],e[bt])?_t:e[wt]<0||24<e[wt]||24===e[wt]&&(0!==e[xt]||0!==e[kt]||0!==e[Ot])?wt:e[xt]<0||59<e[xt]?xt:e[kt]<0||59<e[kt]?kt:e[Ot]<0||999<e[Ot]?Ot:-1,f(t)._overflowDayOfYear&&(e<yt||_t<e)&&(e=_t),f(t)._overflowWeeks&&-1===e&&(e=St),f(t)._overflowWeekday&&-1===e&&(e=Mt),f(t).overflow=e),t}var ce=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,pe=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,fe=/Z|[+-]\d\d(?::?\d\d)?/,me=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],ge=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ve=/^\/?Date\((\-?\d+)/i;function ye(t){var e,i,o,n,s,r,a=t._i,h=ce.exec(a)||pe.exec(a);if(h){for(f(t).iso=!0,e=0,i=me.length;e<i;e++)if(me[e][1].exec(h[1])){n=me[e][0],o=!1!==me[e][2];break}if(null!=n){if(h[3]){for(e=0,i=ge.length;e<i;e++)if(ge[e][1].exec(h[3])){s=(h[2]||" ")+ge[e][0];break}if(null==s)return void(t._isValid=!1)}if(o||null==s){if(h[4]){if(!fe.exec(h[4]))return void(t._isValid=!1);r="Z"}t._f=n+(s||"")+(r||""),ke(t)}else t._isValid=!1}else t._isValid=!1}else t._isValid=!1}var be=/^((?:Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d?\d\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(?:\d\d)?\d\d\s)(\d\d:\d\d)(\:\d\d)?(\s(?:UT|GMT|[ECMP][SD]T|[A-IK-Za-ik-z]|[+-]\d{4}))$/;function _e(t){var e,i,o,n,s={" GMT":" +0000"," EDT":" -0400"," EST":" -0500"," CDT":" -0500"," CST":" -0600"," MDT":" -0600"," MST":" -0700"," PDT":" -0700"," PST":" -0800"},r=t._i.replace(/\([^\)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s|\s$/g,""),a=be.exec(r);if(a){if(r=a[1]?"ddd"+(5===a[1].length?", ":" "):"",e="D MMM "+(10<a[2].length?"YYYY ":"YY "),i="HH:mm"+(a[4]?":ss":""),a[1]){var h=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][new Date(a[2]).getDay()];if(a[1].substr(0,3)!==h)return f(t).weekdayMismatch=!0,void(t._isValid=!1)}switch(a[5].length){case 2:o=0===n?" +0000":((n="YXWVUTSRQPONZABCDEFGHIKLM".indexOf(a[5][1].toUpperCase())-12)<0?" -":" +")+(""+n).replace(/^-?/,"0").match(/..$/)[0]+"00";break;case 4:o=s[a[5]];break;default:o=s[" GMT"]}a[5]=o,t._i=a.splice(1).join(""),t._f=r+e+i+" ZZ",ke(t),f(t).rfc2822=!0}else t._isValid=!1}function we(t,e,i){return null!=t?t:null!=e?e:i}function xe(t){var e,l,i,o,u,n,s,r,a,h,d,c=[];if(!t._d){for(i=t,o=new Date(p.now()),l=i._useUTC?[o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate()]:[o.getFullYear(),o.getMonth(),o.getDate()],t._w&&null==t._a[_t]&&null==t._a[bt]&&(null!=(o=(i=t)._w).GG||null!=o.W||null!=o.E?(r=1,a=4,u=we(o.GG,i._a[yt],Gt(Me(),1,4).year),n=we(o.W,1),((s=we(o.E,1))<1||7<s)&&(h=!0)):(r=i._locale._week.dow,a=i._locale._week.doy,d=Gt(Me(),r,a),u=we(o.gg,i._a[yt],d.year),n=we(o.w,d.week),null!=o.d?((s=o.d)<0||6<s)&&(h=!0):null!=o.e?(s=o.e+r,(o.e<0||6<o.e)&&(h=!0)):s=r),n<1||n>Vt(u,r,a)?f(i)._overflowWeeks=!0:null!=h?f(i)._overflowWeekday=!0:(d=Yt(u,n,s,r,a),i._a[yt]=d.year,i._dayOfYear=d.dayOfYear)),null!=t._dayOfYear&&(o=we(t._a[yt],l[yt]),(t._dayOfYear>Lt(o)||0===t._dayOfYear)&&(f(t)._overflowDayOfYear=!0),h=Ht(o,0,t._dayOfYear),t._a[bt]=h.getUTCMonth(),t._a[_t]=h.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=c[e]=l[e];for(;e<7;e++)t._a[e]=c[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[wt]&&0===t._a[xt]&&0===t._a[kt]&&0===t._a[Ot]&&(t._nextDay=!0,t._a[wt]=0),t._d=(t._useUTC?Ht:jt).apply(null,c),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[wt]=24)}}function ke(t){if(t._f!==p.ISO_8601)if(t._f!==p.RFC_2822){t._a=[],f(t).empty=!0;for(var e,i,o,n,s,r=""+t._i,l=r.length,a=0,h=$(t._f,t._locale).match(X)||[],d=0;d<h.length;d++)i=h[d],(e=(r.match(ft(i,t))||[])[0])&&(0<(o=r.substr(0,r.indexOf(e))).length&&f(t).unusedInput.push(o),r=r.slice(r.indexOf(e)+e.length),a+=e.length),J[i]?(e?f(t).empty=!1:f(t).unusedTokens.push(i),o=i,s=t,null!=(n=e)&&v(gt,o)&&gt[o](n,s._a,s,o)):t._strict&&!e&&f(t).unusedTokens.push(i);f(t).charsLeftOver=l-a,0<r.length&&f(t).unusedInput.push(r),t._a[wt]<=12&&!0===f(t).bigHour&&0<t._a[wt]&&(f(t).bigHour=void 0),f(t).parsedDateParts=t._a.slice(0),f(t).meridiem=t._meridiem,t._a[wt]=function(t,e,i){if(null==i)return e;return null!=t.meridiemHour?t.meridiemHour(e,i):null!=t.isPM?((t=t.isPM(i))&&e<12&&(e+=12),e=t||12!==e?e:0):e}(t._locale,t._a[wt],t._meridiem),xe(t),ue(t)}else _e(t);else ye(t)}function Oe(t){var e,i,o=t._i,n=t._f;if(t._locale=t._locale||le(t._l),null===o||void 0===n&&""===o)return x({nullInput:!0});if("string"==typeof o&&(t._i=o=t._locale.preparse(o)),D(o))return new M(ue(o));if(m(o))t._d=o;else if(h(n))!function(t){var e,i,o,n,s;if(0===t._f.length)return f(t).invalidFormat=!0,t._d=new Date(NaN);for(n=0;n<t._f.length;n++)s=0,e=O({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[n],ke(e),w(e)&&(s=(s+=f(e).charsLeftOver)+10*f(e).unusedTokens.length,f(e).score=s,(null==o||s<o)&&(o=s,i=e));y(t,i||e)}(t);else if(n)ke(t);else if(u(n=(o=t)._i))o._d=new Date(p.now());else m(n)?o._d=new Date(n.valueOf()):"string"==typeof n?(e=o,null===(i=ve.exec(e._i))?(ye(e),!1===e._isValid&&(delete e._isValid,_e(e),!1===e._isValid&&(delete e._isValid,p.createFromInputFallback(e)))):e._d=new Date(+i[1])):h(n)?(o._a=g(n.slice(0),function(t){return parseInt(t,10)}),xe(o)):d(n)?(e=o)._d||(i=H(e._i),e._a=g([i.year,i.month,i.day||i.date,i.hour,i.minute,i.second,i.millisecond],function(t){return t&&parseInt(t,10)}),xe(e)):c(n)?o._d=new Date(n):p.createFromInputFallback(o);return w(t)||(t._d=null),t}function Se(t,e,i,o,n){var s={};return!0!==i&&!1!==i||(o=i,i=void 0),(d(t)&&function(t){for(var e in t)return;return 1}(t)||h(t)&&0===t.length)&&(t=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=n,s._l=i,s._i=t,s._f=e,s._strict=o,(n=new M(ue(Oe(n=s))))._nextDay&&(n.add(1,"d"),n._nextDay=void 0),n}function Me(t,e,i,o){return Se(t,e,i,o,!1)}p.createFromInputFallback=P("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),p.ISO_8601=function(){},p.RFC_2822=function(){};nt=P("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Me.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:x()}),st=P("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Me.apply(null,arguments);return this.isValid()&&t.isValid()?this<t?this:t:x()});function De(t,e){var i,o;if(!(e=1===e.length&&h(e[0])?e[0]:e).length)return Me();for(i=e[0],o=1;o<e.length;++o)e[o].isValid()&&!e[o][t](i)||(i=e[o]);return i}var Ce=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Te(t){var t=H(t),e=t.year||0,i=t.quarter||0,o=t.month||0,n=t.week||0,s=t.day||0,r=t.hour||0,a=t.minute||0,h=t.second||0,d=t.millisecond||0;this._isValid=function(t){for(var e in t)if(-1===Ce.indexOf(e)||null!=t[e]&&isNaN(t[e]))return!1;for(var i=!1,o=0;o<Ce.length;++o)if(t[Ce[o]]){if(i)return!1;parseFloat(t[Ce[o]])!==l(t[Ce[o]])&&(i=!0)}return!0}(t),this._milliseconds=+d+1e3*h+6e4*a+1e3*r*60*60,this._days=+s+7*n,this._months=+o+3*i+12*e,this._data={},this._locale=le(),this._bubble()}function Ee(t){return t instanceof Te}function Pe(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function Ie(t,i){o(t,0,0,function(){var t=this.utcOffset(),e="+";return t<0&&(t=-t,e="-"),e+q(~~(t/60),2)+i+q(~~t%60,2)})}Ie("Z",":"),Ie("ZZ",""),n("Z",ut),n("ZZ",ut),s(["Z","ZZ"],function(t,e,i){i._useUTC=!0,i._tzm=Re(ut,t)});var Ne=/([\+\-]|\d\d)/gi;function Re(t,e){e=(e||"").match(t);if(null===e)return null;t=((e[e.length-1]||[])+"").match(Ne)||["-",0,0],e=60*t[1]+l(t[2]);return 0===e?0:"+"===t[0]?e:-e}function ze(t,e){var i;return e._isUTC?(e=e.clone(),i=(D(t)||m(t)?t:Me(t)).valueOf()-e.valueOf(),e._d.setTime(e._d.valueOf()+i),p.updateOffset(e,!1),e):Me(t).local()}function Ae(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Le(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}p.updateOffset=function(){};var Fe=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Be=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;function je(t,e){var i,o=t,n=null;return Ee(t)?o={ms:t._milliseconds,d:t._days,M:t._months}:c(t)?(o={},e?o[e]=t:o.milliseconds=t):(n=Fe.exec(t))?(i="-"===n[1]?-1:1,o={y:0,d:l(n[_t])*i,h:l(n[wt])*i,m:l(n[xt])*i,s:l(n[kt])*i,ms:l(Pe(1e3*n[Ot]))*i}):(n=Be.exec(t))?(i="-"===n[1]?-1:1,o={y:He(n[2],i),M:He(n[3],i),w:He(n[4],i),d:He(n[5],i),h:He(n[6],i),m:He(n[7],i),s:He(n[8],i)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(e=function(t,e){var i;if(!t.isValid()||!e.isValid())return{milliseconds:0,months:0};e=ze(e,t),t.isBefore(e)?i=We(t,e):((i=We(e,t)).milliseconds=-i.milliseconds,i.months=-i.months);return i}(Me(o.from),Me(o.to)),(o={}).ms=e.milliseconds,o.M=e.months),n=new Te(o),Ee(t)&&v(t,"_locale")&&(n._locale=t._locale),n}function He(t,e){t=t&&parseFloat(t.replace(",","."));return(isNaN(t)?0:t)*e}function We(t,e){var i={milliseconds:0,months:0};return i.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(i.months,"M").isAfter(e)&&--i.months,i.milliseconds=+e-+t.clone().add(i.months,"M"),i}function Ye(o,n){return function(t,e){var i;return null===e||isNaN(+e)||(N(n,"moment()."+n+"(period, number) is deprecated. Please use moment()."+n+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=t,t=e,e=i),Ge(this,je(t="string"==typeof t?+t:t,e),o),this}}function Ge(t,e,i,o){var n=e._milliseconds,s=Pe(e._days),e=Pe(e._months);t.isValid()&&(o=null==o||o,n&&t._d.setTime(t._d.valueOf()+n*i),s&&U(t,"Date",V(t,"Date")+s*i),e&&It(t,V(t,"Month")+e*i),o&&p.updateOffset(t,s||e))}je.fn=Te.prototype,je.invalid=function(){return je(NaN)};Dt=Ye(1,"add"),Pt=Ye(-1,"subtract");function Ve(t){return void 0===t?this._locale._abbr:(null!=(t=le(t))&&(this._locale=t),this)}p.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",p.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";Ut=P("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});function Ue(){return this._locale}function qe(t,e){o(0,[t,t.length],0,e)}function Xe(t,e,i,o,n){var s;return null==t?Gt(this,o,n).year:(s=Vt(t,o,n),function(t,e,i,o,n){t=Yt(t,e,i,o,n),e=Ht(t.year,0,t.dayOfYear);return this.year(e.getUTCFullYear()),this.month(e.getUTCMonth()),this.date(e.getUTCDate()),this}.call(this,t,e=s<e?s:e,i,o,n))}o(0,["gg",2],0,function(){return this.weekYear()%100}),o(0,["GG",2],0,function(){return this.isoWeekYear()%100}),qe("gggg","weekYear"),qe("ggggg","weekYear"),qe("GGGG","isoWeekYear"),qe("GGGGG","isoWeekYear"),B("weekYear","gg"),B("isoWeekYear","GG"),Y("weekYear",1),Y("isoWeekYear",1),n("G",dt),n("g",dt),n("GG",i,et),n("gg",i,et),n("GGGG",at,ot),n("gggg",at,ot),n("GGGGG",e,t),n("ggggg",e,t),vt(["gggg","ggggg","GGGG","GGGGG"],function(t,e,i,o){e[o.substr(0,2)]=l(t)}),vt(["gg","GG"],function(t,e,i,o){e[o]=p.parseTwoDigitYear(t)}),o("Q",0,"Qo","quarter"),B("quarter","Q"),Y("quarter",7),n("Q",tt),s("Q",function(t,e){e[bt]=3*(l(t)-1)}),o("D",["DD",2],"Do","date"),B("date","D"),Y("date",9),n("D",i),n("DD",i,et),n("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient}),s(["D","DD"],_t),s("Do",function(t,e){e[_t]=l(t.match(i)[0])});Xt=G("Date",!0);o("DDD",["DDDD",3],"DDDo","dayOfYear"),B("dayOfYear","DDD"),Y("dayOfYear",4),n("DDD",rt),n("DDDD",it),s(["DDD","DDDD"],function(t,e,i){i._dayOfYear=l(t)}),o("m",["mm",2],0,"minute"),B("minute","m"),Y("minute",14),n("m",i),n("mm",i,et),s(["m","mm"],xt);var Ze,qt=G("Minutes",!1),at=(o("s",["ss",2],0,"second"),B("second","s"),Y("second",15),n("s",i),n("ss",i,et),s(["s","ss"],kt),G("Seconds",!1));for(o("S",0,0,function(){return~~(this.millisecond()/100)}),o(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),o(0,["SSS",3],0,"millisecond"),o(0,["SSSS",4],0,function(){return 10*this.millisecond()}),o(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),o(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),o(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),o(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),o(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),B("millisecond","ms"),Y("millisecond",16),n("S",rt,tt),n("SS",rt,et),n("SSS",rt,it),Ze="SSSS";Ze.length<=9;Ze+="S")n(Ze,ht);function Ke(t,e){e[Ot]=l(1e3*("0."+t))}for(Ze="S";Ze.length<=9;Ze+="S")s(Ze,Ke);ot=G("Milliseconds",!1);o("z",0,0,"zoneAbbr"),o("zz",0,0,"zoneName");e=M.prototype;function Je(t){return t}e.add=Dt,e.calendar=function(t,e){var i=ze(t=t||Me(),this).startOf("day"),i=p.calendarFormat(this,i)||"sameElse",e=e&&(R(e[i])?e[i].call(this,t):e[i]);return this.format(e||this.localeData().calendar(i,this,Me(t)))},e.clone=function(){return new M(this)},e.diff=function(t,e,i){var o,n;return this.isValid()&&(t=ze(t,this)).isValid()?(o=6e4*(t.utcOffset()-this.utcOffset()),"year"===(e=j(e))||"month"===e||"quarter"===e?(n=function(t,e){var i,o=12*(e.year()-t.year())+(e.month()-t.month()),n=t.clone().add(o,"months");t=e-n<0?(i=t.clone().add(o-1,"months"),(e-n)/(n-i)):(i=t.clone().add(1+o,"months"),(e-n)/(i-n));return-(o+t)||0}(this,t),"quarter"===e?n/=3:"year"===e&&(n/=12)):(t=this-t,n="second"===e?t/1e3:"minute"===e?t/6e4:"hour"===e?t/36e5:"day"===e?(t-o)/864e5:"week"===e?(t-o)/6048e5:t),i?n:C(n)):NaN},e.endOf=function(t){return void 0===(t=j(t))||"millisecond"===t?this:this.startOf(t="date"===t?"day":t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")},e.format=function(t){return t=t||(this.isUtc()?p.defaultFormatUtc:p.defaultFormat),t=Q(this,t),this.localeData().postformat(t)},e.from=function(t,e){return this.isValid()&&(D(t)&&t.isValid()||Me(t).isValid())?je({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},e.fromNow=function(t){return this.from(Me(),t)},e.to=function(t,e){return this.isValid()&&(D(t)&&t.isValid()||Me(t).isValid())?je({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},e.toNow=function(t){return this.to(Me(),t)},e.get=function(t){return R(this[t=j(t)])?this[t]():this},e.invalidAt=function(){return f(this).overflow},e.isAfter=function(t,e){return t=D(t)?t:Me(t),!(!this.isValid()||!t.isValid())&&("millisecond"===(e=j(u(e)?"millisecond":e))?this.valueOf()>t.valueOf():t.valueOf()<this.clone().startOf(e).valueOf())},e.isBefore=function(t,e){return t=D(t)?t:Me(t),!(!this.isValid()||!t.isValid())&&("millisecond"===(e=j(u(e)?"millisecond":e))?this.valueOf()<t.valueOf():this.clone().endOf(e).valueOf()<t.valueOf())},e.isBetween=function(t,e,i,o){return("("===(o=o||"()")[0]?this.isAfter(t,i):!this.isBefore(t,i))&&(")"===o[1]?this.isBefore(e,i):!this.isAfter(e,i))},e.isSame=function(t,e){var t=D(t)?t:Me(t);return!(!this.isValid()||!t.isValid())&&("millisecond"===(e=j(e||"millisecond"))?this.valueOf()===t.valueOf():(t=t.valueOf(),this.clone().startOf(e).valueOf()<=t&&t<=this.clone().endOf(e).valueOf()))},e.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},e.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},e.isValid=function(){return w(this)},e.lang=Ut,e.locale=Ve,e.localeData=Ue,e.max=st,e.min=nt,e.parsingFlags=function(){return y({},f(this))},e.set=function(t,e){if("object"==typeof t)for(var i=function(t){var e,i=[];for(e in t)i.push({unit:e,priority:W[e]});return i.sort(function(t,e){return t.priority-e.priority}),i}(t=H(t)),o=0;o<i.length;o++)this[i[o].unit](t[i[o].unit]);else if(R(this[t=j(t)]))return this[t](e);return this},e.startOf=function(t){switch(t=j(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},e.subtract=Pt,e.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},e.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},e.toDate=function(){return new Date(this.valueOf())},e.toISOString=function(){if(!this.isValid())return null;var t=this.clone().utc();return t.year()<0||9999<t.year()?Q(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):R(Date.prototype.toISOString)?this.toDate().toISOString():Q(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},e.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",t=(this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z"),"["+t+'("]'),i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY";return this.format(t+i+"-MM-DD[T]HH:mm:ss.SSS"+(e+'[")]'))},e.toJSON=function(){return this.isValid()?this.toISOString():null},e.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},e.unix=function(){return Math.floor(this.valueOf()/1e3)},e.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},e.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},e.year=Bt,e.isLeapYear=function(){return Ft(this.year())},e.weekYear=function(t){return Xe.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},e.isoWeekYear=function(t){return Xe.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},e.quarter=e.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},e.month=Nt,e.daysInMonth=function(){return Tt(this.year(),this.month())},e.week=e.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},e.isoWeek=e.isoWeeks=function(t){var e=Gt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},e.weeksInYear=function(){var t=this.localeData()._week;return Vt(this.year(),t.dow,t.doy)},e.isoWeeksInYear=function(){return Vt(this.year(),1,4)},e.date=Xt,e.day=e.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e,i,o=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(e=t,i=this.localeData(),t="string"!=typeof e?e:isNaN(e)?"number"==typeof(e=i.weekdaysParse(e))?e:null:parseInt(e,10),this.add(t-o,"d")):o},e.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},e.isoWeekday=function(t){return this.isValid()?null!=t?(e=t,i=this.localeData(),i="string"==typeof e?i.weekdaysParse(e)%7||7:isNaN(e)?null:e,this.day(this.day()%7?i:i-7)):this.day()||7:null!=t?this:NaN;var e,i},e.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},e.hour=e.hours=ct,e.minute=e.minutes=qt,e.second=e.seconds=at,e.millisecond=e.milliseconds=ot,e.utcOffset=function(t,e,i){var o,n=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null==t)return this._isUTC?n:Ae(this);if("string"==typeof t){if(null===(t=Re(ut,t)))return this}else Math.abs(t)<16&&!i&&(t*=60);return!this._isUTC&&e&&(o=Ae(this)),this._offset=t,this._isUTC=!0,null!=o&&this.add(o,"m"),n!==t&&(!e||this._changeInProgress?Ge(this,je(t-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,p.updateOffset(this,!0),this._changeInProgress=null)),this},e.utc=function(t){return this.utcOffset(0,t)},e.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Ae(this),"m")),this},e.parseZone=function(){var t;return null!=this._tzm?this.utcOffset(this._tzm,!1,!0):"string"==typeof this._i&&(null!=(t=Re(lt,this._i))?this.utcOffset(t):this.utcOffset(0,!0)),this},e.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?Me(t).utcOffset():0,(this.utcOffset()-t)%60==0)},e.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},e.isLocal=function(){return!!this.isValid()&&!this._isUTC},e.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},e.isUtc=Le,e.isUTC=Le,e.zoneAbbr=function(){return this._isUTC?"UTC":""},e.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},e.dates=P("dates accessor is deprecated. Use date instead.",Xt),e.months=P("months accessor is deprecated. Use month instead",Nt),e.years=P("years accessor is deprecated. Use year instead",Bt),e.zone=P("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(t,e){return null!=t?(this.utcOffset(t="string"!=typeof t?-t:t,e),this):-this.utcOffset()}),e.isDSTShifted=P("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!u(this._isDSTShifted))return this._isDSTShifted;var t,e={};return O(e,this),(e=Oe(e))._a?(t=(e._isUTC?b:Me)(e._a),this._isDSTShifted=this.isValid()&&0<T(e._a,t.toArray())):this._isDSTShifted=!1,this._isDSTShifted});t=A.prototype;function Qe(t,e,i,o){var n=le(),o=b().set(o,e);return n[i](o,t)}function $e(t,e,i){if(c(t)&&(e=t,t=void 0),t=t||"",null!=e)return Qe(t,e,i,"month");for(var o=[],n=0;n<12;n++)o[n]=Qe(t,n,i,"month");return o}function ti(t,e,i,o){e=("boolean"==typeof t?c(e)&&(i=e,e=void 0):(e=t,t=!1,c(i=e)&&(i=e,e=void 0)),e||"");var n=le(),s=t?n._week.dow:0;if(null!=i)return Qe(e,(i+s)%7,o,"day");for(var r=[],a=0;a<7;a++)r[a]=Qe(e,(a+s)%7,o,"day");return r}t.calendar=function(t,e,i){return R(t=this._calendar[t]||this._calendar.sameElse)?t.call(e,i):t},t.longDateFormat=function(t){var e=this._longDateFormat[t],i=this._longDateFormat[t.toUpperCase()];return e||!i?e:(this._longDateFormat[t]=i.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])},t.invalidDate=function(){return this._invalidDate},t.ordinal=function(t){return this._ordinal.replace("%d",t)},t.preparse=Je,t.postformat=Je,t.relativeTime=function(t,e,i,o){var n=this._relativeTime[i];return R(n)?n(t,e,i,o):n.replace(/%d/i,t)},t.pastFuture=function(t,e){return R(t=this._relativeTime[0<t?"future":"past"])?t(e):t.replace(/%s/i,e)},t.set=function(t){var e,i;for(i in t)R(e=t[i])?this[i]=e:this["_"+i]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},t.months=function(t,e){return t?(h(this._months)?this._months:this._months[(this._months.isFormat||Et).test(e)?"format":"standalone"])[t.month()]:h(this._months)?this._months:this._months.standalone},t.monthsShort=function(t,e){return t?(h(this._monthsShort)?this._monthsShort:this._monthsShort[Et.test(e)?"format":"standalone"])[t.month()]:h(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},t.monthsParse=function(t,e,i){var o,n;if(this._monthsParseExact)return function(t,e,i){var o,n,s,t=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],o=0;o<12;++o)s=b([2e3,o]),this._shortMonthsParse[o]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[o]=this.months(s,"").toLocaleLowerCase();return i?"MMM"===e?-1!==(n=Ct.call(this._shortMonthsParse,t))?n:null:-1!==(n=Ct.call(this._longMonthsParse,t))?n:null:"MMM"===e?-1!==(n=Ct.call(this._shortMonthsParse,t))||-1!==(n=Ct.call(this._longMonthsParse,t))?n:null:-1!==(n=Ct.call(this._longMonthsParse,t))||-1!==(n=Ct.call(this._shortMonthsParse,t))?n:null}.call(this,t,e,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),o=0;o<12;o++){if(n=b([2e3,o]),i&&!this._longMonthsParse[o]&&(this._longMonthsParse[o]=new RegExp("^"+this.months(n,"").replace(".","")+"$","i"),this._shortMonthsParse[o]=new RegExp("^"+this.monthsShort(n,"").replace(".","")+"$","i")),i||this._monthsParse[o]||(n="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[o]=new RegExp(n.replace(".",""),"i")),i&&"MMMM"===e&&this._longMonthsParse[o].test(t))return o;if(i&&"MMM"===e&&this._shortMonthsParse[o].test(t))return o;if(!i&&this._monthsParse[o].test(t))return o}},t.monthsRegex=function(t){return this._monthsParseExact?(v(this,"_monthsRegex")||At.call(this),t?this._monthsStrictRegex:this._monthsRegex):(v(this,"_monthsRegex")||(this._monthsRegex=zt),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},t.monthsShortRegex=function(t){return this._monthsParseExact?(v(this,"_monthsRegex")||At.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(v(this,"_monthsShortRegex")||(this._monthsShortRegex=Rt),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},t.week=function(t){return Gt(t,this._week.dow,this._week.doy).week},t.firstDayOfYear=function(){return this._week.doy},t.firstDayOfWeek=function(){return this._week.dow},t.weekdays=function(t,e){return t?(h(this._weekdays)?this._weekdays:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"])[t.day()]:h(this._weekdays)?this._weekdays:this._weekdays.standalone},t.weekdaysMin=function(t){return t?this._weekdaysMin[t.day()]:this._weekdaysMin},t.weekdaysShort=function(t){return t?this._weekdaysShort[t.day()]:this._weekdaysShort},t.weekdaysParse=function(t,e,i){var o,n;if(this._weekdaysParseExact)return function(t,e,i){var o,n,s,t=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],o=0;o<7;++o)s=b([2e3,1]).day(o),this._minWeekdaysParse[o]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[o]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[o]=this.weekdays(s,"").toLocaleLowerCase();return i?"dddd"===e?-1!==(n=Ct.call(this._weekdaysParse,t))?n:null:"ddd"===e?-1!==(n=Ct.call(this._shortWeekdaysParse,t))?n:null:-1!==(n=Ct.call(this._minWeekdaysParse,t))?n:null:"dddd"===e?-1!==(n=Ct.call(this._weekdaysParse,t))||-1!==(n=Ct.call(this._shortWeekdaysParse,t))||-1!==(n=Ct.call(this._minWeekdaysParse,t))?n:null:"ddd"===e?-1!==(n=Ct.call(this._shortWeekdaysParse,t))||-1!==(n=Ct.call(this._weekdaysParse,t))||-1!==(n=Ct.call(this._minWeekdaysParse,t))?n:null:-1!==(n=Ct.call(this._minWeekdaysParse,t))||-1!==(n=Ct.call(this._weekdaysParse,t))||-1!==(n=Ct.call(this._shortWeekdaysParse,t))?n:null}.call(this,t,e,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),o=0;o<7;o++){if(n=b([2e3,1]).day(o),i&&!this._fullWeekdaysParse[o]&&(this._fullWeekdaysParse[o]=new RegExp("^"+this.weekdays(n,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[o]=new RegExp("^"+this.weekdaysShort(n,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[o]=new RegExp("^"+this.weekdaysMin(n,"").replace(".",".?")+"$","i")),this._weekdaysParse[o]||(n="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[o]=new RegExp(n.replace(".",""),"i")),i&&"dddd"===e&&this._fullWeekdaysParse[o].test(t))return o;if(i&&"ddd"===e&&this._shortWeekdaysParse[o].test(t))return o;if(i&&"dd"===e&&this._minWeekdaysParse[o].test(t))return o;if(!i&&this._weekdaysParse[o].test(t))return o}},t.weekdaysRegex=function(t){return this._weekdaysParseExact?(v(this,"_weekdaysRegex")||Qt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(v(this,"_weekdaysRegex")||(this._weekdaysRegex=Zt),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},t.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(v(this,"_weekdaysRegex")||Qt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(v(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Kt),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},t.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(v(this,"_weekdaysRegex")||Qt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(v(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Jt),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},t.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},t.meridiem=function(t,e,i){return 11<t?i?"pm":"PM":i?"am":"AM"},he("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===l(t%100/10)?"th":1==e?"st":2==e?"nd":3==e?"rd":"th")}}),p.lang=P("moment.lang is deprecated. Use moment.locale instead.",he),p.langData=P("moment.langData is deprecated. Use moment.localeData instead.",le);var ei=Math.abs;function ii(t,e,i,o){e=je(e,i);return t._milliseconds+=o*e._milliseconds,t._days+=o*e._days,t._months+=o*e._months,t._bubble()}function oi(t){return t<0?Math.floor(t):Math.ceil(t)}function ni(t){return 4800*t/146097}function si(t){return 146097*t/4800}function ri(t){return function(){return this.as(t)}}tt=ri("ms"),et=ri("s"),rt=ri("m"),it=ri("h"),Dt=ri("d"),st=ri("w"),nt=ri("M"),Pt=ri("y");function ai(t){return function(){return this.isValid()?this._data[t]:NaN}}ct=ai("milliseconds"),qt=ai("seconds"),at=ai("minutes"),ot=ai("hours"),Xt=ai("days"),Bt=ai("months"),t=ai("years");var hi=Math.round,di={ss:44,s:45,m:45,h:22,d:26,M:11};function li(t,e,i){var o=je(t).abs(),n=hi(o.as("s")),s=hi(o.as("m")),r=hi(o.as("h")),a=hi(o.as("d")),h=hi(o.as("M")),o=hi(o.as("y")),n=(n<=di.ss?["s",n]:n<di.s&&["ss",n])||s<=1&&["m"]||s<di.m&&["mm",s]||r<=1&&["h"]||r<di.h&&["hh",r]||a<=1&&["d"]||a<di.d&&["dd",a]||h<=1&&["M"]||h<di.M&&["MM",h]||o<=1&&["y"]||["yy",o];return n[2]=e,n[3]=0<+t,n[4]=i,function(t,e,i,o,n){return n.relativeTime(e||1,!!i,t,o)}.apply(null,n)}var ui=Math.abs;function ci(){if(!this.isValid())return this.localeData().invalidDate();var t=ui(this._milliseconds)/1e3,e=ui(this._days),i=ui(this._months),o=C(t/60),n=C(o/60),s=(t%=60,o%=60,C(i/12)),i=i%=12,r=this.asSeconds();return r?(r<0?"-":"")+"P"+(s?s+"Y":"")+(i?i+"M":"")+(e?e+"D":"")+(n||o||t?"T":"")+(n?n+"H":"")+(o?o+"M":"")+(t?t+"S":""):"P0D"}var r=Te.prototype;return r.isValid=function(){return this._isValid},r.abs=function(){var t=this._data;return this._milliseconds=ei(this._milliseconds),this._days=ei(this._days),this._months=ei(this._months),t.milliseconds=ei(t.milliseconds),t.seconds=ei(t.seconds),t.minutes=ei(t.minutes),t.hours=ei(t.hours),t.months=ei(t.months),t.years=ei(t.years),this},r.add=function(t,e){return ii(this,t,e,1)},r.subtract=function(t,e){return ii(this,t,e,-1)},r.as=function(t){if(!this.isValid())return NaN;var e,i,o=this._milliseconds;if("month"===(t=j(t))||"year"===t)return e=this._days+o/864e5,i=this._months+ni(e),"month"===t?i:i/12;switch(e=this._days+Math.round(si(this._months)),t){case"week":return e/7+o/6048e5;case"day":return e+o/864e5;case"hour":return 24*e+o/36e5;case"minute":return 1440*e+o/6e4;case"second":return 86400*e+o/1e3;case"millisecond":return Math.floor(864e5*e)+o;default:throw new Error("Unknown unit "+t)}},r.asMilliseconds=tt,r.asSeconds=et,r.asMinutes=rt,r.asHours=it,r.asDays=Dt,r.asWeeks=st,r.asMonths=nt,r.asYears=Pt,r.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*l(this._months/12):NaN},r._bubble=function(){var t=this._milliseconds,e=this._days,i=this._months,o=this._data;return 0<=t&&0<=e&&0<=i||t<=0&&e<=0&&i<=0||(t+=864e5*oi(si(i)+e),i=e=0),o.milliseconds=t%1e3,t=C(t/1e3),o.seconds=t%60,t=C(t/60),o.minutes=t%60,t=C(t/60),o.hours=t%24,e+=C(t/24),i+=t=C(ni(e)),e-=oi(si(t)),t=C(i/12),i%=12,o.days=e,o.months=i,o.years=t,this},r.get=function(t){return t=j(t),this.isValid()?this[t+"s"]():NaN},r.milliseconds=ct,r.seconds=qt,r.minutes=at,r.hours=ot,r.days=Xt,r.weeks=function(){return C(this.days()/7)},r.months=Bt,r.years=t,r.humanize=function(t){if(!this.isValid())return this.localeData().invalidDate();var e=this.localeData(),i=li(this,!t,e);return t&&(i=e.pastFuture(+this,i)),e.postformat(i)},r.toISOString=ci,r.toString=ci,r.toJSON=ci,r.locale=Ve,r.localeData=Ue,r.toIsoString=P("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ci),r.lang=Ut,o("X",0,0,"unix"),o("x",0,0,"valueOf"),n("x",dt),n("X",/[+-]?\d+(\.\d{1,3})?/),s("X",function(t,e,i){i._d=new Date(1e3*parseFloat(t,10))}),s("x",function(t,e,i){i._d=new Date(l(t))}),p.version="2.18.0",a=Me,p.fn=e,p.min=function(){return De("isBefore",[].slice.call(arguments,0))},p.max=function(){return De("isAfter",[].slice.call(arguments,0))},p.now=function(){return Date.now?Date.now():+new Date},p.utc=b,p.unix=function(t){return Me(1e3*t)},p.months=function(t,e){return $e(t,e,"months")},p.isDate=m,p.locale=he,p.invalid=x,p.duration=je,p.isMoment=D,p.weekdays=function(t,e,i){return ti(t,e,i,"weekdays")},p.parseZone=function(){return Me.apply(null,arguments).parseZone()},p.localeData=le,p.isDuration=Ee,p.monthsShort=function(t,e){return $e(t,e,"monthsShort")},p.weekdaysMin=function(t,e,i){return ti(t,e,i,"weekdaysMin")},p.defineLocale=de,p.updateLocale=function(t,e){var i;return null!=e?(i=oe,(i=new A(e=z(i=null!=ne[t]?ne[t]._config:i,e))).parentLocale=ne[t],ne[t]=i,he(t)):null!=ne[t]&&(null!=ne[t].parentLocale?ne[t]=ne[t].parentLocale:null!=ne[t]&&delete ne[t]),ne[t]},p.locales=function(){return L(ne)},p.weekdaysShort=function(t,e,i){return ti(t,e,i,"weekdaysShort")},p.normalizeUnits=j,p.relativeTimeRounding=function(t){return void 0===t?hi:"function"==typeof t&&(hi=t,!0)},p.relativeTimeThreshold=function(t,e){return void 0!==di[t]&&(void 0===e?di[t]:(di[t]=e,"s"===t&&(di.ss=e-1),!0))},p.calendarFormat=function(t,e){return(t=t.diff(e,"days",!0))<-6?"sameElse":t<-1?"lastWeek":t<0?"lastDay":t<1?"sameDay":t<2?"nextDay":t<7?"nextWeek":"sameElse"},p.prototype=e,p},pi.exports=t()}.call(e,i(84)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e){function i(t){throw new Error("Cannot find module '"+t+"'.")}i.keys=function(){return[]},(t.exports=i.resolve=i).id=85},function(h,t){!function(t){for(var e,r,i,t="undefined"!=typeof window?window:void 0!==t?t:null,o=(t&&t.crypto&&crypto.getRandomValues&&(e=new Uint8Array(16),r=function(){return crypto.getRandomValues(e),e}),r||(i=new Array(16),r=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),i[e]=t>>>((3&e)<<3)&255;return i}),[]),s={},n=0;n<256;n++)o[n]=(n+256).toString(16).substr(1),s[o[n]]=n;function l(t,e){e=e||0;return o[t[e++]]+o[t[e++]]+o[t[e++]]+o[t[e++]]+"-"+o[t[e++]]+o[t[e++]]+"-"+o[t[e++]]+o[t[e++]]+"-"+o[t[e++]]+o[t[e++]]+"-"+o[t[e++]]+o[t[e++]]+o[t[e++]]+o[t[e++]]+o[t[e++]]+o[t[+e]]}var t=r(),p=[1|t[0],t[1],t[2],t[3],t[4],t[5]],f=16383&(t[6]<<8|t[7]),u=0,c=0;function a(t,e,i){var o=e&&i||0,n=("string"==typeof t&&(e="binary"==t?new Array(16):null,t=null),(t=t||{}).random||(t.rng||r)());if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,e)for(var s=0;s<16;s++)e[o+s]=n[s];return e||l(n)}t=a;t.v1=function(t,e,i){var o=e&&i||0,n=e||[],i=void 0!==(t=t||{}).clockseq?t.clockseq:f,s=void 0!==t.msecs?t.msecs:(new Date).getTime(),r=void 0!==t.nsecs?t.nsecs:c+1;if((a=s-u+(r-c)/1e4)<0&&void 0===t.clockseq&&(i=i+1&16383),1e4<=(r=(a<0||u<s)&&void 0===t.nsecs?0:r))throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");u=s,f=i;for(var a=(1e4*(268435455&(s+=122192928e5))+(c=r))%4294967296,r=(n[o++]=a>>>24&255,n[o++]=a>>>16&255,n[o++]=a>>>8&255,n[o++]=255&a,s/4294967296*1e4&268435455),h=(n[o++]=r>>>8&255,n[o++]=255&r,n[o++]=r>>>24&15|16,n[o++]=r>>>16&255,n[o++]=i>>>8|128,n[o++]=255&i,t.node||p),d=0;d<6;d++)n[o+d]=h[d];return e||l(n)},t.v4=a,t.parse=function(t,e,i){var o=e&&i||0,n=0;for(e=e||[],t.toLowerCase().replace(/[0-9a-f]{2}/g,function(t){n<16&&(e[o+n++]=s[t])});n<16;)e[o+n++]=0;return e},t.unparse=l,h.exports=t}.call(t,function(){return this}())},function(t,e,i){e.util=i(1),e.DOMutil=i(88),e.DataSet=i(89),e.DataView=i(93),e.Queue=i(92),e.Graph3d=i(94),e.graph3d={Camera:i(102),Filter:i(107),Point2d:i(101),Point3d:i(100),Slider:i(108),StepNumber:i(109)},e.moment=i(82),e.Hammer=i(112),e.keycharm=i(115)},function(t,h){h.prepareElements=function(t){for(var e in t)t.hasOwnProperty(e)&&(t[e].redundant=t[e].used,t[e].used=[])},h.cleanupElements=function(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e].redundant){for(var i=0;i<t[e].redundant.length;i++)t[e].redundant[i].parentNode.removeChild(t[e].redundant[i]);t[e].redundant=[]}},h.resetElements=function(t){h.prepareElements(t),h.cleanupElements(t),h.prepareElements(t)},h.getSVGElement=function(t,e,i){var o;return e.hasOwnProperty(t)?0<e[t].redundant.length?(o=e[t].redundant[0],e[t].redundant.shift()):(o=document.createElementNS("http://www.w3.org/2000/svg",t),i.appendChild(o)):(o=document.createElementNS("http://www.w3.org/2000/svg",t),e[t]={used:[],redundant:[]},i.appendChild(o)),e[t].used.push(o),o},h.getDOMElement=function(t,e,i,o){var n;return e.hasOwnProperty(t)?0<e[t].redundant.length?(n=e[t].redundant[0],e[t].redundant.shift()):(n=document.createElement(t),void 0!==o?i.insertBefore(n,o):i.appendChild(n)):(n=document.createElement(t),e[t]={used:[],redundant:[]},void 0!==o?i.insertBefore(n,o):i.appendChild(n)),e[t].used.push(n),n},h.drawPoint=function(t,e,i,o,n,s){var r;return"circle"==i.style?((r=h.getSVGElement("circle",o,n)).setAttributeNS(null,"cx",t),r.setAttributeNS(null,"cy",e),r.setAttributeNS(null,"r",.5*i.size)):((r=h.getSVGElement("rect",o,n)).setAttributeNS(null,"x",t-.5*i.size),r.setAttributeNS(null,"y",e-.5*i.size),r.setAttributeNS(null,"width",i.size),r.setAttributeNS(null,"height",i.size)),void 0!==i.styles&&r.setAttributeNS(null,"style",i.styles),r.setAttributeNS(null,"class",i.className+" vis-point"),s&&(i=h.getSVGElement("text",o,n),s.xOffset&&(t+=s.xOffset),s.yOffset&&(e+=s.yOffset),s.content&&(i.textContent=s.content),s.className&&i.setAttributeNS(null,"class",s.className+" vis-label"),i.setAttributeNS(null,"x",t),i.setAttributeNS(null,"y",e)),r},h.drawBar=function(t,e,i,o,n,s,r,a){0!=o&&(o<0&&(e-=o*=-1),(s=h.getSVGElement("rect",s,r)).setAttributeNS(null,"x",t-.5*i),s.setAttributeNS(null,"y",e),s.setAttributeNS(null,"width",i),s.setAttributeNS(null,"height",o),s.setAttributeNS(null,"class",n),a&&s.setAttributeNS(null,"style",a))}},function(t,s,e){var h=i(e(90)),u=i(e(62)),m=i(e(58));function i(t){return t&&t.__esModule?t:{default:t}}var g=e(1),o=e(92);function n(t,e){if(t&&!Array.isArray(t)&&(e=t,t=null),this._options=e||{},this._data={},this.length=0,this._fieldId=this._options.fieldId||"id",this._type={},this._options.type)for(var i=(0,m.default)(this._options.type),o=0,n=i.length;o<n;o++){var s=i[o],r=this._options.type[s];this._type[s]="Date"==r||"ISODate"==r||"ASPDate"==r?"Date":r}if(this._options.convert)throw new Error('Option "convert" is deprecated. Use "type" instead.');this._subscribers={},t&&this.add(t),this.setOptions(e)}n.prototype.setOptions=function(t){t&&void 0!==t.queue&&(!1===t.queue?this._queue&&(this._queue.destroy(),delete this._queue):(this._queue||(this._queue=o.extend(this,{replace:["add","update","remove"]})),"object"===(0,u.default)(t.queue)&&this._queue.setOptions(t.queue)))},n.prototype.on=function(t,e){var i=this._subscribers[t];i||(this._subscribers[t]=i=[]),i.push({callback:e})},n.prototype.subscribe=function(){throw new Error("DataSet.subscribe is deprecated. Use DataSet.on instead.")},n.prototype.off=function(t,e){var i=this._subscribers[t];i&&(this._subscribers[t]=i.filter(function(t){return t.callback!=e}))},n.prototype.unsubscribe=function(){throw new Error("DataSet.unsubscribe is deprecated. Use DataSet.off instead.")},n.prototype._trigger=function(t,e,i){if("*"==t)throw new Error("Cannot trigger event *");var o=[];t in this._subscribers&&(o=o.concat(this._subscribers[t]));for(var n=0,s=((o="*"in this._subscribers?o.concat(this._subscribers["*"]):o).length);n<s;n++){var r=o[n];r.callback&&r.callback(t,e,i||null)}},n.prototype.add=function(t,e){var i,o=[];if(Array.isArray(t))for(var n=0,s=t.length;n<s;n++)i=this._addItem(t[n]),o.push(i);else{if(!t||"object"!==(void 0===t?"undefined":(0,u.default)(t)))throw new Error("Unknown dataType");i=this._addItem(t),o.push(i)}return o.length&&this._trigger("add",{items:o},e),o},n.prototype.update=function(t,e){function i(t){var e,i=t[h];a._data[i]?(e=g.extend({},a._data[i]),i=a._updateItem(t),n.push(i),r.push(t),s.push(e)):(i=a._addItem(t),o.push(i))}var o=[],n=[],s=[],r=[],a=this,h=a._fieldId;if(Array.isArray(t))for(var d=0,l=t.length;d<l;d++)t[d]&&"object"===(0,u.default)(t[d])?i(t[d]):console.warn("Ignoring input item, which is not an object at index "+d);else{if(!t||"object"!==(void 0===t?"undefined":(0,u.default)(t)))throw new Error("Unknown dataType");i(t)}return o.length&&this._trigger("add",{items:o},e),n.length&&this._trigger("update",{items:n,oldData:s,data:r},e),o.concat(n)},n.prototype.get=function(t){var e,i,o,l,u,n=g.getType(t),n="String"==n||"Number"==n?(e=t,arguments[1]):"Array"==n?(i=t,arguments[1]):t,s=(t=n&&n.returnType?-1==["Array","Object"].indexOf(n.returnType)?"Array":n.returnType:"Array",n&&n.type||this._options.type),r=n&&n.filter,a=[];if(null!=e)(o=this._getItem(e,s))&&r&&!r(o)&&(o=null);else if(null!=i)for(h=0,d=i.length;h<d;h++)o=this._getItem(i[h],s),r&&!r(o)||a.push(o);else for(d=(l=(h=0,m.default)(this._data)).length;h<d;h++)u=l[h],o=this._getItem(u,s),r&&!r(o)||a.push(o);if(n&&n.order&&null==e&&this._sort(a,n.order),n&&n.fields){var c=n.fields;if(null!=e)o=this._filterFields(o,c);else for(h=0,d=a.length;h<d;h++)a[h]=this._filterFields(a[h],c)}if("Object"!=t)return null!=e?o:a;for(var p,f={},h=0,d=a.length;h<d;h++)f[(p=a[h]).id]=p;return f},n.prototype.getIds=function(t){var e,i,o,n,s,r=this._data,l=t&&t.filter,a=t&&t.order,u=t&&t.type||this._options.type,h=(0,m.default)(r),d=[];if(l)if(a){for(s=[],e=0,i=h.length;e<i;e++)o=h[e],l(n=this._getItem(o,u))&&s.push(n);for(this._sort(s,a),e=0,i=s.length;e<i;e++)d.push(s[e][this._fieldId])}else for(e=0,i=h.length;e<i;e++)o=h[e],l(n=this._getItem(o,u))&&d.push(n[this._fieldId]);else if(a){for(s=[],e=0,i=h.length;e<i;e++)o=h[e],s.push(r[o]);for(this._sort(s,a),e=0,i=s.length;e<i;e++)d.push(s[e][this._fieldId])}else for(e=0,i=h.length;e<i;e++)n=r[o=h[e]],d.push(n[this._fieldId]);return d},n.prototype.getDataSet=function(){return this},n.prototype.forEach=function(t,e){var i,o,n=e&&e.filter,s=e&&e.type||this._options.type,l=this._data,r=(0,m.default)(l);if(e&&e.order)for(var a=this.get(e),h=0,d=a.length;h<d;h++)t(i=a[h],o=i[this._fieldId]);else for(h=0,d=r.length;h<d;h++)o=r[h],i=this._getItem(o,s),n&&!n(i)||t(i,o)},n.prototype.map=function(t,e){for(var i,o,n=e&&e.filter,s=e&&e.type||this._options.type,r=[],a=this._data,h=(0,m.default)(a),d=0,l=h.length;d<l;d++)i=h[d],o=this._getItem(i,s),n&&!n(o)||r.push(t(o,i));return e&&e.order&&this._sort(r,e.order),r},n.prototype._filterFields=function(t,e){if(!t)return t;var i,o,n={},s=(0,m.default)(t),r=s.length;if(Array.isArray(e))for(i=0;i<r;i++)o=s[i],-1!=e.indexOf(o)&&(n[o]=t[o]);else for(i=0;i<r;i++)o=s[i],e.hasOwnProperty(o)&&(n[e[o]]=t[o]);return n},n.prototype._sort=function(t,e){if(g.isString(e)){var i=e;t.sort(function(t,e){t=t[i],e=e[i];return e<t?1:t<e?-1:0})}else{if("function"!=typeof e)throw new TypeError("Order must be a function or a string");t.sort(e)}},n.prototype.remove=function(t,e){for(var i,o,n,s=[],r=[],a=0,h=(n=Array.isArray(t)?t:[t]).length;a<h;a++)(o=this._remove(n[a]))&&null!=(i=o[this._fieldId])&&(s.push(i),r.push(o));return s.length&&this._trigger("remove",{items:s,oldData:r},e),s},n.prototype._remove=function(t){var e;return g.isNumber(t)||g.isString(t)?e=t:t&&"object"===(void 0===t?"undefined":(0,u.default)(t))&&(e=t[this._fieldId]),void 0!==e&&this._data[e]?(t=this._data[e],delete this._data[e],this.length--,t):null},n.prototype.clear=function(t){for(var e=(0,m.default)(this._data),i=[],o=0,n=e.length;o<n;o++)i.push(this._data[e[o]]);return this._data={},this.length=0,this._trigger("remove",{items:e,oldData:i},t),e},n.prototype.max=function(t){for(var e=this._data,i=(0,m.default)(e),o=null,n=null,s=0,r=i.length;s<r;s++){var a=e[i[s]],h=a[t];null!=h&&(!o||n<h)&&(o=a,n=h)}return o},n.prototype.min=function(t){for(var e=this._data,i=(0,m.default)(e),o=null,n=null,s=0,r=i.length;s<r;s++){var a=e[i[s]],h=a[t];null!=h&&(!o||h<n)&&(o=a,n=h)}return o},n.prototype.distinct=function(t){for(var e=this._data,i=(0,m.default)(e),o=[],n=this._options.type&&this._options.type[t]||null,s=0,r=0,a=i.length;r<a;r++){for(var h=e[i[r]][t],l=!1,d=0;d<s;d++)if(o[d]==h){l=!0;break}l||void 0===h||(o[s]=h,s++)}if(n)for(r=0,a=o.length;r<a;r++)o[r]=g.convert(o[r],n);return o},n.prototype._addItem=function(t){var e=t[this._fieldId];if(null!=e){if(this._data[e])throw new Error("Cannot add item: item with id "+e+" already exists")}else e=g.randomUUID(),t[this._fieldId]=e;for(var i={},o=(0,m.default)(t),n=0,s=o.length;n<s;n++){var r=o[n],a=this._type[r];i[r]=g.convert(t[r],a)}return this._data[e]=i,this.length++,e},n.prototype._getItem=function(t,e){var i,o,n,s,r=this._data[t];if(!r)return null;var a={},h=(0,m.default)(r);if(e)for(n=0,s=h.length;n<s;n++)o=r[i=h[n]],a[i]=g.convert(o,e[i]);else for(n=0,s=h.length;n<s;n++)o=r[i=h[n]],a[i]=o;return a[this._fieldId]||(a[this._fieldId]=r.id),a},n.prototype._updateItem=function(t){var e=t[this._fieldId];if(null==e)throw new Error("Cannot update item: item has no id (item: "+(0,h.default)(t)+")");var i=this._data[e];if(!i)throw new Error("Cannot update item: no item with id "+e+" found");for(var o=(0,m.default)(t),n=0,s=o.length;n<s;n++){var r=o[n],a=this._type[r];i[r]=g.convert(t[r],a)}return e},t.exports=n},function(t,e,i){t.exports={default:i(91),__esModule:!0}},function(t,e,i){var i=i(17),o=i.JSON||(i.JSON={stringify:JSON.stringify});t.exports=function(t){return o.stringify.apply(o,arguments)}},function(t,e){function r(t){this.delay=null,this.max=1/0,this._queue=[],this._timeout=null,this._extended=null,this.setOptions(t)}r.prototype.setOptions=function(t){t&&void 0!==t.delay&&(this.delay=t.delay),t&&void 0!==t.max&&(this.max=t.max),this._flushIfNeeded()},r.extend=function(t,e){var i=new r(e);if(void 0!==t.flush)throw new Error("Target object already has a property flush");t.flush=function(){i.flush()};var o=[{name:"flush",original:void 0}];if(e&&e.replace)for(var n=0;n<e.replace.length;n++){var s=e.replace[n];o.push({name:s,original:t[s]}),i.replace(t,s)}return i._extended={object:t,methods:o},i},r.prototype.destroy=function(){if(this.flush(),this._extended){for(var t=this._extended.object,e=this._extended.methods,i=0;i<e.length;i++){var o=e[i];o.original?t[o.name]=o.original:delete t[o.name]}this._extended=null}},r.prototype.replace=function(t,e){var i=this,o=t[e];if(!o)throw new Error("Method "+e+" undefined");t[e]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.queue({args:t,fn:o,context:this})}},r.prototype.queue=function(t){"function"==typeof t?this._queue.push({fn:t}):this._queue.push(t),this._flushIfNeeded()},r.prototype._flushIfNeeded=function(){var t;this._queue.length>this.max&&this.flush(),clearTimeout(this._timeout),0<this.queue.length&&"number"==typeof this.delay&&((t=this)._timeout=setTimeout(function(){t.flush()},this.delay))},r.prototype.flush=function(){for(;0<this._queue.length;){var t=this._queue.shift();t.fn.apply(t.context||t.fn,t.args||[])}},t.exports=r},function(t,e,i){var o=i(58),d=(o=o)&&o.__esModule?o:{default:o};var r=i(1),o=i(89);function n(t,e){this._data=null,this._ids={},this.length=0,this._options=e||{},this._fieldId="id",this._subscribers={};var i=this;this.listener=function(){i._onEvent.apply(i,arguments)},this.setData(t)}n.prototype.setData=function(t){var e,i,o,n,s;if(this._data){for(this._data.off&&this._data.off("*",this.listener),s=[],o=0,n=(e=this._data.getIds({filter:this._options&&this._options.filter})).length;o<n;o++)s.push(this._data._data[e[o]]);this._ids={},this.length=0,this._trigger("remove",{items:e,oldData:s})}if(this._data=t,this._data){for(this._fieldId=this._options.fieldId||this._data&&this._data.options&&this._data.options.fieldId||"id",o=0,n=(e=this._data.getIds({filter:this._options&&this._options.filter})).length;o<n;o++)i=e[o],this._ids[i]=!0;this.length=e.length,this._trigger("add",{items:e}),this._data.on&&this._data.on("*",this.listener)}},n.prototype.refresh=function(){for(var t,e=this._data.getIds({filter:this._options&&this._options.filter}),i=(0,d.default)(this._ids),o={},n=[],s=[],r=[],a=0,h=e.length;a<h;a++)o[t=e[a]]=!0,this._ids[t]||(n.push(t),this._ids[t]=!0);for(a=0,h=i.length;a<h;a++)o[t=i[a]]||(s.push(t),r.push(this._data._data[t]),delete this._ids[t]);this.length+=n.length-s.length,n.length&&this._trigger("add",{items:n}),s.length&&this._trigger("remove",{items:s,oldData:r})},n.prototype.get=function(t){var e,i,o=this,n=r.getType(t),n="String"==n||"Number"==n||"Array"==n?(e=t,i=arguments[1],arguments[2]):(i=t,arguments[1]),t=r.extend({},this._options,i),s=(this._options.filter&&i&&i.filter&&(t.filter=function(t){return o._options.filter(t)&&i.filter(t)}),[]);return null!=e&&s.push(e),s.push(t),s.push(n),this._data&&this._data.get.apply(this._data,s)},n.prototype.getIds=function(e){var i,t;return this._data?(i=this._options.filter,t=e&&e.filter?i?function(t){return i(t)&&e.filter(t)}:e.filter:i,this._data.getIds({filter:t,order:e&&e.order})):[]},n.prototype.map=function(t,e){var i,o;return this._data?(i=this._options.filter,o=e&&e.filter?i?function(t){return i(t)&&e.filter(t)}:e.filter:i,this._data.map(t,{filter:o,order:e&&e.order})):[]},n.prototype.getDataSet=function(){for(var t=this;t instanceof n;)t=t._data;return t||null},n.prototype._onEvent=function(l,t,e){var i,o,n,s=t&&t.items,r=[],a=[],h=[],u=[],c=[],d=[];if(s&&this._data){switch(l){case"add":for(i=0,o=s.length;i<o;i++)n=s[i],this.get(n)&&(this._ids[n]=!0,r.push(n));break;case"update":for(i=0,o=s.length;i<o;i++)n=s[i],this.get(n)?this._ids[n]?(a.push(n),c.push(t.data[i]),u.push(t.oldData[i])):(this._ids[n]=!0,r.push(n)):this._ids[n]&&(delete this._ids[n],h.push(n),d.push(t.oldData[i]));break;case"remove":for(i=0,o=s.length;i<o;i++)n=s[i],this._ids[n]&&(delete this._ids[n],h.push(n),d.push(t.oldData[i]))}this.length+=r.length-h.length,r.length&&this._trigger("add",{items:r},e),a.length&&this._trigger("update",{items:a,oldData:u,data:c},e),h.length&&this._trigger("remove",{items:h,oldData:d},e)}},n.prototype.on=o.prototype.on,n.prototype.off=o.prototype.off,n.prototype._trigger=o.prototype._trigger,n.prototype.subscribe=n.prototype.on,n.prototype.unsubscribe=n.prototype.off,t.exports=n},function(i,n,t){var e=t(95),l=(e=e)&&e.__esModule?e:{default:e};var e=t(99),h=t(89),d=t(93),s=t(1),O=t(100),S=t(101),u=(t(102),t(107)),c=t(108),M=t(109),p=t(110),o=t(111),t=void 0,f={width:"400px",height:"400px",filterLabel:"time",legendLabel:"value",xLabel:"x",yLabel:"y",zLabel:"z",xValueLabel:function(t){return t},yValueLabel:function(t){return t},zValueLabel:function(t){return t},showXAxis:!0,showYAxis:!0,showZAxis:!0,showGrid:!0,showPerspective:!0,showShadow:!1,keepAspectRatio:!0,verticalRatio:.5,dotSizeRatio:.02,showAnimationControls:t,animationInterval:1e3,animationPreload:!1,animationAutoStart:t,axisColor:"#4D4D4D",gridColor:"#D3D3D3",xCenter:"55%",yCenter:"50%",style:(y.STYLE=o.STYLE).DOT,tooltip:!1,tooltipStyle:{content:{padding:"10px",border:"1px solid #4d4d4d",color:"#1a1a1a",background:"rgba(255,255,255,0.7)",borderRadius:"2px",boxShadow:"5px 5px 10px rgba(128,128,128,0.5)"},line:{height:"40px",width:"0",borderLeft:"1px solid #4d4d4d"},dot:{height:"0",width:"0",border:"5px solid #4d4d4d",borderRadius:"5px"}},showLegend:t,backgroundColor:t,dataColor:{fill:"#7DC1FF",stroke:"#3267D2",strokeWidth:1},cameraPosition:{horizontal:1,vertical:.5,distance:1.7},xBarWidth:t,yBarWidth:t,valueMin:t,valueMax:t,xMin:t,xMax:t,xStep:t,yMin:t,yMax:t,yStep:t,zMin:t,zMax:t,zStep:t};function y(t,e,i){if(!(this instanceof y))throw new SyntaxError("Constructor must be called with the new operator");this.containerElement=t,this.dataTable=null,this.dataPoints=null,this.create(),o.setDefaults(f,this),this.colX=void 0,this.colY=void 0,this.colZ=void 0,this.colValue=void 0,this.colFilter=void 0,this.setOptions(i),e&&this.setData(e)}function r(t){return"clientX"in t?t.clientX:t.targetTouches[0]&&t.targetTouches[0].clientX||0}function a(t){return"clientY"in t?t.clientY:t.targetTouches[0]&&t.targetTouches[0].clientY||0}e(y.prototype),y.prototype._setScale=function(){this.scale=new O(1/this.xRange.range(),1/this.yRange.range(),1/this.zRange.range()),this.keepAspectRatio&&(this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y),this.scale.z*=this.verticalRatio,void 0!==this.valueRange&&(this.scale.value=1/this.valueRange.range());var t=this.xRange.center()*this.scale.x,e=this.yRange.center()*this.scale.y,i=this.zRange.center()*this.scale.z;this.camera.setArmLocation(t,e,i)},y.prototype._convert3Dto2D=function(t){t=this._convertPointToTranslation(t);return this._convertTranslationToScreen(t)},y.prototype._convertPointToTranslation=function(t){var e=this.camera.getCameraLocation(),i=this.camera.getCameraRotation(),o=t.x*this.scale.x,n=t.y*this.scale.y,t=t.z*this.scale.z,s=e.x,r=e.y,e=e.z,l=Math.sin(i.x),u=Math.cos(i.x),a=Math.sin(i.y),h=Math.cos(i.y),d=Math.sin(i.z),i=Math.cos(i.z);return new O(h*(d*(n-r)+i*(o-s))-a*(t-e),l*(h*(t-e)+a*(d*(n-r)+i*(o-s)))+u*(i*(n-r)-d*(o-s)),u*(h*(t-e)+a*(d*(n-r)+i*(o-s)))-l*(i*(n-r)-d*(o-s)))},y.prototype._convertTranslationToScreen=function(t){var e,i=this.eye.x,o=this.eye.y,n=this.eye.z,s=t.x,r=t.y,t=t.z,i=this.showPerspective?(e=n/t*(s-i),n/t*(r-o)):(e=s*-(n/this.camera.getArmLength()),r*-(n/this.camera.getArmLength()));return new S(this.currentXCenter+e*this.frame.canvas.clientWidth,this.currentYCenter-i*this.frame.canvas.clientWidth)},y.prototype._calcTranslations=function(t,e){void 0===e&&(e=!0);for(var i=0;i<t.length;i++){var o=t[i],n=(o.trans=this._convertPointToTranslation(o.point),o.screen=this._convertTranslationToScreen(o.trans),this._convertPointToTranslation(o.bottom));o.dist=this.showPerspective?n.length():-n.z}e&&t.sort(function(t,e){return e.dist-t.dist})},y.prototype.getNumberOfRows=function(t){return t.length},y.prototype.getNumberOfColumns=function(t){var e,i=0;for(e in t[0])t[0].hasOwnProperty(e)&&i++;return i},y.prototype.getDistinctValues=function(t,e){for(var i=[],o=0;o<t.length;o++)-1==i.indexOf(t[o][e])&&i.push(t[o][e]);return i.sort(function(t,e){return t-e})},y.prototype.getSmallestDifference=function(t,e){for(var i=this.getDistinctValues(t,e),o=null,n=1;n<i.length;n++){var s=i[n]-i[n-1];(null==o||s<o)&&(o=s)}return o},y.prototype.getColumnRange=function(t,e){for(var i=new p,o=0;o<t.length;o++){var n=t[o][e];i.adjust(n)}return i},y.prototype._checkValueField=function(t){if(this.style===y.STYLE.BARCOLOR||this.style===y.STYLE.BARSIZE||this.style===y.STYLE.DOTCOLOR||this.style===y.STYLE.DOTSIZE){if(void 0===this.colValue)throw new Error("Expected data to have  field 'style'  for graph style '"+this.style+"'");if(void 0===t[0][this.colValue])throw new Error("Expected data to have  field '"+this.colValue+"'  for graph style '"+this.style+"'")}},y.prototype._setRangeDefaults=function(t,e,i){void 0!==e&&(t.min=e),void 0!==i&&(t.max=i),t.max<=t.min&&(t.max=t.min+1)},y.prototype._dataInitialize=function(t,e){var i,o,n,s=this;if(this.dataSet&&this.dataSet.off("*",this._onChange),void 0!==t){if(!((t=Array.isArray(t)?new h(t):t)instanceof h||t instanceof d))throw new Error("Array, DataSet, or DataView expected");0!=(i=t.get()).length&&(this.dataSet=t,this.dataTable=i,this._onChange=function(){s.setData(s.dataSet)},this.dataSet.on("*",this._onChange),this.colX="x",this.colY="y",this.colZ="z",(o=this.style==y.STYLE.BAR||this.style==y.STYLE.BARCOLOR||this.style==y.STYLE.BARSIZE)&&(void 0!==this.defaultXBarWidth?this.xBarWidth=this.defaultXBarWidth:this.xBarWidth=this.getSmallestDifference(i,this.colX)||1,void 0!==this.defaultYBarWidth?this.yBarWidth=this.defaultYBarWidth:this.yBarWidth=this.getSmallestDifference(i,this.colY)||1),n=this.getColumnRange(i,this.colX),o&&n.expand(this.xBarWidth/2),this._setRangeDefaults(n,this.defaultXMin,this.defaultXMax),this.xRange=n,this.xStep=void 0!==this.defaultXStep?this.defaultXStep:n.range()/5,n=this.getColumnRange(i,this.colY),o&&n.expand(this.yBarWidth/2),this._setRangeDefaults(n,this.defaultYMin,this.defaultYMax),this.yRange=n,this.yStep=void 0!==this.defaultYStep?this.defaultYStep:n.range()/5,o=this.getColumnRange(i,this.colZ),this._setRangeDefaults(o,this.defaultZMin,this.defaultZMax),this.zRange=o,this.zStep=void 0!==this.defaultZStep?this.defaultZStep:o.range()/5,i[0].hasOwnProperty("style")&&(this.colValue="style",n=this.getColumnRange(i,this.colValue),this._setRangeDefaults(n,this.defaultValueMin,this.defaultValueMax),this.valueRange=n),i[0].hasOwnProperty("filter")&&(this.colFilter="filter",void 0===this.dataFilter&&(this.dataFilter=new u(t,this.colFilter,this),this.dataFilter.setOnLoadCallback(function(){s.redraw()}))),this._setScale())}},y.prototype._getDataPoints=function(t){var e,i,o=[];if(this.style===y.STYLE.GRID||this.style===y.STYLE.SURFACE){for(var n=[],l=[],s=0;s<this.getNumberOfRows(t);s++)a=t[s][this.colX]||0,h=t[s][this.colY]||0,-1===n.indexOf(a)&&n.push(a),-1===l.indexOf(h)&&l.push(h);var u=function(t,e){return t-e},r=(n.sort(u),l.sort(u),[]);for(s=0;s<t.length;s++){var a=t[s][this.colX]||0,h=t[s][this.colY]||0,c=t[s][this.colZ]||0,p=n.indexOf(a),f=l.indexOf(h),d=(void 0===r[p]&&(r[p]=[]),new O);d.x=a,d.y=h,d.z=c,d.data=t[s],(e={}).point=d,e.trans=void 0,e.screen=void 0,e.bottom=new O(a,h,this.zRange.min),r[p][f]=e,o.push(e)}for(a=0;a<r.length;a++)for(h=0;h<r[a].length;h++)r[a][h]&&(r[a][h].pointRight=a<r.length-1?r[a+1][h]:void 0,r[a][h].pointTop=h<r[a].length-1?r[a][h+1]:void 0,r[a][h].pointCross=a<r.length-1&&h<r[a].length-1?r[a+1][h+1]:void 0)}else for(this._checkValueField(t),s=0;s<t.length;s++)(i=new O).x=t[s][this.colX]||0,i.y=t[s][this.colY]||0,i.z=t[s][this.colZ]||0,i.data=t[s],void 0!==this.colValue&&(i.value=t[s][this.colValue]||0),(e={}).point=i,e.bottom=new O(i.x,i.y,this.zRange.min),e.trans=void 0,e.screen=void 0,this.style===y.STYLE.LINE&&0<s&&(o[s-1].pointNext=e),o.push(e);return o},y.prototype.create=function(){for(;this.containerElement.hasChildNodes();)this.containerElement.removeChild(this.containerElement.firstChild);this.frame=document.createElement("div"),this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas);var t=document.createElement("DIV"),e=(t.style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerHTML="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(t),this.frame.filter=document.createElement("div"),this.frame.filter.style.position="absolute",this.frame.filter.style.bottom="0px",this.frame.filter.style.left="0px",this.frame.filter.style.width="100%",this.frame.appendChild(this.frame.filter),this);s.addEventListener(this.frame.canvas,"mousedown",function(t){e._onMouseDown(t)}),s.addEventListener(this.frame.canvas,"touchstart",function(t){e._onTouchStart(t)}),s.addEventListener(this.frame.canvas,"mousewheel",function(t){e._onWheel(t)}),s.addEventListener(this.frame.canvas,"mousemove",function(t){e._onTooltip(t)}),s.addEventListener(this.frame.canvas,"click",function(t){e._onClick(t)}),this.containerElement.appendChild(this.frame)},y.prototype._setSize=function(t,e){this.frame.style.width=t,this.frame.style.height=e,this._resizeCanvas()},y.prototype._resizeCanvas=function(){this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=this.frame.canvas.clientWidth,this.frame.canvas.height=this.frame.canvas.clientHeight,this.frame.filter.style.width=this.frame.canvas.clientWidth-20+"px"},y.prototype.animationStart=function(){if(!this.frame.filter||!this.frame.filter.slider)throw new Error("No animation available");this.frame.filter.slider.play()},y.prototype.animationStop=function(){this.frame.filter&&this.frame.filter.slider&&this.frame.filter.slider.stop()},y.prototype._resizeCenter=function(){"%"===this.xCenter.charAt(this.xCenter.length-1)?this.currentXCenter=parseFloat(this.xCenter)/100*this.frame.canvas.clientWidth:this.currentXCenter=parseFloat(this.xCenter),"%"===this.yCenter.charAt(this.yCenter.length-1)?this.currentYCenter=parseFloat(this.yCenter)/100*(this.frame.canvas.clientHeight-this.frame.filter.clientHeight):this.currentYCenter=parseFloat(this.yCenter)},y.prototype.getCameraPosition=function(){var t=this.camera.getArmRotation();return t.distance=this.camera.getArmLength(),t},y.prototype._readData=function(t){this._dataInitialize(t,this.style),this.dataFilter?this.dataPoints=this.dataFilter._getDataPoints():this.dataPoints=this._getDataPoints(this.dataTable),this._redrawFilter()},y.prototype.setData=function(t){this._readData(t),this.redraw(),this.animationAutoStart&&this.dataFilter&&this.animationStart()},y.prototype.setOptions=function(t){this.animationStop(),o.setOptions(t,this),this.setPointDrawingMethod(),this._setSize(this.width,this.height),this.dataTable&&this.setData(this.dataTable),this.animationAutoStart&&this.dataFilter&&this.animationStart()},y.prototype.setPointDrawingMethod=function(){var t=void 0;switch(this.style){case y.STYLE.BAR:t=y.prototype._redrawBarGraphPoint;break;case y.STYLE.BARCOLOR:t=y.prototype._redrawBarColorGraphPoint;break;case y.STYLE.BARSIZE:t=y.prototype._redrawBarSizeGraphPoint;break;case y.STYLE.DOT:t=y.prototype._redrawDotGraphPoint;break;case y.STYLE.DOTLINE:t=y.prototype._redrawDotLineGraphPoint;break;case y.STYLE.DOTCOLOR:t=y.prototype._redrawDotColorGraphPoint;break;case y.STYLE.DOTSIZE:t=y.prototype._redrawDotSizeGraphPoint;break;case y.STYLE.SURFACE:t=y.prototype._redrawSurfaceGraphPoint;break;case y.STYLE.GRID:t=y.prototype._redrawGridGraphPoint;break;case y.STYLE.LINE:t=y.prototype._redrawLineGraphPoint;break;default:throw new Error("Can not determine point drawing method for graph style '"+this.style+"'")}this._pointDrawingMethod=t},y.prototype.redraw=function(){if(void 0===this.dataPoints)throw new Error("Graph data not initialized");this._resizeCanvas(),this._resizeCenter(),this._redrawSlider(),this._redrawClear(),this._redrawAxis(),this._redrawDataGraph(),this._redrawInfo(),this._redrawLegend()},y.prototype._getContext=function(){var t=this.frame.canvas.getContext("2d");return t.lineJoin="round",t.lineCap="round",t},y.prototype._redrawClear=function(){var t=this.frame.canvas;t.getContext("2d").clearRect(0,0,t.width,t.height)},y.prototype._dotSize=function(){return this.frame.clientWidth*this.dotSizeRatio},y.prototype._getLegendWidth=function(){var t;return this.style===y.STYLE.DOTSIZE?(t=this._dotSize())/2+2*t:this.style===y.STYLE.BARSIZE?this.xBarWidth:20},y.prototype._redrawLegend=function(){if(!0===this.showLegend&&this.style!==y.STYLE.LINE&&this.style!==y.STYLE.BARSIZE){var l,t=this.style===y.STYLE.BARSIZE||this.style===y.STYLE.DOTSIZE,u=this.style===y.STYLE.DOTSIZE||this.style===y.STYLE.DOTCOLOR||this.style===y.STYLE.BARCOLOR,e=Math.max(.25*this.frame.clientHeight,100),i=this.margin,c=this._getLegendWidth(),o=this.frame.clientWidth-this.margin,n=o-c,s=i+e,r=this._getContext();if(r.lineWidth=1,!(r.font="14px arial")==t){var p=e;for(a=0;a<p;a++){var f=this._hsv2rgb(240*(+a/+p),1,1);r.strokeStyle=f,r.beginPath(),r.moveTo(n,i+a),r.lineTo(o,i+a),r.stroke()}r.strokeStyle=this.axisColor,r.strokeRect(n,i,c,e)}else this.style===y.STYLE.DOTSIZE?l=this._dotSize()/2:(this.style,y.STYLE.BARSIZE),r.strokeStyle=this.axisColor,r.fillStyle=this.dataColor.fill,r.beginPath(),r.moveTo(n,i),r.lineTo(o,i),r.lineTo(o-c+l,s),r.lineTo(n,s),r.closePath(),r.fill(),r.stroke();var a,m,g,h=(u?this.valueRange:this.zRange).min,v=(u?this.valueRange:this.zRange).max,d=new M(h,v,(v-h)/5,!0);for(d.start(!0);!d.end();)a=s-(d.getCurrent()-h)/(v-h)*e,m=new S(n-5,a),g=new S(n,a),this._line(r,m,g),r.textAlign="right",r.textBaseline="middle",r.fillStyle=this.axisColor,r.fillText(d.getCurrent(),n-10,a),d.next();r.textAlign="right",r.textBaseline="top";t=this.legendLabel;r.fillText(t,o,s+this.margin)}},y.prototype._redrawFilter=function(){var t,e,i;this.frame.filter.innerHTML="",this.dataFilter?(t={visible:this.showAnimationControls},e=new c(this.frame.filter,t),this.frame.filter.slider=e,this.frame.filter.style.padding="10px",e.setValues(this.dataFilter.values),e.setPlayInterval(this.animationInterval),i=this,e.setOnChangeCallback(function(){var t=e.getIndex();i.dataFilter.selectValue(t),i.dataPoints=i.dataFilter._getDataPoints(),i.redraw()})):this.frame.filter.slider=void 0},y.prototype._redrawSlider=function(){void 0!==this.frame.filter.slider&&this.frame.filter.slider.redraw()},y.prototype._redrawInfo=function(){var t,e,i;this.dataFilter&&((t=this._getContext()).font="14px arial",t.lineStyle="gray",t.fillStyle="gray",t.textAlign="left",t.textBaseline="top",e=this.margin,i=this.margin,t.fillText(this.dataFilter.getLabel()+": "+this.dataFilter.getSelectedValue(),e,i))},y.prototype._line=function(t,e,i,o){void 0!==o&&(t.strokeStyle=o),t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(i.x,i.y),t.stroke()},y.prototype.drawAxisLabelX=function(t,e,i,o,n){void 0===n&&(n=0);e=this._convert3Dto2D(e);0<Math.cos(2*o)?(t.textAlign="center",t.textBaseline="top",e.y+=n):(Math.sin(2*o)<0?t.textAlign="right":t.textAlign="left",t.textBaseline="middle"),t.fillStyle=this.axisColor,t.fillText(i,e.x,e.y)},y.prototype.drawAxisLabelY=function(t,e,i,o,n){void 0===n&&(n=0);e=this._convert3Dto2D(e);Math.cos(2*o)<0?(t.textAlign="center",t.textBaseline="top",e.y+=n):(0<Math.sin(2*o)?t.textAlign="right":t.textAlign="left",t.textBaseline="middle"),t.fillStyle=this.axisColor,t.fillText(i,e.x,e.y)},y.prototype.drawAxisLabelZ=function(t,e,i,o){void 0===o&&(o=0);e=this._convert3Dto2D(e);t.textAlign="right",t.textBaseline="middle",t.fillStyle=this.axisColor,t.fillText(i,e.x-o,e.y)},y.prototype._line3d=function(t,e,i,o){e=this._convert3Dto2D(e),i=this._convert3Dto2D(i);this._line(t,e,i,o)},y.prototype._redrawAxis=function(){var t,e,l,i=this._getContext(),u=(i.font=24/this.camera.getArmLength()+"px arial",.025/this.scale.x),c=.025/this.scale.y,p=5/this.camera.getArmLength(),f=this.camera.getArmRotation().horizontal,m=new S(Math.cos(f),Math.sin(f)),o=this.xRange,n=this.yRange,s=this.zRange;for(i.lineWidth=1,d=void 0===this.defaultXStep,(e=new M(o.min,o.max,this.xStep,d)).start(!0);!e.end();){var r,g=e.getCurrent();this.showGrid?(t=new O(g,n.min,s.min),h=new O(g,n.max,s.min),this._line3d(i,t,h,this.gridColor)):this.showXAxis&&(t=new O(g,n.min,s.min),h=new O(g,n.min+u,s.min),this._line3d(i,t,h,this.axisColor),t=new O(g,n.max,s.min),h=new O(g,n.max-u,s.min),this._line3d(i,t,h,this.axisColor)),this.showXAxis&&(r=0<m.x?n.min:n.max,v=new O(g,r,s.min),x="  "+this.xValueLabel(g)+"  ",this.drawAxisLabelX(i,v,x,f,p)),e.next()}for(i.lineWidth=1,d=void 0===this.defaultYStep,(e=new M(n.min,n.max,this.yStep,d)).start(!0);!e.end();){var a,v,y=e.getCurrent();this.showGrid?(t=new O(o.min,y,s.min),h=new O(o.max,y,s.min),this._line3d(i,t,h,this.gridColor)):this.showYAxis&&(t=new O(o.min,y,s.min),h=new O(o.min+c,y,s.min),this._line3d(i,t,h,this.axisColor),t=new O(o.max,y,s.min),h=new O(o.max-c,y,s.min),this._line3d(i,t,h,this.axisColor)),this.showYAxis&&(a=0<m.y?o.min:o.max,v=new O(a,y,s.min),x="  "+this.yValueLabel(y)+"  ",this.drawAxisLabelY(i,v,x,f,p)),e.next()}if(this.showZAxis){for(i.lineWidth=1,d=void 0===this.defaultZStep,(e=new M(s.min,s.max,this.zStep,d)).start(!0),a=0<m.x?o.min:o.max,r=m.y<0?n.min:n.max;!e.end();){var b=e.getCurrent(),_=new O(a,r,b),w=this._convert3Dto2D(_),h=new S(w.x-p,w.y),x=(this._line(i,w,h,this.axisColor),this.zValueLabel(b)+" ");this.drawAxisLabelZ(i,_,x,5),e.next()}i.lineWidth=1,t=new O(a,r,s.min),h=new O(a,r,s.max),this._line3d(i,t,h,this.axisColor)}this.showXAxis&&(i.lineWidth=1,d=new O(o.min,n.min,s.min),k=new O(o.max,n.min,s.min),this._line3d(i,d,k,this.axisColor),d=new O(o.min,n.max,s.min),k=new O(o.max,n.max,s.min),this._line3d(i,d,k,this.axisColor)),this.showYAxis&&(i.lineWidth=1,t=new O(o.min,n.min,s.min),h=new O(o.min,n.max,s.min),this._line3d(i,t,h,this.axisColor),t=new O(o.max,n.min,s.min),h=new O(o.max,n.max,s.min),this._line3d(i,t,h,this.axisColor));var d=this.xLabel,k=(0<d.length&&this.showXAxis&&(k=.1/this.scale.y,a=(o.max+3*o.min)/4,r=0<m.x?n.min-k:n.max+k,l=new O(a,r,s.min),this.drawAxisLabelX(i,l,d,f)),this.yLabel),d=(0<k.length&&this.showYAxis&&(d=.1/this.scale.x,a=0<m.y?o.min-d:o.max+d,r=(n.max+3*n.min)/4,l=new O(a,r,s.min),this.drawAxisLabelY(i,l,k,f)),this.zLabel);0<d.length&&this.showZAxis&&(a=0<m.x?o.min:o.max,r=m.y<0?n.min:n.max,k=(s.max+3*s.min)/4,l=new O(a,r,k),this.drawAxisLabelZ(i,l,d,30))},y.prototype._hsv2rgb=function(t,e,i){var o,n,s,r=i*e,i=Math.floor(t/60),a=r*(1-Math.abs(t/60%2-1));switch(i){case 0:o=r,n=a,s=0;break;case 1:o=a,n=r,s=0;break;case 2:o=0,n=r,s=a;break;case 3:o=0,n=a,s=r;break;case 4:o=a,n=0,s=r;break;case 5:o=r,n=0,s=a;break;default:s=n=o=0}return"RGB("+parseInt(255*o)+","+parseInt(255*n)+","+parseInt(255*s)+")"},y.prototype._getStrokeWidth=function(t){return void 0!==t?this.showPerspective?1/-t.trans.z*this.dataColor.strokeWidth:-(this.eye.z/this.camera.getArmLength())*this.dataColor.strokeWidth:this.dataColor.strokeWidth},y.prototype._redrawBar=function(t,e,i,o,l,u){var n,c=this,s=e.point,r=this.zRange.min,a=[{point:new O(s.x-i,s.y-o,s.z)},{point:new O(s.x+i,s.y-o,s.z)},{point:new O(s.x+i,s.y+o,s.z)},{point:new O(s.x-i,s.y+o,s.z)}],i=[{point:new O(s.x-i,s.y-o,r)},{point:new O(s.x+i,s.y-o,r)},{point:new O(s.x+i,s.y+o,r)},{point:new O(s.x-i,s.y+o,r)}],h=(a.forEach(function(t){t.screen=c._convert3Dto2D(t.point)}),i.forEach(function(t){t.screen=c._convert3Dto2D(t.point)}),[{corners:a,center:O.avg(i[0].point,i[2].point)},{corners:[a[0],a[1],i[1],i[0]],center:O.avg(i[1].point,i[0].point)},{corners:[a[1],a[2],i[2],i[1]],center:O.avg(i[2].point,i[1].point)},{corners:[a[2],a[3],i[3],i[2]],center:O.avg(i[3].point,i[2].point)},{corners:[a[3],a[0],i[0],i[3]],center:O.avg(i[0].point,i[3].point)}]);for(e.surfaces=h,n=0;n<h.length;n++){var d=h[n],p=this._convertPointToTranslation(d.center);d.dist=this.showPerspective?p.length():-p.z}for(h.sort(function(t,e){var i=e.dist-t.dist;return i||(t.corners===a?1:e.corners===a?-1:0)}),t.lineWidth=this._getStrokeWidth(e),t.strokeStyle=u,t.fillStyle=l,n=2;n<h.length;n++)d=h[n],this._polygon(t,d.corners)},y.prototype._polygon=function(t,e,i,o){if(!(e.length<2)){void 0!==i&&(t.fillStyle=i),void 0!==o&&(t.strokeStyle=o),t.beginPath(),t.moveTo(e[0].screen.x,e[0].screen.y);for(var n=1;n<e.length;++n){var s=e[n];t.lineTo(s.screen.x,s.screen.y)}t.closePath(),t.fill(),t.stroke()}},y.prototype._drawCircle=function(t,e,i,o,n){n=this._calcRadius(e,n);t.lineWidth=this._getStrokeWidth(e),t.strokeStyle=o,t.fillStyle=i,t.beginPath(),t.arc(e.screen.x,e.screen.y,n,0,2*Math.PI,!0),t.fill(),t.stroke()},y.prototype._getColorsRegular=function(t){t=240*(1-(t.point.z-this.zRange.min)*this.scale.z/this.verticalRatio);return{fill:this._hsv2rgb(t,1,1),border:this._hsv2rgb(t,1,.8)}},y.prototype._getColorsColor=function(t){var e;return t="string"==typeof t.point.value?(e=t.point.value,t.point.value):(t=240*(1-(t.point.value-this.valueRange.min)*this.scale.value),e=this._hsv2rgb(t,1,1),this._hsv2rgb(t,1,.8)),{fill:e,border:t}},y.prototype._getColorsSize=function(){return{fill:this.dataColor.fill,border:this.dataColor.stroke}},y.prototype._calcRadius=function(t,e){return void 0===e&&(e=this._dotSize()),t=(t=this.showPerspective?e/-t.trans.z:e*-(this.eye.z/this.camera.getArmLength()))<0?0:t},y.prototype._redrawBarGraphPoint=function(t,e){var i=this.xBarWidth/2,o=this.yBarWidth/2,n=this._getColorsRegular(e);this._redrawBar(t,e,i,o,n.fill,n.border)},y.prototype._redrawBarColorGraphPoint=function(t,e){var i=this.xBarWidth/2,o=this.yBarWidth/2,n=this._getColorsColor(e);this._redrawBar(t,e,i,o,n.fill,n.border)},y.prototype._redrawBarSizeGraphPoint=function(t,e){var i=(e.point.value-this.valueRange.min)/this.valueRange.range(),o=this.xBarWidth/2*(.8*i+.2),i=this.yBarWidth/2*(.8*i+.2),n=this._getColorsSize();this._redrawBar(t,e,o,i,n.fill,n.border)},y.prototype._redrawDotGraphPoint=function(t,e){var i=this._getColorsRegular(e);this._drawCircle(t,e,i.fill,i.border)},y.prototype._redrawDotLineGraphPoint=function(t,e){var i=this._convert3Dto2D(e.bottom);t.lineWidth=1,this._line(t,i,e.screen,this.gridColor),this._redrawDotGraphPoint(t,e)},y.prototype._redrawDotColorGraphPoint=function(t,e){var i=this._getColorsColor(e);this._drawCircle(t,e,i.fill,i.border)},y.prototype._redrawDotSizeGraphPoint=function(t,e){var i=this._dotSize(),i=i/2+2*i*((e.point.value-this.valueRange.min)/this.valueRange.range()),o=this._getColorsSize();this._drawCircle(t,e,o.fill,o.border,i)},y.prototype._redrawSurfaceGraphPoint=function(t,e){var i,o,n,s,r,a=e.pointRight,h=e.pointTop,d=e.pointCross;void 0!==e&&void 0!==a&&void 0!==h&&void 0!==d&&(n=!0,(this.showGrayBottom||this.showShadow)&&(r=O.subtract(d.trans,e.trans),o=O.subtract(h.trans,a.trans),o=(r=O.crossProduct(r,o)).length(),n=0<r.z),r=n?(n=240*(1-((e.point.z+a.point.z+h.point.z+d.point.z)/4-this.zRange.min)*this.scale.z/this.verticalRatio),this.showShadow?(s=Math.min(1+r.x/o/2,1),i=this._hsv2rgb(n,1,s)):(i=this._hsv2rgb(n,s=1,s),this.axisColor)):(i="gray",this.axisColor),t.lineWidth=this._getStrokeWidth(e),this._polygon(t,[e,a,d,h],i,r))},y.prototype._drawGridLine=function(t,e,i){var o;void 0!==e&&void 0!==i&&(o=240*(1-((e.point.z+i.point.z)/2-this.zRange.min)*this.scale.z/this.verticalRatio),t.lineWidth=2*this._getStrokeWidth(e),t.strokeStyle=this._hsv2rgb(o,1,1),this._line(t,e.screen,i.screen))},y.prototype._redrawGridGraphPoint=function(t,e){this._drawGridLine(t,e,e.pointRight),this._drawGridLine(t,e,e.pointTop)},y.prototype._redrawLineGraphPoint=function(t,e){void 0!==e.pointNext&&(t.lineWidth=this._getStrokeWidth(e),t.strokeStyle=this.dataColor.stroke,this._line(t,e.screen,e.pointNext.screen))},y.prototype._redrawDataGraph=function(){var t,e=this._getContext();if(!(void 0===this.dataPoints||this.dataPoints.length<=0))for(this._calcTranslations(this.dataPoints),t=0;t<this.dataPoints.length;t++){var i=this.dataPoints[t];this._pointDrawingMethod.call(this,e,i)}},y.prototype._storeMousePosition=function(t){this.startMouseX=r(t),this.startMouseY=a(t),this._startCameraOffset=this.camera.getOffset()},y.prototype._onMouseDown=function(t){var e;t=t||window.event,this.leftButtonDown&&this._onMouseUp(t),this.leftButtonDown=t.which?1===t.which:1===t.button,(this.leftButtonDown||this.touchDown)&&(this._storeMousePosition(t),this.startStart=new Date(this.start),this.startEnd=new Date(this.end),this.startArmRotation=this.camera.getArmRotation(),this.frame.style.cursor="move",(e=this).onmousemove=function(t){e._onMouseMove(t)},this.onmouseup=function(t){e._onMouseUp(t)},s.addEventListener(document,"mousemove",e.onmousemove),s.addEventListener(document,"mouseup",e.onmouseup),s.preventDefault(t))},y.prototype._onMouseMove=function(t){this.moving=!0,t=t||window.event;var e,i,o=parseFloat(r(t))-this.startMouseX,n=parseFloat(a(t))-this.startMouseY,n=(t&&!0===t.ctrlKey?(e=.5*this.frame.clientWidth,i=.5*this.frame.clientHeight,e=(this._startCameraOffset.x||0)-o/e*this.camera.armLength*.8,i=(this._startCameraOffset.y||0)+n/i*this.camera.armLength*.8,this.camera.setOffset(e,i),this._storeMousePosition(t)):(e=this.startArmRotation.horizontal+o/200,i=this.startArmRotation.vertical+n/200,o=Math.sin(4/360*2*Math.PI),Math.abs(Math.sin(e))<o&&(e=Math.round(e/Math.PI)*Math.PI-.001),Math.abs(Math.cos(e))<o&&(e=(Math.round(e/Math.PI-.5)+.5)*Math.PI-.001),Math.abs(Math.sin(i))<o&&(i=Math.round(i/Math.PI)*Math.PI),Math.abs(Math.cos(i))<o&&(i=(Math.round(i/Math.PI-.5)+.5)*Math.PI),this.camera.setArmRotation(e,i)),this.redraw(),this.getCameraPosition());this.emit("cameraPositionChange",n),s.preventDefault(t)},y.prototype._onMouseUp=function(t){this.frame.style.cursor="auto",this.leftButtonDown=!1,s.removeEventListener(document,"mousemove",this.onmousemove),s.removeEventListener(document,"mouseup",this.onmouseup),s.preventDefault(t)},y.prototype._onClick=function(t){var e,i;this.onclick_callback&&(this.moving?this.moving=!1:(e=this.frame.getBoundingClientRect(),i=r(t)-e.left,e=a(t)-e.top,(i=this._dataPointFromXY(i,e))&&this.onclick_callback(i.point.data)),s.preventDefault(t))},y.prototype._onTooltip=function(t){var e,i=this.frame.getBoundingClientRect(),o=r(t)-i.left,n=a(t)-i.top;this.showTooltip&&(this.tooltipTimeout&&clearTimeout(this.tooltipTimeout),this.leftButtonDown?this._hideTooltip():this.tooltip&&this.tooltip.dataPoint?(t=this._dataPointFromXY(o,n))!==this.tooltip.dataPoint&&(t?this._showTooltip(t):this._hideTooltip()):(e=this).tooltipTimeout=setTimeout(function(){e.tooltipTimeout=null;var t=e._dataPointFromXY(o,n);t&&e._showTooltip(t)},300))},y.prototype._onTouchStart=function(t){this.touchDown=!0;var e=this;this.ontouchmove=function(t){e._onTouchMove(t)},this.ontouchend=function(t){e._onTouchEnd(t)},s.addEventListener(document,"touchmove",e.ontouchmove),s.addEventListener(document,"touchend",e.ontouchend),this._onMouseDown(t)},y.prototype._onTouchMove=function(t){this._onMouseMove(t)},y.prototype._onTouchEnd=function(t){this.touchDown=!1,s.removeEventListener(document,"touchmove",this.ontouchmove),s.removeEventListener(document,"touchend",this.ontouchend),this._onMouseUp(t)},y.prototype._onWheel=function(t){var e=0,i=((t=t||window.event).wheelDelta?e=t.wheelDelta/120:t.detail&&(e=-t.detail/3),e&&(i=this.camera.getArmLength(),this.camera.setArmLength(i*(1-e/10)),this.redraw(),this._hideTooltip()),this.getCameraPosition());this.emit("cameraPositionChange",i),s.preventDefault(t)},y.prototype._insideTriangle=function(t,e){var i=e[0],o=e[1],e=e[2];function n(t){return 0<t?1:t<0?-1:0}var s=n((o.x-i.x)*(t.y-i.y)-(o.y-i.y)*(t.x-i.x)),o=n((e.x-o.x)*(t.y-o.y)-(e.y-o.y)*(t.x-o.x)),i=n((i.x-e.x)*(t.y-e.y)-(i.y-e.y)*(t.x-e.x));return!(0!=s&&0!=o&&s!=o||0!=o&&0!=i&&o!=i||0!=s&&0!=i&&s!=i)},y.prototype._dataPointFromXY=function(t,e){var i,o=null,l=null,n=null,u=new S(t,e);if(this.style===y.STYLE.BAR||this.style===y.STYLE.BARCOLOR||this.style===y.STYLE.BARSIZE)for(i=this.dataPoints.length-1;0<=i;i--){var s=(o=this.dataPoints[i]).surfaces;if(s)for(var r=s.length-1;0<=r;r--){var a=s[r].corners,c=[a[0].screen,a[1].screen,a[2].screen],a=[a[2].screen,a[3].screen,a[0].screen];if(this._insideTriangle(u,c)||this._insideTriangle(u,a))return o}}else for(i=0;i<this.dataPoints.length;i++){var h,d=(o=this.dataPoints[i]).screen;d&&(h=Math.abs(t-d.x),d=Math.abs(e-d.y),h=Math.sqrt(h*h+d*d),(null===n||h<n)&&h<100&&(n=h,l=o))}return l},y.prototype._showTooltip=function(t){this.tooltip?(e=this.tooltip.dom.content,i=this.tooltip.dom.line,o=this.tooltip.dom.dot):(e=document.createElement("div"),(0,l.default)(e.style,{},this.tooltipStyle.content),e.style.position="absolute",i=document.createElement("div"),(0,l.default)(i.style,{},this.tooltipStyle.line),i.style.position="absolute",o=document.createElement("div"),(0,l.default)(o.style,{},this.tooltipStyle.dot),o.style.position="absolute",this.tooltip={dataPoint:null,dom:{content:e,line:i,dot:o}}),this._hideTooltip(),this.tooltip.dataPoint=t,"function"==typeof this.showTooltip?e.innerHTML=this.showTooltip(t.point):e.innerHTML="<table><tr><td>"+this.xLabel+":</td><td>"+t.point.x+"</td></tr><tr><td>"+this.yLabel+":</td><td>"+t.point.y+"</td></tr><tr><td>"+this.zLabel+":</td><td>"+t.point.z+"</td></tr></table>",e.style.left="0",e.style.top="0",this.frame.appendChild(e),this.frame.appendChild(i),this.frame.appendChild(o);var e,i,o,n=e.offsetWidth,s=e.offsetHeight,r=i.offsetHeight,a=o.offsetWidth,h=o.offsetHeight,d=t.screen.x-n/2,d=Math.min(Math.max(d,10),this.frame.clientWidth-10-n);i.style.left=t.screen.x+"px",i.style.top=t.screen.y-r+"px",e.style.left=d+"px",e.style.top=t.screen.y-r-s+"px",o.style.left=t.screen.x-a/2+"px",o.style.top=t.screen.y-h/2+"px"},y.prototype._hideTooltip=function(){if(this.tooltip)for(var t in this.tooltip.dataPoint=null,this.tooltip.dom)!this.tooltip.dom.hasOwnProperty(t)||(t=this.tooltip.dom[t])&&t.parentNode&&t.parentNode.removeChild(t)},y.prototype.setCameraPosition=function(t){o.setCameraPosition(t,this),this.redraw()},y.prototype.setSize=function(t,e){this._setSize(t,e),this.redraw()},i.exports=y},function(t,e,i){t.exports={default:i(96),__esModule:!0}},function(t,e,i){i(97),t.exports=i(17).Object.assign},function(t,e,i){var o=i(15);o(o.S+o.F,"Object",{assign:i(98)})},function(t,e,i){var c=i(35),p=i(73),f=i(74),m=i(49),g=i(10),n=Object.assign;t.exports=!n||i(26)(function(){var t={},e={},i=Symbol(),o="abcdefghijklmnopqrst";return t[i]=7,o.split("").forEach(function(t){e[t]=t}),7!=n({},t)[i]||Object.keys(n({},e)).join("")!=o})?function(t,d){for(var e=m(t),i=arguments.length,o=1,n=p.f,l=f.f;o<i;)for(var s,r=g(arguments[o++]),a=n?c(r).concat(n(r)):c(r),u=a.length,h=0;h<u;)l.call(r,s=a[h++])&&(e[s]=r[s]);return e}:n},function(t,e){function o(t){if(t){var e,i=t;for(e in o.prototype)i[e]=o.prototype[e];return i}}(t.exports=o).prototype.on=o.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},o.prototype.once=function(t,e){var i=this;function o(){i.off(t,o),e.apply(this,arguments)}return this._callbacks=this._callbacks||{},o.fn=e,this.on(t,o),this},o.prototype.off=o.prototype.removeListener=o.prototype.removeAllListeners=o.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i,o=this._callbacks[t];if(!o)return this;if(1==arguments.length)return delete this._callbacks[t],this;for(var n=0;n<o.length;n++)if((i=o[n])===e||i.fn===e){o.splice(n,1);break}return this},o.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),i=this._callbacks[t];if(i)for(var o=0,n=(i=i.slice(0)).length;o<n;++o)i[o].apply(this,e);return this},o.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},o.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e){function o(t,e,i){this.x=void 0!==t?t:0,this.y=void 0!==e?e:0,this.z=void 0!==i?i:0}o.subtract=function(t,e){var i=new o;return i.x=t.x-e.x,i.y=t.y-e.y,i.z=t.z-e.z,i},o.add=function(t,e){var i=new o;return i.x=t.x+e.x,i.y=t.y+e.y,i.z=t.z+e.z,i},o.avg=function(t,e){return new o((t.x+e.x)/2,(t.y+e.y)/2,(t.z+e.z)/2)},o.crossProduct=function(t,e){var i=new o;return i.x=t.y*e.z-t.z*e.y,i.y=t.z*e.x-t.x*e.z,i.z=t.x*e.y-t.y*e.x,i},o.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},t.exports=o},function(t,e){t.exports=function(t,e){this.x=void 0!==t?t:0,this.y=void 0!==e?e:0}},function(t,e,i){var o=i(103),s=(o=o)&&o.__esModule?o:{default:o};var n=i(100);function r(){this.armLocation=new n,this.armRotation={},this.armRotation.horizontal=0,this.armRotation.vertical=0,this.armLength=1.7,this.cameraOffset=new n,this.offsetMultiplier=.6,this.cameraLocation=new n,this.cameraRotation=new n(.5*Math.PI,0,0),this.calculateCameraOrientation()}r.prototype.setOffset=function(t,e){var i=Math.abs,o=s.default,n=this.offsetMultiplier,n=this.armLength*n;i(t)>n&&(t=o(t)*n),i(e)>n&&(e=o(e)*n),this.cameraOffset.x=t,this.cameraOffset.y=e,this.calculateCameraOrientation()},r.prototype.getOffset=function(t,e){return this.cameraOffset},r.prototype.setArmLocation=function(t,e,i){this.armLocation.x=t,this.armLocation.y=e,this.armLocation.z=i,this.calculateCameraOrientation()},r.prototype.setArmRotation=function(t,e){void 0!==t&&(this.armRotation.horizontal=t),void 0!==e&&(this.armRotation.vertical=e,this.armRotation.vertical<0&&(this.armRotation.vertical=0),this.armRotation.vertical>.5*Math.PI&&(this.armRotation.vertical=.5*Math.PI)),void 0===t&&void 0===e||this.calculateCameraOrientation()},r.prototype.getArmRotation=function(){var t={};return t.horizontal=this.armRotation.horizontal,t.vertical=this.armRotation.vertical,t},r.prototype.setArmLength=function(t){void 0!==t&&(this.armLength=t,this.armLength<.71&&(this.armLength=.71),5<this.armLength&&(this.armLength=5),this.setOffset(this.cameraOffset.x,this.cameraOffset.y),this.calculateCameraOrientation())},r.prototype.getArmLength=function(){return this.armLength},r.prototype.getCameraLocation=function(){return this.cameraLocation},r.prototype.getCameraRotation=function(){return this.cameraRotation},r.prototype.calculateCameraOrientation=function(){this.cameraLocation.x=this.armLocation.x-this.armLength*Math.sin(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical),this.cameraLocation.y=this.armLocation.y-this.armLength*Math.cos(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical),this.cameraLocation.z=this.armLocation.z+this.armLength*Math.sin(this.armRotation.vertical),this.cameraRotation.x=Math.PI/2-this.armRotation.vertical,this.cameraRotation.y=0,this.cameraRotation.z=-this.armRotation.horizontal;var t=this.cameraRotation.x,e=(this.cameraRotation.y,this.cameraRotation.z),i=this.cameraOffset.x,o=this.cameraOffset.y,n=Math.sin,s=Math.cos;this.cameraLocation.x=this.cameraLocation.x+i*s(e)+o*-n(e)*s(t),this.cameraLocation.y=this.cameraLocation.y+i*n(e)+o*s(e)*s(t),this.cameraLocation.z=this.cameraLocation.z+o*n(t)},t.exports=r},function(t,e,i){t.exports={default:i(104),__esModule:!0}},function(t,e,i){i(105),t.exports=i(17).Math.sign},function(t,e,i){var o=i(15);o(o.S,"Math",{sign:i(106)})},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e,i){var n=i(93);function o(t,e,i){this.data=t,this.column=e,this.graph=i,this.index=void 0,this.value=void 0,this.values=i.getDistinctValues(t.get(),this.column),this.values.sort(function(t,e){return e<t?1:t<e?-1:0}),0<this.values.length&&this.selectValue(0),this.dataPoints=[],this.loaded=!1,this.onLoadCallback=void 0,i.animationPreload?(this.loaded=!1,this.loadInBackground()):this.loaded=!0}o.prototype.isLoaded=function(){return this.loaded},o.prototype.getLoadedProgress=function(){for(var t=this.values.length,e=0;this.dataPoints[e];)e++;return Math.round(e/t*100)},o.prototype.getLabel=function(){return this.graph.filterLabel},o.prototype.getColumn=function(){return this.column},o.prototype.getSelectedValue=function(){if(void 0!==this.index)return this.values[this.index]},o.prototype.getValues=function(){return this.values},o.prototype.getValue=function(t){if(t>=this.values.length)throw new Error("Index out of range");return this.values[t]},o.prototype._getDataPoints=function(t){return void 0===(t=void 0===t?this.index:t)?[]:(this.dataPoints[t]?o=this.dataPoints[t]:((e={}).column=this.column,e.value=this.values[t],i=new n(this.data,{filter:function(t){return t[e.column]==e.value}}).get(),o=this.graph._getDataPoints(i),this.dataPoints[t]=o),o);var e,i,o},o.prototype.setOnLoadCallback=function(t){this.onLoadCallback=t},o.prototype.selectValue=function(t){if(t>=this.values.length)throw new Error("Index out of range");this.index=t,this.value=this.values[t]},o.prototype.loadInBackground=function(t){void 0===t&&(t=0);var e,i,o=this.graph.frame;t<this.values.length?(this._getDataPoints(t),void 0===o.progress&&(o.progress=document.createElement("DIV"),o.progress.style.position="absolute",o.progress.style.color="gray",o.appendChild(o.progress)),e=this.getLoadedProgress(),o.progress.innerHTML="Loading animation... "+e+"%",o.progress.style.bottom="60px",o.progress.style.left="10px",i=this,setTimeout(function(){i.loadInBackground(t+1)},10),this.loaded=!1):(this.loaded=!0,void 0!==o.progress&&(o.removeChild(o.progress),o.progress=void 0),this.onLoadCallback&&this.onLoadCallback())},t.exports=o},function(t,e,i){var o=i(1);function n(t,e){if(void 0===t)throw new Error("No container element defined");var i;this.container=t,this.visible=!e||null==e.visible||e.visible,this.visible&&(this.frame=document.createElement("DIV"),this.frame.style.width="100%",this.frame.style.position="relative",this.container.appendChild(this.frame),this.frame.prev=document.createElement("INPUT"),this.frame.prev.type="BUTTON",this.frame.prev.value="Prev",this.frame.appendChild(this.frame.prev),this.frame.play=document.createElement("INPUT"),this.frame.play.type="BUTTON",this.frame.play.value="Play",this.frame.appendChild(this.frame.play),this.frame.next=document.createElement("INPUT"),this.frame.next.type="BUTTON",this.frame.next.value="Next",this.frame.appendChild(this.frame.next),this.frame.bar=document.createElement("INPUT"),this.frame.bar.type="BUTTON",this.frame.bar.style.position="absolute",this.frame.bar.style.border="1px solid red",this.frame.bar.style.width="100px",this.frame.bar.style.height="6px",this.frame.bar.style.borderRadius="2px",this.frame.bar.style.MozBorderRadius="2px",this.frame.bar.style.border="1px solid #7F7F7F",this.frame.bar.style.backgroundColor="#E5E5E5",this.frame.appendChild(this.frame.bar),this.frame.slide=document.createElement("INPUT"),this.frame.slide.type="BUTTON",this.frame.slide.style.margin="0px",this.frame.slide.value=" ",this.frame.slide.style.position="relative",this.frame.slide.style.left="-100px",this.frame.appendChild(this.frame.slide),(i=this).frame.slide.onmousedown=function(t){i._onMouseDown(t)},this.frame.prev.onclick=function(t){i.prev(t)},this.frame.play.onclick=function(t){i.togglePlay(t)},this.frame.next.onclick=function(t){i.next(t)}),this.onChangeCallback=void 0,this.values=[],this.index=void 0,this.playTimeout=void 0,this.playInterval=1e3,this.playLoop=!0}n.prototype.prev=function(){var t=this.getIndex();0<t&&this.setIndex(--t)},n.prototype.next=function(){var t=this.getIndex();t<this.values.length-1&&this.setIndex(++t)},n.prototype.playNext=function(){var t=new Date,e=this.getIndex(),e=(e<this.values.length-1?this.setIndex(++e):this.playLoop&&this.setIndex(e=0),new Date),e=Math.max(this.playInterval-(e-t),0),i=this;this.playTimeout=setTimeout(function(){i.playNext()},e)},n.prototype.togglePlay=function(){void 0===this.playTimeout?this.play():this.stop()},n.prototype.play=function(){this.playTimeout||(this.playNext(),this.frame&&(this.frame.play.value="Stop"))},n.prototype.stop=function(){clearInterval(this.playTimeout),this.playTimeout=void 0,this.frame&&(this.frame.play.value="Play")},n.prototype.setOnChangeCallback=function(t){this.onChangeCallback=t},n.prototype.setPlayInterval=function(t){this.playInterval=t},n.prototype.getPlayInterval=function(t){return this.playInterval},n.prototype.setPlayLoop=function(t){this.playLoop=t},n.prototype.onChange=function(){void 0!==this.onChangeCallback&&this.onChangeCallback()},n.prototype.redraw=function(){var t;this.frame&&(this.frame.bar.style.top=this.frame.clientHeight/2-this.frame.bar.offsetHeight/2+"px",this.frame.bar.style.width=this.frame.clientWidth-this.frame.prev.clientWidth-this.frame.play.clientWidth-this.frame.next.clientWidth-30+"px",t=this.indexToLeft(this.index),this.frame.slide.style.left=t+"px")},n.prototype.setValues=function(t){this.values=t,0<this.values.length?this.setIndex(0):this.index=void 0},n.prototype.setIndex=function(t){if(!(t<this.values.length))throw new Error("Index out of range");this.index=t,this.redraw(),this.onChange()},n.prototype.getIndex=function(){return this.index},n.prototype.get=function(){return this.values[this.index]},n.prototype._onMouseDown=function(t){var e;(t.which?1===t.which:1===t.button)&&(this.startClientX=t.clientX,this.startSlideX=parseFloat(this.frame.slide.style.left),this.frame.style.cursor="move",(e=this).onmousemove=function(t){e._onMouseMove(t)},this.onmouseup=function(t){e._onMouseUp(t)},o.addEventListener(document,"mousemove",this.onmousemove),o.addEventListener(document,"mouseup",this.onmouseup),o.preventDefault(t))},n.prototype.leftToIndex=function(t){var e=parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10,t=Math.round((t-3)/e*(this.values.length-1));return t=(t=t<0?0:t)>this.values.length-1?this.values.length-1:t},n.prototype.indexToLeft=function(t){var e=parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10;return 3+t/(this.values.length-1)*e},n.prototype._onMouseMove=function(t){t=t.clientX-this.startClientX,t=this.startSlideX+t,t=this.leftToIndex(t);this.setIndex(t),o.preventDefault()},n.prototype._onMouseUp=function(t){this.frame.style.cursor="auto",o.removeEventListener(document,"mousemove",this.onmousemove),o.removeEventListener(document,"mouseup",this.onmouseup),o.preventDefault()},t.exports=n},function(t,e){function i(t,e,i,o){this._start=0,this._end=0,this._step=1,this.prettyStep=!0,this.precision=5,this._current=0,this.setRange(t,e,i,o)}i.prototype.isNumeric=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},i.prototype.setRange=function(t,e,i,o){if(!this.isNumeric(t))throw new Error("Parameter 'start' is not numeric; value: "+t);if(!this.isNumeric(e))throw new Error("Parameter 'end' is not numeric; value: "+t);if(!this.isNumeric(i))throw new Error("Parameter 'step' is not numeric; value: "+t);this._start=t||0,this._end=e||0,this.setStep(i,o)},i.prototype.setStep=function(t,e){void 0===t||t<=0||(void 0!==e&&(this.prettyStep=e),!0===this.prettyStep?this._step=i.calculatePrettyStep(t):this._step=t)},i.calculatePrettyStep=function(t){function e(t){return Math.log(t)/Math.LN10}var i=Math.pow(10,Math.round(e(t))),o=2*Math.pow(10,Math.round(e(t/2))),n=5*Math.pow(10,Math.round(e(t/5)));return Math.abs(o-t)<=Math.abs(i-t)&&(i=o),i=(i=Math.abs(n-t)<=Math.abs(i-t)?n:i)<=0?1:i},i.prototype.getCurrent=function(){return parseFloat(this._current.toPrecision(this.precision))},i.prototype.getStep=function(){return this._step},i.prototype.start=function(t){void 0===t&&(t=!1),this._current=this._start-this._start%this._step,t&&this.getCurrent()<this._start&&this.next()},i.prototype.next=function(){this._current+=this._step},i.prototype.end=function(){return this._current>this._end},t.exports=i},function(t,e){function i(){this.min=void 0,this.max=void 0}i.prototype.adjust=function(t){void 0!==t&&((void 0===this.min||this.min>t)&&(this.min=t),(void 0===this.max||this.max<t)&&(this.max=t))},i.prototype.combine=function(t){this.add(t.min),this.add(t.max)},i.prototype.expand=function(t){if(void 0!==t){var e=this.min-t,t=this.max+t;if(t<e)throw new Error("Passed expansion value makes range invalid");this.min=e,this.max=t}},i.prototype.range=function(){return this.max-this.min},i.prototype.center=function(){return(this.min+this.max)/2},t.exports=i},function(t,h,e){var i=e(62),u=(i=i)&&i.__esModule?i:{default:i};var c=e(1),p=e(102),f=e(100),d={BAR:0,BARCOLOR:1,BARSIZE:2,DOT:3,DOTLINE:4,DOTCOLOR:5,DOTSIZE:6,GRID:7,LINE:8,SURFACE:9},m={dot:d.DOT,"dot-line":d.DOTLINE,"dot-color":d.DOTCOLOR,"dot-size":d.DOTSIZE,line:d.LINE,grid:d.GRID,surface:d.SURFACE,bar:d.BAR,"bar-color":d.BARCOLOR,"bar-size":d.BARSIZE},o=["width","height","filterLabel","legendLabel","xLabel","yLabel","zLabel","xValueLabel","yValueLabel","zValueLabel","showXAxis","showYAxis","showZAxis","showGrid","showPerspective","showShadow","keepAspectRatio","verticalRatio","dotSizeRatio","showAnimationControls","animationInterval","animationPreload","animationAutoStart","axisColor","gridColor","xCenter","yCenter"],n=["xBarWidth","yBarWidth","valueMin","valueMax","xMin","xMax","xStep","yMin","yMax","yStep","zMin","zMax","zStep"],l=void 0;function s(t){for(var e in t)if(t.hasOwnProperty(e))return;return 1}function r(t,e){return void 0===t||""===t?e:t+(void 0===(t=e)||""===t||"string"!=typeof t?t:t.charAt(0).toUpperCase()+t.slice(1))}function a(t,e,i,o){var n,s;for(s in i)e[r(o,n=i[s])]=t[n]}function g(t,e,i,o){var n,s;for(s in i)void 0!==t[n=i[s]]&&(e[r(o,n)]=t[n])}function v(t,e){if(void 0!==t.backgroundColor){var i=t.backgroundColor,o=e,n="white",s="gray",r=1;if("string"==typeof i)n=i,s="none",r=0;else{if("object"!==(void 0===i?"undefined":(0,u.default)(i)))throw new Error("Unsupported type of backgroundColor");void 0!==i.fill&&(n=i.fill),void 0!==i.stroke&&(s=i.stroke),void 0!==i.strokeWidth&&(r=i.strokeWidth)}o.frame.style.backgroundColor=n,o.frame.style.borderColor=s,o.frame.style.borderWidth=r+"px",o.frame.style.borderStyle="solid"}i=t.dataColor,n=e,void 0!==i&&(void 0===n.dataColor&&(n.dataColor={}),"string"==typeof i?(n.dataColor.fill=i,n.dataColor.stroke=i):(i.fill&&(n.dataColor.fill=i.fill),i.stroke&&(n.dataColor.stroke=i.stroke),void 0!==i.strokeWidth&&(n.dataColor.strokeWidth=i.strokeWidth)));var a,s=t.style,r=e;if(void 0!==s){if("string"==typeof s){if(-1===(h=function(t){t=m[t];return void 0!==t?t:-1}(s)))throw new Error("Style '"+s+"' is invalid")}else{if(!function(t){var e,i=!1;for(e in d)if(d[e]===t){i=!0;break}return i}(s))throw new Error("Style '"+s+"' is invalid");h=s}r.style=h}var o=t.showLegend,h=e;void 0===o?void 0===l.showLegend&&(a=h.style===d.DOTCOLOR||h.style===d.DOTSIZE,h.showLegend=a):h.showLegend=o,y(t.cameraPosition,e),void 0!==t.tooltip&&(e.showTooltip=t.tooltip),null!=t.onclick&&(e.onclick_callback=t.onclick),void 0!==t.tooltipStyle&&c.selectiveDeepExtend(["tooltipStyle"],e,t)}function y(t,e){void 0!==t&&(void 0===e.camera&&(e.camera=new p),e.camera.setArmRotation(t.horizontal,t.vertical),e.camera.setArmLength(t.distance))}t.exports.STYLE=d,t.exports.setDefaults=function(t,e){if(void 0===t||s(t))throw new Error("No DEFAULTS passed");if(void 0===e)throw new Error("No dst passed");a(l=t,e,o),a(t,e,n,"default"),v(t,e),e.margin=10,e.showGrayBottom=!1,e.showTooltip=!1,e.onclick_callback=null,e.eye=new f(0,0,-1)},t.exports.setOptions=function(t,e){if(void 0!==t){if(void 0===e)throw new Error("No dst passed");if(void 0===l||s(l))throw new Error("DEFAULTS not set for module Settings");g(t,e,o),g(t,e,n,"default"),v(t,e)}},t.exports.setCameraPosition=y},function(t,e,i){var o;"undefined"!=typeof window?(o=i(113),i=window.Hammer||i(114),t.exports=o(i,{preventDefault:"mouse"})):t.exports=function(){throw Error("hammer.js is only available in a browser, not in node.js.")}},function(t,e,i){var o;void 0===(e="function"==typeof(o=function(){var d=null;return function o(n,t){var s,r=t||{preventDefault:!1};if(n.Manager)return(s=n).assign(t=function(t,e){var i=Object.create(r);return e&&s.assign(i,e),o(new s(t,i),i)},s),t.Manager=function(t,e){var i=Object.create(r);return e&&s.assign(i,e),o(new s.Manager(t,i),i)},t;var a=Object.create(n),t=n.element;function e(t){return t.match(/[^ ]+/g)}function h(t){if("hammer.input"!==t.type){if(t.srcEvent._handled||(t.srcEvent._handled={}),t.srcEvent._handled[t.type])return;t.srcEvent._handled[t.type]=!0}for(var e=!1,i=(t.stopPropagation=function(){e=!0},t.srcEvent.stopPropagation.bind(t.srcEvent)),o=("function"==typeof i&&(t.srcEvent.stopPropagation=function(){i(),t.stopPropagation()}),t.firstTarget=d);o&&!e;){var n=o.hammer;if(n)for(var s,r=0;r<n.length;r++)if(s=n[r]._handlers[t.type])for(var a=0;a<s.length&&!e;a++)s[a](t);o=o.parentNode}}return t.hammer||(t.hammer=[]),t.hammer.push(a),n.on("hammer.input",function(t){!0!==r.preventDefault&&r.preventDefault!==t.pointerType||t.preventDefault(),t.isFirst&&(d=t.target)}),a._handlers={},a.on=function(t,i){return e(t).forEach(function(t){var e=a._handlers[t];e||(a._handlers[t]=e=[],n.on(t,h)),e.push(i)}),a},a.off=function(t,i){return e(t).forEach(function(t){var e=a._handlers[t];e&&(0<(e=i?e.filter(function(t){return t!==i}):[]).length?a._handlers[t]=e:(n.off(t,h),delete a._handlers[t]))}),a},a.emit=function(t,e){d=e.target,n.emit(t,e)},a.destroy=function(){var t=n.element.hammer,e=t.indexOf(a);-1!==e&&t.splice(e,1),t.length||delete n.element.hammer,a._handlers={},n.destroy()},a}})?o.apply(e,[]):o)||(t.exports=e)},function(o,s,a){var
/*! Hammer.JS - v2.0.7 - 2016-04-22
   * http://hammerjs.github.io/
   *
   * Copyright (c) 2016 Jorik Tangelder;
   * Licensed under the MIT license */
n=window,d=document,l=void 0,f=["","webkit","Moz","MS","ms","o"],m=d.createElement("div"),g="function",v=Math.round,y=Math.abs,b=Date.now;function _(t,e,i){return setTimeout(M(t,i),e)}function w(t,e,i){return Array.isArray(t)&&(r(t,i[e],i),1)}function r(t,e,i){if(t)if(t.forEach)t.forEach(e,i);else if(t.length!==l)for(o=0;o<t.length;)e.call(i,t[o],o,t),o++;else for(var o in t)t.hasOwnProperty(o)&&e.call(i,t[o],o,t)}function x(i,t,e){var o="DEPRECATED METHOD: "+t+"\n"+e+" AT \n";return function(){var t=new Error("get-stack-trace"),t=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",e=n.console&&(n.console.warn||n.console.log);return e&&e.call(n.console,o,t),i.apply(this,arguments)}}var k="function"!=typeof Object.assign?function(t){if(t===l||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var o=arguments[i];if(o!==l&&null!==o)for(var n in o)o.hasOwnProperty(n)&&(e[n]=o[n])}return e}:Object.assign,O=x(function(t,e,i){for(var o=Object.keys(e),n=0;n<o.length;)i&&t[o[n]]!==l||(t[o[n]]=e[o[n]]),n++;return t},"extend","Use `assign`."),S=x(function(t,e){return O(t,e,!0)},"merge","Use `assign`.");function t(t,e,i){var e=e.prototype,o=t.prototype=Object.create(e);o.constructor=t,o._super=e,i&&k(o,i)}function M(t,e){return function(){return t.apply(e,arguments)}}function D(t,e){return typeof t==g?t.apply(e&&e[0]||l,e):t}function C(t,e){return t===l?e:t}function T(e,t,i){r(N(t),function(t){e.addEventListener(t,i,!1)})}function E(e,t,i){r(N(t),function(t){e.removeEventListener(t,i,!1)})}function P(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function I(t,e){return-1<t.indexOf(e)}function N(t){return t.trim().split(/\s+/g)}function R(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var o=0;o<t.length;){if(i&&t[o][i]==e||!i&&t[o]===e)return o;o++}return-1}function z(t){return Array.prototype.slice.call(t,0)}function A(t,i,e){for(var o=[],n=[],s=0;s<t.length;){var r=i?t[s][i]:t[s];R(n,r)<0&&o.push(t[s]),n[s]=r,s++}return o=e?i?o.sort(function(t,e){return t[i]>e[i]}):o.sort():o}function L(t,e){for(var i,o=e[0].toUpperCase()+e.slice(1),n=0;n<f.length;){if((i=(i=f[n])?i+o:e)in t)return i;n++}return l}var F=1;function B(t){t=t.ownerDocument||t;return t.defaultView||t.parentWindow||n}var j="ontouchstart"in n,H=L(n,"PointerEvent")!==l,W=j&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),Y="touch",G="mouse",V=25,u=1,c=4,p=8,U=1,q=2,X=4,Z=8,K=16,h=q|X,J=Z|K,Q=h|J,$=["x","y"],tt=["clientX","clientY"];function e(e,t){var i=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){D(e.options.enable,[e])&&i.handler(t)},this.init()}function et(t,e,i){var o=i.pointers.length,n=i.changedPointers.length,s=e&u&&o-n==0,o=e&(c|p)&&o-n==0,n=(i.isFirst=!!s,i.isFinal=!!o,s&&(t.session={}),i.eventType=e,t),o=i,s=n.session,e=o.pointers,r=e.length,r=(s.firstInput||(s.firstInput=it(o)),1<r&&!s.firstMultiple?s.firstMultiple=it(o):1===r&&(s.firstMultiple=!1),s.firstInput),a=s.firstMultiple,h=(a||r).center,d=o.center=ot(e),r=(o.timeStamp=b(),o.deltaTime=o.timeStamp-r.timeStamp,o.angle=at(h,d),o.distance=rt(h,d),function(t,e){var i=e.center,o=t.offsetDelta||{},n=t.prevDelta||{},s=t.prevInput||{};e.eventType!==u&&s.eventType!==c||(n=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},o=t.offsetDelta={x:i.x,y:i.y});e.deltaX=n.x+(i.x-o.x),e.deltaY=n.y+(i.y-o.y)}(s,o),o.offsetDirection=st(o.deltaX,o.deltaY),nt(o.deltaTime,o.deltaX,o.deltaY)),h=(o.overallVelocityX=r.x,o.overallVelocityY=r.y,o.overallVelocity=y(r.x)>y(r.y)?r.x:r.y,o.scale=a?function(t,e){return rt(e[0],e[1],tt)/rt(t[0],t[1],tt)}(a.pointers,e):1,o.rotation=a?function(t,e){return at(e[1],e[0],tt)+at(t[1],t[0],tt)}(a.pointers,e):0,o.maxPointers=!s.prevInput||o.pointers.length>s.prevInput.maxPointers?o.pointers.length:s.prevInput.maxPointers,function(t,e){var i,o,n,s=t.lastInterval||e,r=e.timeStamp-s.timeStamp;{var a,h;e.eventType!=p&&(V<r||s.velocity===l)?(a=e.deltaX-s.deltaX,h=e.deltaY-s.deltaY,r=nt(r,a,h),o=r.x,n=r.y,i=y(r.x)>y(r.y)?r.x:r.y,a=st(a,h),t.lastInterval=e):(i=s.velocity,o=s.velocityX,n=s.velocityY,a=s.direction)}e.velocity=i,e.velocityX=o,e.velocityY=n,e.direction=a}(s,o),n.element);P(o.srcEvent.target,h)&&(h=o.srcEvent.target),o.target=h,t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function it(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:v(t.pointers[i].clientX),clientY:v(t.pointers[i].clientY)},i++;return{timeStamp:b(),pointers:e,center:ot(e),deltaX:t.deltaX,deltaY:t.deltaY}}function ot(t){var e=t.length;if(1===e)return{x:v(t[0].clientX),y:v(t[0].clientY)};for(var i=0,o=0,n=0;n<e;)i+=t[n].clientX,o+=t[n].clientY,n++;return{x:v(i/e),y:v(o/e)}}function nt(t,e,i){return{x:e/t||0,y:i/t||0}}function st(t,e){return t===e?U:y(t)>=y(e)?t<0?q:X:e<0?Z:K}function rt(t,e,i){var o=e[(i=i||$)[0]]-t[i[0]],e=e[i[1]]-t[i[1]];return Math.sqrt(o*o+e*e)}function at(t,e,i){var o=e[(i=i||$)[0]]-t[i[0]],e=e[i[1]]-t[i[1]];return 180*Math.atan2(e,o)/Math.PI}e.prototype={handler:function(){},init:function(){this.evEl&&T(this.element,this.evEl,this.domHandler),this.evTarget&&T(this.target,this.evTarget,this.domHandler),this.evWin&&T(B(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&E(this.element,this.evEl,this.domHandler),this.evTarget&&E(this.target,this.evTarget,this.domHandler),this.evWin&&E(B(this.element),this.evWin,this.domHandler)}};var ht={mousedown:u,mousemove:2,mouseup:c};function dt(){this.evEl="mousedown",this.evWin="mousemove mouseup",this.pressed=!1,e.apply(this,arguments)}t(dt,e,{handler:function(t){var e=ht[t.type];e&u&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=c),this.pressed&&(e&c&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:G,srcEvent:t}))}});var lt={pointerdown:u,pointermove:2,pointerup:c,pointercancel:p,pointerout:p},ut={2:Y,3:"pen",4:G,5:"kinect"},ct="pointerdown",pt="pointermove pointerup pointercancel";function ft(){this.evEl=ct,this.evWin=pt,e.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}n.MSPointerEvent&&!n.PointerEvent&&(ct="MSPointerDown",pt="MSPointerMove MSPointerUp MSPointerCancel"),t(ft,e,{handler:function(t){var e=this.store,i=!1,o=t.type.toLowerCase().replace("ms",""),o=lt[o],n=ut[t.pointerType]||t.pointerType,s=n==Y,r=R(e,t.pointerId,"pointerId");o&u&&(0===t.button||s)?r<0&&(e.push(t),r=e.length-1):o&(c|p)&&(i=!0),r<0||(e[r]=t,this.callback(this.manager,o,{pointers:e,changedPointers:[t],pointerType:n,srcEvent:t}),i&&e.splice(r,1))}});var mt={touchstart:u,touchmove:2,touchend:c,touchcancel:p};function gt(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,e.apply(this,arguments)}t(gt,e,{handler:function(t){var e,i=mt[t.type];i===u&&(this.started=!0),this.started&&(e=function(t,e){var i=z(t.touches),t=z(t.changedTouches);e&(c|p)&&(i=A(i.concat(t),"identifier",!0));return[i,t]}.call(this,t,i),i&(c|p)&&e[0].length-e[1].length==0&&(this.started=!1),this.callback(this.manager,i,{pointers:e[0],changedPointers:e[1],pointerType:Y,srcEvent:t}))}});var vt={touchstart:u,touchmove:2,touchend:c,touchcancel:p};function yt(){this.evTarget="touchstart touchmove touchend touchcancel",this.targetIds={},e.apply(this,arguments)}t(yt,e,{handler:function(t){var e=vt[t.type],i=function(t,e){var i=z(t.touches),o=this.targetIds;if(e&(2|u)&&1===i.length)return o[i[0].identifier]=!0,[i,i];var n,s,r=z(t.changedTouches),a=[],h=this.target;if(s=i.filter(function(t){return P(t.target,h)}),e===u)for(n=0;n<s.length;)o[s[n].identifier]=!0,n++;n=0;for(;n<r.length;)o[r[n].identifier]&&a.push(r[n]),e&(c|p)&&delete o[r[n].identifier],n++;if(a.length)return[A(s.concat(a),"identifier",!0),a]}.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:Y,srcEvent:t})}});var bt=2500;function _t(){e.apply(this,arguments);var t=M(this.handler,this);this.touch=new yt(this.manager,t),this.mouse=new dt(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function wt(t){var e,i,t=t.changedPointers[0];t.identifier===this.primaryTouch&&(e={x:t.clientX,y:t.clientY},this.lastTouches.push(e),i=this.lastTouches,setTimeout(function(){var t=i.indexOf(e);-1<t&&i.splice(t,1)},bt))}t(_t,e,{handler:function(t,e,i){var o=i.pointerType==Y,n=i.pointerType==G;if(!(n&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents)){if(o)!function(t,e){t&u?(this.primaryTouch=e.changedPointers[0].identifier,wt.call(this,e)):t&(c|p)&&wt.call(this,e)}.call(this,e,i);else if(n&&function(t){for(var e=t.srcEvent.clientX,i=t.srcEvent.clientY,o=0;o<this.lastTouches.length;o++){var n=this.lastTouches[o],s=Math.abs(e-n.x),n=Math.abs(i-n.y);if(s<=25&&n<=25)return!0}return!1}.call(this,i))return;this.callback(t,e,i)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var xt=L(m.style,"touchAction"),kt=xt!==l,Ot="compute",St="manipulation",Mt="none",Dt="pan-x",Ct="pan-y",Tt=function(){if(!kt)return!1;var e={},i=n.CSS&&n.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(t){e[t]=!i||n.CSS.supports("touch-action",t)}),e}();function Et(t,e){this.manager=t,this.set(e)}function Pt(t){this.options=k({},this.defaults,t||{}),this.id=F++,this.manager=null,this.options.enable=C(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function It(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}function Nt(t){return t==K?"down":t==Z?"up":t==q?"left":t==X?"right":""}function Rt(t,e){e=e.manager;return e?e.get(t):t}function i(){Pt.apply(this,arguments)}function zt(){i.apply(this,arguments),this.pX=null,this.pY=null}function At(){i.apply(this,arguments)}function Lt(){Pt.apply(this,arguments),this._timer=null,this._input=null}function Ft(){i.apply(this,arguments)}function Bt(){i.apply(this,arguments)}function jt(){Pt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Ht(t,e){return(e=e||{}).recognizers=C(e.recognizers,Ht.defaults.preset),new Wt(t,e)}function Wt(t,e){this.options=k({},Ht.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((e=this).options.inputClass||(H?ft:W?yt:j?_t:dt))(e,et),this.touchAction=new Et(this,this.options.touchAction),Yt(this,!0),r(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function Yt(i,o){var n,s=i.element;s.style&&(r(i.options.cssProps,function(t,e){n=L(s.style,e),o?(i.oldCssProps[n]=s.style[n],s.style[n]=t):s.style[n]=i.oldCssProps[n]||""}),o||(i.oldCssProps={}))}Et.prototype={set:function(t){t==Ot&&(t=this.compute()),kt&&this.manager.element.style&&Tt[t]&&(this.manager.element.style[xt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[],t=(r(this.manager.recognizers,function(t){D(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),e.join(" "));if(I(t,Mt))return Mt;var i=I(t,Dt),o=I(t,Ct);return i&&o?Mt:i||o?i?Dt:Ct:I(t,St)?St:"auto"},preventDefaults:function(t){var e=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var o=this.actions,n=I(o,Mt)&&!Tt[Mt],s=I(o,Ct)&&!Tt[Ct],o=I(o,Dt)&&!Tt[Dt];if(n){var r=1===t.pointers.length,a=t.distance<2,t=t.deltaTime<250;if(r&&a&&t)return}if(!o||!s)return n||s&&i&h||o&&i&J?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}},Pt.prototype={defaults:{},set:function(t){return k(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(w(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=Rt(t,this)).id]||(e[t.id]=t).recognizeWith(this),this},dropRecognizeWith:function(t){return w(t,"dropRecognizeWith",this)||(t=Rt(t,this),delete this.simultaneous[t.id]),this},requireFailure:function(t){if(w(t,"requireFailure",this))return this;var e=this.requireFail;return-1===R(e,t=Rt(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(w(t,"dropRequireFailure",this))return this;t=Rt(t,this);t=R(this.requireFail,t);return-1<t&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return 0<this.requireFail.length},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(e){var i=this,t=this.state;function o(t){i.manager.emit(t,e)}t<8&&o(i.options.event+It(t)),o(i.options.event),e.additionalEvent&&o(e.additionalEvent),8<=t&&o(i.options.event+It(t))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},recognize:function(t){t=k({},t);if(!D(this.options.enable,[this,t]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(t),30&this.state&&this.tryEmit(t)},process:function(t){},getTouchAction:function(){},reset:function(){}},t(i,Pt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,i=t.eventType,o=6&e,t=this.attrTest(t);return o&&(i&p||!t)?16|e:o||t?i&c?8|e:2&e?4|e:2:32}}),t(zt,i,{defaults:{event:"pan",threshold:10,pointers:1,direction:Q},getTouchAction:function(){var t=this.options.direction,e=[];return t&h&&e.push(Ct),t&J&&e.push(Dt),e},directionTest:function(t){var e=this.options,i=!0,o=t.distance,n=t.direction,s=t.deltaX,r=t.deltaY;return n&e.direction||(o=e.direction&h?(n=0===s?U:s<0?q:X,i=s!=this.pX,Math.abs(t.deltaX)):(n=0===r?U:r<0?Z:K,i=r!=this.pY,Math.abs(t.deltaY))),t.direction=n,i&&o>e.threshold&&n&e.direction},attrTest:function(t){return i.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=Nt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),t(At,i,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Mt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},emit:function(t){var e;1!==t.scale&&(e=t.scale<1?"in":"out",t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),t(Lt,Pt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,o=t.distance<e.threshold,n=t.deltaTime>e.time;if(this._input=t,!o||!i||t.eventType&(c|p)&&!n)this.reset();else if(t.eventType&u)this.reset(),this._timer=_(function(){this.state=8,this.tryEmit()},e.time,this);else if(t.eventType&c)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){8===this.state&&(t&&t.eventType&c?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=b(),this.manager.emit(this.options.event,this._input)))}}),t(Ft,i,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Mt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)}}),t(Bt,i,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:h|J,pointers:1},getTouchAction:function(){return zt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,i=this.options.direction;return i&(h|J)?e=t.overallVelocity:i&h?e=t.overallVelocityX:i&J&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&i&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&y(e)>this.options.velocity&&t.eventType&c},emit:function(t){var e=Nt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),t(jt,Pt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[St]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,o=t.distance<e.threshold,n=t.deltaTime<e.time;if(this.reset(),t.eventType&u&&0===this.count)return this.failTimeout();if(o&&n&&i){if(t.eventType!=c)return this.failTimeout();o=!this.pTime||t.timeStamp-this.pTime<e.interval,n=!this.pCenter||rt(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,n&&o?this.count+=1:this.count=1,this._input=t,0==this.count%e.taps)return this.hasRequireFailures()?(this._timer=_(function(){this.state=8,this.tryEmit()},e.interval,this),2):8}return 32},failTimeout:function(){return this._timer=_(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Ht.VERSION="2.0.7",Ht.defaults={domEvents:!1,touchAction:Ot,enable:!0,inputTarget:null,inputClass:null,preset:[[Ft,{enable:!1}],[At,{enable:!1},["rotate"]],[Bt,{direction:h}],[zt,{direction:h},["swipe"]],[jt],[jt,{event:"doubletap",taps:2},["tap"]],[Lt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Wt.prototype={set:function(t){return k(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);for(var i,o=this.recognizers,n=e.curRecognizer,s=((!n||8&n.state)&&(n=e.curRecognizer=null),0);s<o.length;)i=o[s],2===e.stopped||n&&i!=n&&!i.canRecognizeWith(n)?i.reset():i.recognize(t),!n&&14&i.state&&(n=e.curRecognizer=i),s++}},get:function(t){if(t instanceof Pt)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event==t)return e[i];return null},add:function(t){if(w(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),(t.manager=this).touchAction.update(),t},remove:function(t){return w(t,"remove",this)||!(t=this.get(t))||-1!==(t=R(e=this.recognizers,t))&&(e.splice(t,1),this.touchAction.update()),this;var e},on:function(t,e){var i;if(t!==l&&e!==l)return i=this.handlers,r(N(t),function(t){i[t]=i[t]||[],i[t].push(e)}),this},off:function(t,e){var i;if(t!==l)return i=this.handlers,r(N(t),function(t){e?i[t]&&i[t].splice(R(i[t],e),1):delete i[t]}),this},emit:function(t,e){this.options.domEvents&&(i=t,o=e,(n=d.createEvent("Event")).initEvent(i,!0,!0),(n.gesture=o).target.dispatchEvent(n));var i,o,n,s=this.handlers[t]&&this.handlers[t].slice();if(s&&s.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var r=0;r<s.length;)s[r](e),r++}},destroy:function(){this.element&&Yt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},k(Ht,{INPUT_START:u,INPUT_MOVE:2,INPUT_END:c,INPUT_CANCEL:p,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:U,DIRECTION_LEFT:q,DIRECTION_RIGHT:X,DIRECTION_UP:Z,DIRECTION_DOWN:K,DIRECTION_HORIZONTAL:h,DIRECTION_VERTICAL:J,DIRECTION_ALL:Q,Manager:Wt,Input:e,TouchAction:Et,TouchInput:yt,MouseInput:dt,PointerEventInput:ft,TouchMouseInput:_t,SingleTouchInput:gt,Recognizer:Pt,AttrRecognizer:i,Tap:jt,Pan:zt,Swipe:Bt,Pinch:At,Rotate:Ft,Press:Lt,on:T,off:E,each:r,merge:S,extend:O,assign:k,inherit:t,bindFn:M,prefixed:L}),(void 0!==n?n:"undefined"!=typeof self?self:{}).Hammer=Ht,(m=function(){return Ht}.call(s,a,s,o))===l||(o.exports=m)},function(t,e,i){var o;void 0===(e="function"==typeof(o=function(){return function(t){for(var n=t&&t.preventDefault||!1,e=t&&t.container||window,o={},r={keydown:{},keyup:{}},a={},i=97;i<=122;i++)a[String.fromCharCode(i)]={code:i-97+65,shift:!1};for(i=65;i<=90;i++)a[String.fromCharCode(i)]={code:i,shift:!0};for(i=0;i<=9;i++)a[""+i]={code:48+i,shift:!1};for(i=1;i<=12;i++)a["F"+i]={code:111+i,shift:!1};for(i=0;i<=9;i++)a["num"+i]={code:96+i,shift:!1};function s(t){d(t,"keydown")}function h(t){d(t,"keyup")}function d(t,e){if(void 0!==r[e][t.keyCode]){for(var i=r[e][t.keyCode],o=0;o<i.length;o++)(void 0===i[o].shift||1==i[o].shift&&1==t.shiftKey||0==i[o].shift&&0==t.shiftKey)&&i[o].fn(t);1==n&&t.preventDefault()}}return a["num*"]={code:106,shift:!1},a["num+"]={code:107,shift:!1},a["num-"]={code:109,shift:!1},a["num/"]={code:111,shift:!1},a["num."]={code:110,shift:!1},a.left={code:37,shift:!1},a.up={code:38,shift:!1},a.right={code:39,shift:!1},a.down={code:40,shift:!1},a.space={code:32,shift:!1},a.enter={code:13,shift:!1},a.shift={code:16,shift:void 0},a.esc={code:27,shift:!1},a.backspace={code:8,shift:!1},a.tab={code:9,shift:!1},a.ctrl={code:17,shift:!1},a.alt={code:18,shift:!1},a.delete={code:46,shift:!1},a.pageup={code:33,shift:!1},a.pagedown={code:34,shift:!1},a["="]={code:187,shift:!1},a["-"]={code:189,shift:!1},a["]"]={code:221,shift:!1},a["["]={code:219,shift:!1},o.bind=function(t,e,i){if(void 0===i&&(i="keydown"),void 0===a[t])throw new Error("unsupported key: "+t);void 0===r[i][a[t].code]&&(r[i][a[t].code]=[]),r[i][a[t].code].push({fn:e,shift:a[t].shift})},o.bindAll=function(t,e){for(var i in void 0===e&&(e="keydown"),a)a.hasOwnProperty(i)&&o.bind(i,t,e)},o.getKey=function(t){for(var e in a)if(a.hasOwnProperty(e)){if(1==t.shiftKey&&1==a[e].shift&&t.keyCode==a[e].code)return e;if(0==t.shiftKey&&0==a[e].shift&&t.keyCode==a[e].code)return e;if(t.keyCode==a[e].code&&"shift"==e)return e}return"unknown key, currently not supported"},o.unbind=function(t,e,i){if(void 0===i&&(i="keydown"),void 0===a[t])throw new Error("unsupported key: "+t);if(void 0!==e){var o=[],n=r[i][a[t].code];if(void 0!==n)for(var s=0;s<n.length;s++)n[s].fn==e&&n[s].shift==a[t].shift||o.push(r[i][a[t].code][s]);r[i][a[t].code]=o}else r[i][a[t].code]=[]},o.reset=function(){r={keydown:{},keyup:{}}},o.destroy=function(){r={keydown:{},keyup:{}},e.removeEventListener("keydown",s,!0),e.removeEventListener("keyup",h,!0)},e.addEventListener("keydown",s,!0),e.addEventListener("keyup",h,!0),o}})?o.apply(e,[]):o)||(t.exports=e)},function(t,e,i){e.util=i(1),e.DOMutil=i(88),e.DataSet=i(89),e.DataView=i(93),e.Queue=i(92),e.Timeline=i(117),e.Graph2d=i(148),e.timeline={Core:i(130),DateUtil:i(129),Range:i(127),stack:i(135),TimeStep:i(133),components:{items:{Item:i(137),BackgroundItem:i(141),BoxItem:i(139),PointItem:i(140),RangeItem:i(136)},BackgroundGroup:i(138),Component:i(128),CurrentTime:i(146),CustomTime:i(144),DataAxis:i(150),DataScale:i(151),GraphGroup:i(152),Group:i(134),ItemSet:i(131),Legend:i(156),LineGraph:i(149),TimeAxis:i(142)}},e.moment=i(82),e.Hammer=i(112),e.keycharm=i(115)},function(t,r,e){var i=n(e(118)),o=n(e(126));function n(t){return t&&t.__esModule?t:{default:t}}e(99),e(112);var c=e(82),u=e(1),h=e(89),d=e(93),p=e(127),s=e(130),f=e(142),m=e(146),g=e(144),v=e(131),a=e(126).printStyle,y=e(147).allOptions,b=e(147).configureOptions;function l(t,e,i,o){if(!(this instanceof l))throw new SyntaxError("Constructor must be called with the new operator");!(Array.isArray(i)||i instanceof h||i instanceof d)&&i instanceof Object&&(n=o,o=i,i=n),o&&o.throttleRedraw&&console.warn('Timeline option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.');var n,s=this;if(this.defaultOptions={start:null,end:null,autoResize:!0,orientation:{axis:"bottom",item:"bottom"},moment:c,width:null,height:null,maxHeight:null,minHeight:null},this.options=u.deepExtend({},this.defaultOptions),this._create(t),o&&void 0!==o.rtl)this.options.rtl=o.rtl;else{for(var r,a=this.dom.root;!r&&a;)r=window.getComputedStyle(a,null).direction,a=a.parentElement;this.options.rtl=r&&"rtl"==r.toLowerCase()}this.options.rollingMode=o&&o.rollingMode,this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{getScale:function(){return s.timeAxis.step.scale},getStep:function(){return s.timeAxis.step.step},toScreen:s._toScreen.bind(s),toGlobalScreen:s._toGlobalScreen.bind(s),toTime:s._toTime.bind(s),toGlobalTime:s._toGlobalTime.bind(s)}},this.range=new p(this.body,this.options),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new f(this.body,this.options),this.timeAxis2=null,this.components.push(this.timeAxis),this.currentTime=new m(this.body,this.options),this.components.push(this.currentTime),this.itemSet=new v(this.body,this.options),this.components.push(this.itemSet),this.itemsData=null,this.groupsData=null,this.dom.root.onclick=function(t){s.emit("click",s.getEventProperties(t))},this.dom.root.ondblclick=function(t){s.emit("doubleClick",s.getEventProperties(t))},this.dom.root.oncontextmenu=function(t){s.emit("contextmenu",s.getEventProperties(t))},this.dom.root.onmouseover=function(t){s.emit("mouseOver",s.getEventProperties(t))},this.dom.root.onmousemove=function(t){s.emit("mouseMove",s.getEventProperties(t))},this.fitDone=!1,this.on("changed",function(){var t,e;null==this.itemsData||this.options.rollingMode||s.fitDone||(s.fitDone=!0,null!=s.options.start||null!=s.options.end?(null!=s.options.start&&null!=s.options.end||(e=s.getItemRange()),t=null!=s.options.start?s.options.start:e.min,e=null!=s.options.end?s.options.end:e.max,s.setWindow(t,e,{animation:!1})):s.fit({animation:!1}))}),o&&this.setOptions(o),i&&this.setGroups(i),e&&this.setItems(e),this._redraw()}(l.prototype=new s)._createConfigurator=function(){return new i.default(this,this.dom.container,b)},l.prototype.redraw=function(){this.itemSet&&this.itemSet.markDirty({refreshItems:!0}),this._redraw()},l.prototype.setOptions=function(t){var e;!0===o.default.validate(t,y)&&console.log("%cErrors have been found in the supplied options object.",a),s.prototype.setOptions.call(this,t),"type"in t&&t.type!==this.options.type&&(this.options.type=t.type,(t=this.itemsData)&&(e=this.getSelection(),this.setItems(null),this.setItems(t),this.setSelection(e)))},l.prototype.setItems=function(t){t=t?t instanceof h||t instanceof d?t:new h(t,{type:{start:"Date",end:"Date"}}):null;this.itemsData=t,this.itemSet&&this.itemSet.setItems(t)},l.prototype.setGroups=function(t){var e;t=t?(e=function(t){return!1!==t.visible},t instanceof h||t instanceof d?new d(t,{filter:e}):new h(t.filter(e))):null,this.groupsData=t,this.itemSet.setGroups(t)},l.prototype.setData=function(t){t&&t.groups&&this.setGroups(t.groups),t&&t.items&&this.setItems(t.items)},l.prototype.setSelection=function(t,e){this.itemSet&&this.itemSet.setSelection(t),e&&e.focus&&this.focus(t,e)},l.prototype.getSelection=function(){return this.itemSet&&this.itemSet.getSelection()||[]},l.prototype.focus=function(t,e){var i,o,n;this.itemsData&&null!=t&&(t=Array.isArray(t)?t:[t],t=this.itemsData.getDataSet().get(t,{type:{start:"Date",end:"Date"}}),o=i=null,t.forEach(function(t){var e=t.start.valueOf(),t=("end"in t?t.end:t.start).valueOf();(null===i||e<i)&&(i=e),(null===o||o<t)&&(o=t)}),null!==i&&null!==o&&(t=(i+o)/2,n=Math.max(this.range.end-this.range.start,1.1*(o-i)),e=!e||void 0===e.animation||e.animation,this.range.setRange(t-n/2,t+n/2,e)))},l.prototype.fit=function(t){var e,t=!t||void 0===t.animation||t.animation,i=this.itemsData&&this.itemsData.getDataSet();1===i.length&&void 0===i.get()[0].end?(e=this.getDataRange(),this.moveTo(e.min.valueOf(),{animation:t})):(e=this.getItemRange(),this.range.setRange(e.min,e.max,t))},l.prototype.getItemRange=function(){var n,s,r,t,o,e,i=this.getDataRange(),a=null!==i.min?i.min.valueOf():null,h=null!==i.max?i.max.valueOf():null,d=null,l=null;return null!=a&&null!=h&&(n=function(t){return u.convert(t.data.start,"Date").valueOf()},s=function(t){t=null!=t.data.end?t.data.end:t.data.start;return u.convert(t,"Date").valueOf()},r=(i=(i=h-a)<=0?10:i)/this.props.center.width,u.forEach(this.itemSet.items,function(t){t.groupShowing&&(t.show(),t.repositionX());var e,i=n(t),o=s(t);i=this.options.rtl?(e=i-(t.getWidthRight()+10)*r,o+(t.getWidthLeft()+10)*r):(e=i-(t.getWidthLeft()+10)*r,o+(t.getWidthRight()+10)*r),e<a&&(a=e,d=t),h<i&&(h=i,l=t)}.bind(this)),d&&l&&(t=d.getWidthLeft()+10,o=l.getWidthRight()+10,0<(e=this.props.center.width-t-o)&&(h=this.options.rtl?(a=n(d)-o*i/e,s(l)+t*i/e):(a=n(d)-t*i/e,s(l)+o*i/e)))),{min:null!=a?new Date(a):null,max:null!=h?new Date(h):null}},l.prototype.getDataRange=function(){var i=null,o=null,t=this.itemsData&&this.itemsData.getDataSet();return t&&t.forEach(function(t){var e=u.convert(t.start,"Date").valueOf(),t=u.convert(null!=t.end?t.end:t.start,"Date").valueOf();(null===i||e<i)&&(i=e),(null===o||o<t)&&(o=t)}),{min:null!=i?new Date(i):null,max:null!=o?new Date(o):null}},l.prototype.getEventProperties=function(t){var e=t.center?t.center.x:t.clientX,i=t.center?t.center.y:t.clientY,i=(e=this.options.rtl?u.getAbsoluteRight(this.dom.centerContainer)-e:e-u.getAbsoluteLeft(this.dom.centerContainer),i-u.getAbsoluteTop(this.dom.centerContainer)),o=this.itemSet.itemFromTarget(t),n=this.itemSet.groupFromTarget(t),s=g.customTimeFromTarget(t),r=this.itemSet.options.snap||null,a=this.body.util.getScale(),h=this.body.util.getStep(),d=this._toTime(e),r=r?r(d,a,h):d,a=u.getTarget(t),h=null;return null!=o?h="item":null!=s?h="custom-time":u.hasParent(a,this.timeAxis.dom.foreground)||this.timeAxis2&&u.hasParent(a,this.timeAxis2.dom.foreground)?h="axis":u.hasParent(a,this.itemSet.dom.labelSet)?h="group-label":u.hasParent(a,this.currentTime.bar)?h="current-time":u.hasParent(a,this.dom.center)&&(h="background"),{event:t,item:o?o.id:null,group:n?n.groupId:null,what:h,pageX:(t.srcEvent||t).pageX,pageY:(t.srcEvent||t).pageY,x:e,y:i,time:d,snappedTime:r}},l.prototype.toggleRollingMode=function(){this.range.rolling?this.range.stopRolling():(null==this.options.rollingMode&&this.setOptions(this.options),this.range.startRolling())},t.exports=l},function(d,t,e){Object.defineProperty(t,"__esModule",{value:!0});var i=a(e(90)),s=a(e(62)),n=a(e(119)),o=a(e(120)),r=a(e(124));function a(t){return t&&t.__esModule?t:{default:t}}var u=e(1),e=((0,o.default)(h,[{key:"setOptions",value:function(t){var e;void 0!==t&&(this.popupHistory={},this._removePopup(),e=!0,"string"==typeof t?this.options.filter=t:t instanceof Array?this.options.filter=t.join():"object"===(void 0===t?"undefined":(0,s.default)(t))?(void 0!==t.container&&(this.options.container=t.container),void 0!==t.filter&&(this.options.filter=t.filter),void 0!==t.showButton&&(this.options.showButton=t.showButton),void 0!==t.enabled&&(e=t.enabled)):"boolean"==typeof t?(this.options.filter=!0,e=t):"function"==typeof t&&(this.options.filter=t,e=!0),!1===this.options.filter&&(e=!1),this.options.enabled=e),this._clean()}},{key:"setModuleOptions",value:function(t){this.moduleOptions=t,!0===this.options.enabled&&(this._clean(),void 0!==this.options.container&&(this.container=this.options.container),this._create())}},{key:"_create",value:function(){var t,e,i=this,o=(this._clean(),this.changedOptions=[],this.options.filter),n=0,s=!1;for(t in this.configureOptions)this.configureOptions.hasOwnProperty(t)&&(s=this.allowCreation=!1,"function"==typeof o?s=(s=o(t,[]))||this._handleObject(this.configureOptions[t],[t],!0):!0!==o&&-1===o.indexOf(t)||(s=!0),!1!==s&&(this.allowCreation=!0,0<n&&this._makeItem([]),this._makeHeader(t),this._handleObject(this.configureOptions[t],[t])),n++);!0===this.options.showButton&&((e=document.createElement("div")).className="vis-configuration vis-config-button",e.innerHTML="generate options",e.onclick=function(){i._printOptions()},e.onmouseover=function(){e.className="vis-configuration vis-config-button hover"},e.onmouseout=function(){e.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(e)),this._push()}},{key:"_push",value:function(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var t=0;t<this.domElements.length;t++)this.wrapper.appendChild(this.domElements[t]);this._showPopupIfNeeded()}},{key:"_clean",value:function(){for(var t=0;t<this.domElements.length;t++)this.wrapper.removeChild(this.domElements[t]);void 0!==this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}},{key:"_getValue",value:function(t){for(var e=this.moduleOptions,i=0;i<t.length;i++){if(void 0===e[t[i]]){e=void 0;break}e=e[t[i]]}return e}},{key:"_makeItem",value:function(t){if(!0!==this.allowCreation)return 0;var e=document.createElement("div");e.className="vis-configuration vis-config-item vis-config-s"+t.length;for(var i=arguments.length,o=Array(1<i?i-1:0),n=1;n<i;n++)o[n-1]=arguments[n];return o.forEach(function(t){e.appendChild(t)}),this.domElements.push(e),this.domElements.length}},{key:"_makeHeader",value:function(t){var e=document.createElement("div");e.className="vis-configuration vis-config-header",e.innerHTML=t,this._makeItem([],e)}},{key:"_makeLabel",value:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]&&arguments[2],o=document.createElement("div");return o.className="vis-configuration vis-config-label vis-config-s"+e.length,o.innerHTML=!0===i?"<i><b>"+t+":</b></i>":t+":",o}},{key:"_makeDropdown",value:function(t,e,i){var o=document.createElement("select"),n=(o.className="vis-configuration vis-config-select",0);void 0!==e&&-1!==t.indexOf(e)&&(n=t.indexOf(e));for(var s=0;s<t.length;s++){var r=document.createElement("option");r.value=t[s],s===n&&(r.selected="selected"),r.innerHTML=t[s],o.appendChild(r)}var a=this,e=(o.onchange=function(){a._update(this.value,i)},this._makeLabel(i[i.length-1],i));this._makeItem(i,e,o)}},{key:"_makeRange",value:function(t,e,i){var o=t[0],n=t[1],s=t[2],t=t[3],r=document.createElement("input");r.className="vis-configuration vis-config-range";try{r.type="range",r.min=n,r.max=s}catch(t){}r.step=t;var t="",a=0,h=(void 0!==e?(e<0&&1.2*e<n?(r.min=Math.ceil(1.2*e),a=r.min,t="range increased"):e/1.2<n&&(r.min=Math.ceil(e/1.2),a=r.min,t="range increased"),s<1.2*e&&1!==s&&(r.max=Math.ceil(1.2*e),a=r.max,t="range increased"),r.value=e):r.value=o,document.createElement("input")),d=(h.className="vis-configuration vis-config-rangeinput",h.value=r.value,this),n=(r.onchange=function(){h.value=this.value,d._update(Number(this.value),i)},r.oninput=function(){h.value=this.value},this._makeLabel(i[i.length-1],i)),s=this._makeItem(i,n,r,h);""!==t&&this.popupHistory[s]!==a&&(this.popupHistory[s]=a,this._setupPopup(t,s))}},{key:"_setupPopup",value:function(t,e){var i,o=this;!0===this.initialized&&!0===this.allowCreation&&this.popupCounter<this.popupLimit&&((i=document.createElement("div")).id="vis-configuration-popup",i.className="vis-configuration-popup",i.innerHTML=t,i.onclick=function(){o._removePopup()},this.popupCounter+=1,this.popupDiv={html:i,index:e})}},{key:"_removePopup",value:function(){void 0!==this.popupDiv.html&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}},{key:"_showPopupIfNeeded",value:function(){var t,e=this;void 0!==this.popupDiv.html&&(t=this.domElements[this.popupDiv.index].getBoundingClientRect(),this.popupDiv.html.style.left=t.left+"px",this.popupDiv.html.style.top=t.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=setTimeout(function(){e.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=setTimeout(function(){e._removePopup()},1800))}},{key:"_makeCheckbox",value:function(t,e,i){var o=document.createElement("input"),n=(o.type="checkbox",o.className="vis-configuration vis-config-checkbox",o.checked=t,void 0!==e&&((o.checked=e)===t||"object"===(void 0===t?"undefined":(0,s.default)(t))&&e===t.enabled||this.changedOptions.push({path:i,value:e})),this),t=(o.onchange=function(){n._update(this.checked,i)},this._makeLabel(i[i.length-1],i));this._makeItem(i,t,o)}},{key:"_makeTextInput",value:function(t,e,i){var o=document.createElement("input"),n=(o.type="text",o.className="vis-configuration vis-config-text",(o.value=e)!==t&&this.changedOptions.push({path:i,value:e}),this),t=(o.onchange=function(){n._update(this.value,i)},this._makeLabel(i[i.length-1],i));this._makeItem(i,t,o)}},{key:"_makeColorField",value:function(t,e,i){var o=this,t=t[1],n=document.createElement("div"),t=("none"!==(e=void 0===e?t:e)?(n.className="vis-configuration vis-config-colorBlock",n.style.backgroundColor=e):n.className="vis-configuration vis-config-colorBlock none",e=void 0===e?t:e,n.onclick=function(){o._showColorPicker(e,n,i)},this._makeLabel(i[i.length-1],i));this._makeItem(i,t,n)}},{key:"_showColorPicker",value:function(t,e,i){var o=this;e.onclick=function(){},this.colorPicker.insertTo(e),this.colorPicker.show(),this.colorPicker.setColor(t),this.colorPicker.setUpdateCallback(function(t){t="rgba("+t.r+","+t.g+","+t.b+","+t.a+")";e.style.backgroundColor=t,o._update(t,i)}),this.colorPicker.setCloseCallback(function(){e.onclick=function(){o._showColorPicker(t,e,i)}})}},{key:"_handleObject",value:function(t){var e,i,o,n,s,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],d=2<arguments.length&&void 0!==arguments[2]&&arguments[2],a=!1,l=this.options.filter,h=!1;for(e in t)t.hasOwnProperty(e)&&(a=!0,i=t[e],o=u.copyAndExtendArray(r,e),"function"==typeof l&&!1===(a=l(e,r))&&!(i instanceof Array)&&"string"!=typeof i&&"boolean"!=typeof i&&i instanceof Object&&(this.allowCreation=!1,a=this._handleObject(i,o,!0),this.allowCreation=!1===d),!1!==a&&(h=!0,n=this._getValue(o),i instanceof Array?this._handleArray(i,n,o):"string"==typeof i?this._makeTextInput(i,n,o):"boolean"==typeof i?this._makeCheckbox(i,n,o):i instanceof Object?(n=!0)===(n=-1!==r.indexOf("physics")&&this.moduleOptions.physics.solver!==e?!1:n)&&(void 0!==i.enabled?(n=u.copyAndExtendArray(o,"enabled"),!0===(n=this._getValue(n))?(s=this._makeLabel(e,o,!0),this._makeItem(o,s),h=this._handleObject(i,o)||h):this._makeCheckbox(i,n,o)):(s=this._makeLabel(e,o,!0),this._makeItem(o,s),h=this._handleObject(i,o)||h)):console.error("dont know how to handle",i,e,o)));return h}},{key:"_handleArray",value:function(t,e,i){"string"==typeof t[0]&&"color"===t[0]?(this._makeColorField(t,e,i),t[1]!==e&&this.changedOptions.push({path:i,value:e})):"string"==typeof t[0]?(this._makeDropdown(t,e,i),t[0]!==e&&this.changedOptions.push({path:i,value:e})):"number"==typeof t[0]&&(this._makeRange(t,e,i),t[0]!==e&&this.changedOptions.push({path:i,value:Number(e)}))}},{key:"_update",value:function(t,e){t=this._constructOptions(t,e);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",t),this.initialized=!0,this.parent.setOptions(t)}},{key:"_constructOptions",value:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},o=i;t="false"!==(t="true"===t||t)&&t;for(var n=0;n<e.length;n++)"global"!==e[n]&&(void 0===o[e[n]]&&(o[e[n]]={}),n!==e.length-1?o=o[e[n]]:o[e[n]]=t);return i}},{key:"_printOptions",value:function(){var t=this.getOptions();this.optionsContainer.innerHTML="<pre>var options = "+(0,i.default)(t,null,2)+"</pre>"}},{key:"getOptions",value:function(){for(var t={},e=0;e<this.changedOptions.length;e++)this._constructOptions(this.changedOptions[e].value,this.changedOptions[e].path,t);return t}}]),h);function h(t,e,i){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1;(0,n.default)(this,h),this.parent=t,this.changedOptions=[],this.container=e,this.allowCreation=!1,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},u.extend(this.options,this.defaultOptions),this.configureOptions=i,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new r.default(o),this.wrapper=void 0}t.default=e},function(t,e){e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,i){e.__esModule=!0;var i=i(121),n=(i=i)&&i.__esModule?i:{default:i};function o(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),(0,n.default)(t,o.key,o)}}e.default=function(t,e,i){return e&&o(t.prototype,e),i&&o(t,i),t}},function(t,e,i){t.exports={default:i(122),__esModule:!0}},function(t,e,i){i(123);var o=i(17).Object;t.exports=function(t,e,i){return o.defineProperty(t,e,i)}},function(t,e,i){var o=i(15);o(o.S+o.F*!i(25),"Object",{defineProperty:i(21).f})},function(d,t,e){Object.defineProperty(t,"__esModule",{value:!0});var n=s(e(90)),i=s(e(119)),o=s(e(120));function s(t){return t&&t.__esModule?t:{default:t}}var r=e(112),a=e(125),l=e(1),e=((0,o.default)(h,[{key:"insertTo",value:function(t){void 0!==this.hammer&&(this.hammer.destroy(),this.hammer=void 0),this.container=t,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}},{key:"setUpdateCallback",value:function(t){if("function"!=typeof t)throw new Error("Function attempted to set as colorPicker update callback is not a function.");this.updateCallback=t}},{key:"setCloseCallback",value:function(t){if("function"!=typeof t)throw new Error("Function attempted to set as colorPicker closing callback is not a function.");this.closeCallback=t}},{key:"_isColorString",value:function(t){if("string"==typeof t)return{black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"}[t]}},{key:"setColor",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if("none"!==t){var i=void 0,o=this._isColorString(t);if(!0===l.isString(t=void 0!==o?o:t)?!0===l.isValidRGB(t)?i={r:(o=t.substr(4).substr(0,t.length-5).split(","))[0],g:o[1],b:o[2],a:1}:!0===l.isValidRGBA(t)?i={r:(o=t.substr(5).substr(0,t.length-6).split(","))[0],g:o[1],b:o[2],a:o[3]}:!0===l.isValidHex(t)&&(i={r:(o=l.hexToRGB(t)).r,g:o.g,b:o.b,a:1}):t instanceof Object&&void 0!==t.r&&void 0!==t.g&&void 0!==t.b&&(o=void 0!==t.a?t.a:"1.0",i={r:t.r,g:t.g,b:t.b,a:o}),void 0===i)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+(0,n.default)(t));this._setColor(i,e)}}},{key:"show",value:function(){void 0!==this.closeCallback&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}},{key:"_hide",value:function(){var t=this;!0===(!(0<arguments.length&&void 0!==arguments[0])||arguments[0])&&(this.previousColor=l.extend({},this.color)),!0===this.applied&&this.updateCallback(this.initialColor),this.frame.style.display="none",setTimeout(function(){void 0!==t.closeCallback&&(t.closeCallback(),t.closeCallback=void 0)},0)}},{key:"_save",value:function(){this.updateCallback(this.color),this.applied=!1,this._hide()}},{key:"_apply",value:function(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}},{key:"_loadLast",value:function(){void 0!==this.previousColor?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function(t){!0===(!(1<arguments.length&&void 0!==arguments[1])||arguments[1])&&(this.initialColor=l.extend({},t)),this.color=t;var e=l.RGBToHSV(t.r,t.g,t.b),i=2*Math.PI,o=this.r*e.s,n=this.centerCoordinates.x+o*Math.sin(i*e.h),o=this.centerCoordinates.y+o*Math.cos(i*e.h);this.colorPickerSelector.style.left=n-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=o-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(t)}},{key:"_setOpacity",value:function(t){this.color.a=t/100,this._updatePicker(this.color)}},{key:"_setBrightness",value:function(t){var e=l.RGBToHSV(this.color.r,this.color.g,this.color.b),t=(e.v=t/100,l.HSVToRGB(e.h,e.s,e.v));t.a=this.color.a,this.color=t,this._updatePicker()}},{key:"_updatePicker",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.color,e=l.RGBToHSV(t.r,t.g,t.b),i=this.colorPickerCanvas.getContext("2d"),o=(void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1)),i.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0),this.colorPickerCanvas.clientWidth),n=this.colorPickerCanvas.clientHeight;i.clearRect(0,0,o,n),i.putImageData(this.hueCircle,0,0),i.fillStyle="rgba(0,0,0,"+(1-e.v)+")",i.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),i.fill(),this.brightnessRange.value=100*e.v,this.opacityRange.value=100*t.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function(){var t;this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext?(t=this.colorPickerCanvas.getContext("2d"),this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)):((t=document.createElement("DIV")).style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerHTML="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(t)),this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch(t){}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch(t){}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var e=this;this.opacityRange.onchange=function(){e._setOpacity(this.value)},this.opacityRange.oninput=function(){e._setOpacity(this.value)},this.brightnessRange.onchange=function(){e._setBrightness(this.value)},this.brightnessRange.oninput=function(){e._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerHTML="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerHTML="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerHTML="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerHTML="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerHTML="cancel",this.cancelButton.onclick=this._hide.bind(this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerHTML="apply",this.applyButton.onclick=this._apply.bind(this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerHTML="save",this.saveButton.onclick=this._save.bind(this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerHTML="load last",this.loadButton.onclick=this._loadLast.bind(this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function(){var e=this;this.drag={},this.pinch={},this.hammer=new r(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),a.onTouch(this.hammer,function(t){e._moveSelector(t)}),this.hammer.on("tap",function(t){e._moveSelector(t)}),this.hammer.on("panstart",function(t){e._moveSelector(t)}),this.hammer.on("panmove",function(t){e._moveSelector(t)}),this.hammer.on("panend",function(t){e._moveSelector(t)})}},{key:"_generateHueCircle",value:function(){if(!1===this.generated){for(var t,e,i,o=this.colorPickerCanvas.getContext("2d"),n=(void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(o.webkitBackingStorePixelRatio||o.mozBackingStorePixelRatio||o.msBackingStorePixelRatio||o.oBackingStorePixelRatio||o.backingStorePixelRatio||1)),o.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0),this.colorPickerCanvas.clientWidth),s=this.colorPickerCanvas.clientHeight,r=(o.clearRect(0,0,n,s),void 0),a=void 0,h=(this.centerCoordinates={x:.5*n,y:.5*s},this.r=.49*n,2*Math.PI/360),d=1/this.r,r=0;r<360;r++)for(a=0;a<this.r;a++)t=this.centerCoordinates.x+a*Math.sin(h*r),e=this.centerCoordinates.y+a*Math.cos(h*r),i=l.HSVToRGB(r*(1/360),a*d,1),o.fillStyle="rgb("+i.r+","+i.g+","+i.b+")",o.fillRect(t-.5,e-.5,2,2);o.strokeStyle="rgba(0,0,0,1)",o.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),o.stroke(),this.hueCircle=o.getImageData(0,0,n,s)}this.generated=!0}},{key:"_moveSelector",value:function(t){var e=this.colorPickerDiv.getBoundingClientRect(),i=t.center.x-e.left,t=t.center.y-e.top,e=.5*this.colorPickerDiv.clientHeight,o=.5*this.colorPickerDiv.clientWidth,i=i-o,t=t-e,n=Math.atan2(i,t),i=.98*Math.min(Math.sqrt(i*i+t*t),o),t=Math.cos(n)*i+e,e=Math.sin(n)*i+o;this.colorPickerSelector.style.top=t-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=e-.5*this.colorPickerSelector.clientWidth+"px";o=(o=n/(2*Math.PI))<0?o+1:o,t=i/this.r,e=l.RGBToHSV(this.color.r,this.color.g,this.color.b),e.h=o,e.s=t,n=l.HSVToRGB(e.h,e.s,e.v);n.a=this.color.a,this.color=n,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]),h);function h(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;(0,i.default)(this,h),this.pixelRatio=t,this.generated=!1,this.centerCoordinates={x:144.5,y:144.5},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=function(){},this.closeCallback=function(){},this._create()}t.default=e},function(t,e,i){i(112);e.onTouch=function(t,e){e.inputHandler=function(t){t.isFirst&&e(t)},t.on("hammer.input",e.inputHandler)},e.onRelease=function(t,e){return e.inputHandler=function(t){t.isFinal&&e(t)},t.on("hammer.input",e.inputHandler)},e.offTouch=function(t,e){t.off("hammer.input",e.inputHandler)},e.offRelease=e.offTouch,e.disablePreventDefaultVertically=function(t){return t.getTouchAction=function(){return["pan-y"]},t}},function(n,t,e){Object.defineProperty(t,"__esModule",{value:!0}),t.printStyle=void 0;var i=o(e(90)),r=o(e(62)),h=o(e(58)),a=o(e(119)),p=o(e(120));function o(t){return t&&t.__esModule?t:{default:t}}var u=e(1),d=!1,s=void 0,l="background: #FFeeee; color: #dd0000",e=((0,p.default)(c,null,[{key:"validate",value:function(t,e,i){d=!1;var o=s=e;return void 0!==i&&(o=e[i]),c.parse(t,o,[]),d}},{key:"parse",value:function(t,e,i){for(var o in t)t.hasOwnProperty(o)&&c.check(o,t,e,i)}},{key:"check",value:function(t,e,i,o){void 0===i[t]&&void 0===i.__any__?c.getSuggestion(t,i,o):void 0===i[t]&&void 0!==i.__any__?"object"===c.getType(e[t])&&void 0!==i.__any__.__type__?c.checkFields(t,e,i,"__any__",i.__any__.__type__,o):c.checkFields(t,e,i,"__any__",i.__any__,o):void 0!==i[t].__type__?c.checkFields(t,e,i,t,i[t].__type__,o):c.checkFields(t,e,i,t,i[t],o)}},{key:"checkFields",value:function(t,e,i,o,n,s){var r=c.getType(e[t]),a=n[r];void 0!==a?"array"===c.getType(a)&&-1===a.indexOf(e[t])?(console.log('%cInvalid option detected in "'+t+'". Allowed values are:'+c.print(a)+' not "'+e[t]+'". '+c.printLocation(s,t),l),d=!0):"object"===r&&"__any__"!==o&&(s=u.copyAndExtendArray(s,t),c.parse(e[t],i[o],s)):void 0===n.any&&(console.log('%cInvalid type received for "'+t+'". Expected: '+c.print((0,h.default)(n))+". Received ["+r+'] "'+e[t]+'"'+c.printLocation(s,t),l),d=!0)}},{key:"getType",value:function(t){var e=void 0===t?"undefined":(0,r.default)(t);return"object"===e?null===t?"null":t instanceof Boolean?"boolean":t instanceof Number?"number":t instanceof String?"string":Array.isArray(t)?"array":t instanceof Date?"date":void 0!==t.nodeType?"dom":!0===t._isAMomentObject?"moment":"object":"number"===e?"number":"boolean"===e?"boolean":"string"===e?"string":void 0===e?"undefined":e}},{key:"getSuggestion",value:function(t,e,i){var o=c.findInOptions(t,e,i,!1),n=c.findInOptions(t,s,[],!0);void 0!==o.indexMatch?console.log('%cUnknown option detected: "'+t+'" in '+c.printLocation(o.path,t,"")+'Perhaps it was incomplete? Did you mean: "'+o.indexMatch+'"?\n\n',l):n.distance<=4&&o.distance>n.distance?console.log('%cUnknown option detected: "'+t+'" in '+c.printLocation(o.path,t,"")+"Perhaps it was misplaced? Matching option found at: "+c.printLocation(n.path,n.closestMatch,""),l):o.distance<=8?console.log('%cUnknown option detected: "'+t+'". Did you mean "'+o.closestMatch+'"?'+c.printLocation(o.path,t),l):console.log('%cUnknown option detected: "'+t+'". Did you mean one of these: '+c.print((0,h.default)(e))+c.printLocation(i,t),l),d=!0}},{key:"findInOptions",value:function(t,e,i){var o,d=3<arguments.length&&void 0!==arguments[3]&&arguments[3],n=1e9,s="",r=[],l=t.toLowerCase(),a=void 0;for(o in e){var h;void 0!==e[o].__type__&&!0===d?n>(h=c.findInOptions(t,e[o],u.copyAndExtendArray(i,o))).distance&&(s=h.closestMatch,r=h.path,n=h.distance,a=h.indexMatch):(-1!==o.toLowerCase().indexOf(l)&&(a=o),(h=c.levenshteinDistance(t,o))<n&&(s=o,r=u.copyArray(i),n=h))}return{closestMatch:s,path:r,distance:n,indexMatch:a}}},{key:"printLocation",value:function(t,e){for(var i="\n\n"+(2<arguments.length&&void 0!==arguments[2]?arguments[2]:"Problem value found at: \n")+"options = {\n",o=0;o<t.length;o++){for(var n=0;n<o+1;n++)i+="  ";i+=t[o]+": {\n"}for(var s=0;s<t.length+1;s++)i+="  ";i+=e+"\n";for(var r=0;r<t.length+1;r++){for(var a=0;a<t.length-r;a++)i+="  ";i+="}\n"}return i+"\n\n"}},{key:"print",value:function(t){return(0,i.default)(t).replace(/(\")|(\[)|(\])|(,"__type__")/g,"").replace(/(\,)/g,", ")}},{key:"levenshteinDistance",value:function(t,e){if(0===t.length)return e.length;if(0===e.length)return t.length;for(var i,o=[],n=0;n<=e.length;n++)o[n]=[n];for(i=0;i<=t.length;i++)o[0][i]=i;for(n=1;n<=e.length;n++)for(i=1;i<=t.length;i++)e.charAt(n-1)==t.charAt(i-1)?o[n][i]=o[n-1][i-1]:o[n][i]=Math.min(o[n-1][i-1]+1,Math.min(o[n][i-1]+1,o[n-1][i]+1));return o[e.length][t.length]}}]),c);function c(){(0,a.default)(this,c)}t.default=e,t.printStyle=l},function(t,s,e){var m=i(e(58)),b=i(e(90)),g=i(e(62));function i(t){return t&&t.__esModule?t:{default:t}}var v=e(1),n=(e(125),e(82)),a=e(128),y=e(129);function o(t,e){var i=n().hours(0).minutes(0).seconds(0).milliseconds(0),o=i.clone().add(-3,"days").valueOf(),i=i.clone().add(3,"days").valueOf();void 0===e?(this.start=o,this.end=i):(this.start=e.start||o,this.end=e.end||i),this.rolling=!1,this.body=t,this.deltaDifference=0,this.scaleOffset=0,this.startToFront=!1,this.endToFront=!0,this.defaultOptions={rtl:!1,start:null,end:null,moment:n,direction:"horizontal",moveable:!0,zoomable:!0,min:null,max:null,zoomMin:10,zoomMax:31536e10},this.options=v.extend({},this.defaultOptions),this.props={touch:{}},this.animationTimer=null,this.body.emitter.on("panstart",this._onDragStart.bind(this)),this.body.emitter.on("panmove",this._onDrag.bind(this)),this.body.emitter.on("panend",this._onDragEnd.bind(this)),this.body.emitter.on("mousewheel",this._onMouseWheel.bind(this)),this.body.emitter.on("touch",this._onTouch.bind(this)),this.body.emitter.on("pinch",this._onPinch.bind(this)),this.body.dom.rollingModeBtn.addEventListener("click",this.startRolling.bind(this)),this.setOptions(e)}function r(t){if("horizontal"!=t&&"vertical"!=t)throw new TypeError('Unknown direction "'+t+'". Choose "horizontal" or "vertical".')}(o.prototype=new a).setOptions=function(t){t&&(v.selectiveExtend(["animation","direction","min","max","zoomMin","zoomMax","moveable","zoomable","moment","activate","hiddenDates","zoomKey","rtl","showCurrentTime","rollMode","horizontalScroll"],this.options,t),t.rollingMode&&this.startRolling(),("start"in t||"end"in t)&&this.setRange(t.start,t.end))},o.prototype.startRolling=function(){var o=this;!function t(){o.stopRolling(),o.rolling=!0;var e=o.end-o.start,i=v.convert(new Date,"Date").valueOf();o.options&&void 0!==o.options.animation&&o.options.animation;o.setRange(i-e/2,i+e/2,!1),1e3<(e=(e=1/o.conversion(o.body.domProps.center.width).scale/10)<30?30:e)&&(e=1e3),o.body.dom.rollingModeBtn.style.visibility="hidden",o.currentTimeTimer=setTimeout(t,e)}()},o.prototype.stopRolling=function(){void 0!==this.currentTimeTimer&&(clearTimeout(this.currentTimeTimer),this.rolling=!1,this.body.dom.rollingModeBtn.style.visibility="visible")},o.prototype.setRange=function(t,e,i,o,n){!0!==o&&(o=!1);var s=null!=t?v.convert(t,"Date").valueOf():null,r=null!=e?v.convert(e,"Date").valueOf():null;if(this._cancelAnimation(),i){var a=this,l=this.start,u=this.end,c="object"===(void 0===i?"undefined":(0,g.default)(i))&&"duration"in i?i.duration:500,t="object"===(void 0===i?"undefined":(0,g.default)(i))&&"easingFunction"in i?i.easingFunction:"easeInOutQuad",p=v.easingFunctions[t];if(!p)throw new Error("Unknown easing function "+(0,b.default)(t)+". Choose from: "+(0,m.default)(v.easingFunctions).join(", "));var f=(new Date).valueOf(),h=!1;return function t(){var e,i;a.props.touch.dragging||(e=(new Date).valueOf()-f,i=p(e/c),d=a._applyRange((e=c<e)||null===s?s:l+(s-l)*i,e||null===r?r:u+(r-u)*i),y.updateHiddenDates(a.options.moment,a.body,a.options.hiddenDates),h=h||d,i={start:new Date(a.start),end:new Date(a.end),byUser:o,event:n},d&&a.body.emitter.emit("rangechange",i),e?h&&a.body.emitter.emit("rangechanged",i):a.animationTimer=setTimeout(t,20))}()}var d=this._applyRange(s,r);y.updateHiddenDates(this.options.moment,this.body,this.options.hiddenDates),d&&(e={start:new Date(this.start),end:new Date(this.end),byUser:o,event:n},this.body.emitter.emit("rangechange",e),this.body.emitter.emit("rangechanged",e))},o.prototype.getMillisecondsPerPixel=function(){return(this.end-this.start)/this.body.dom.center.clientWidth},o.prototype._cancelAnimation=function(){this.animationTimer&&(clearTimeout(this.animationTimer),this.animationTimer=null)},o.prototype._applyRange=function(t,e){var i,o=null!=t?v.convert(t,"Date").valueOf():this.start,n=null!=e?v.convert(e,"Date").valueOf():this.end,s=null!=this.options.max?v.convert(this.options.max,"Date").valueOf():null,r=null!=this.options.min?v.convert(this.options.min,"Date").valueOf():null;if(isNaN(o)||null===o)throw new Error('Invalid start "'+t+'"');if(isNaN(n)||null===n)throw new Error('Invalid end "'+e+'"');n<o&&(n=o),null!==r&&o<r&&(o+=i=r-o,n+=i,null!=s&&s<n&&(n=s)),null!==s&&s<n&&(o-=i=n-s,n-=i,null!=r&&o<r&&(o=r)),null===this.options.zoomMin||n-o<(t=(t=parseFloat(this.options.zoomMin))<0?0:t)&&(this.end-this.start===t&&o>=this.start-.5&&n<=this.end?(o=this.start,n=this.end):(o-=(i=t-(n-o))/2,n+=i/2)),null===this.options.zoomMax||(e=(e=parseFloat(this.options.zoomMax))<0?0:e)<n-o&&(this.end-this.start===e&&o<this.start&&n>this.end?(o=this.start,n=this.end):(o+=(i=n-o-e)/2,n-=i/2));s=this.start!=o||this.end!=n;return o>=this.start&&o<=this.end||n>=this.start&&n<=this.end||this.start>=o&&this.start<=n||this.end>=o&&this.end<=n||this.body.emitter.emit("checkRangedItems"),this.start=o,this.end=n,s},o.prototype.getRange=function(){return{start:this.start,end:this.end}},o.prototype.conversion=function(t,e){return o.conversion(this.start,this.end,t,e)},o.conversion=function(t,e,i,o){return void 0===o&&(o=0),0!=i&&e-t!=0?{offset:t,scale:i/(e-t-o)}:{offset:0,scale:1}},o.prototype._onDragStart=function(t){this.deltaDifference=0,this.previousDelta=0,this.options.moveable&&this._isInsideRange(t)&&this.props.touch.allowDragging&&(this.stopRolling(),this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.dragging=!0,this.body.dom.root&&(this.body.dom.root.style.cursor="move"))},o.prototype._onDrag=function(t){if(t&&this.props.touch.dragging&&this.options.moveable&&this.props.touch.allowDragging){var e=this.options.direction,i=(r(e),"horizontal"==e?t.deltaX:t.deltaY),o=(i-=this.deltaDifference,this.props.touch.end-this.props.touch.start),e=(o-=y.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end),"horizontal"==e?this.body.domProps.center.width:this.body.domProps.center.height),o=(e=this.options.rtl?i/e*o:-i/e*o,this.props.touch.start+e),e=this.props.touch.end+e,n=y.snapAwayFromHidden(this.body.hiddenDates,o,this.previousDelta-i,!0),s=y.snapAwayFromHidden(this.body.hiddenDates,e,this.previousDelta-i,!0);if(n!=o||s!=e)return this.deltaDifference+=i,this.props.touch.start=n,this.props.touch.end=s,void this._onDrag(t);this.previousDelta=i,this._applyRange(o,e);n=new Date(this.start),s=new Date(this.end);this.body.emitter.emit("rangechange",{start:n,end:s,byUser:!0,event:t}),this.body.emitter.emit("panmove")}},o.prototype._onDragEnd=function(t){this.props.touch.dragging&&this.options.moveable&&this.props.touch.allowDragging&&(this.props.touch.dragging=!1,this.body.dom.root&&(this.body.dom.root.style.cursor="auto"),this.body.emitter.emit("rangechanged",{start:new Date(this.start),end:new Date(this.end),byUser:!0,event:t}))},o.prototype._onMouseWheel=function(t){var e,i,o=0;t.wheelDelta?o=t.wheelDelta/120:t.detail&&(o=-t.detail/3),this.options.zoomKey&&!t[this.options.zoomKey]&&this.options.zoomable||!this.options.zoomable&&this.options.moveable?this.options.horizontalScroll&&(t.preventDefault(),e=o*(this.end-this.start)/20,i=this.start-e,e=this.end-e,this.setRange(i,e,!1,!0,t)):this.options.zoomable&&this.options.moveable&&this._isInsideRange(t)&&o&&(i=o<0?1-o/5:1/(1+o/5),e=this.rolling?(this.start+this.end)/2:(e=this.getPointer({x:t.clientX,y:t.clientY},this.body.dom.center),this._pointerToDate(e)),this.zoom(i,e,o,t),t.preventDefault())},o.prototype._onTouch=function(t){this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.allowDragging=!0,this.props.touch.center=null,this.scaleOffset=0,this.deltaDifference=0},o.prototype._onPinch=function(t){var e,i,o,n,s;this.options.zoomable&&this.options.moveable&&(this.props.touch.allowDragging=!1,this.props.touch.center||(this.props.touch.center=this.getPointer(t.center,this.body.dom.center)),this.stopRolling(),e=1/(t.scale+this.scaleOffset),n=this._pointerToDate(this.props.touch.center),s=y.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end),i=n-(o=y.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this,n))+(this.props.touch.start-(n-o))*e,o=n+(s=s-o)+(this.props.touch.end-(n+s))*e,this.startToFront=1-e<=0,this.endToFront=e-1<=0,n=y.snapAwayFromHidden(this.body.hiddenDates,i,1-e,!0),s=y.snapAwayFromHidden(this.body.hiddenDates,o,e-1,!0),n==i&&s==o||(this.props.touch.start=n,this.props.touch.end=s,this.scaleOffset=1-t.scale,i=n,o=s),this.setRange(i,o,!1,!0,t),this.startToFront=!1,this.endToFront=!0)},o.prototype._isInsideRange=function(t){var t=t.center?t.center.x:t.clientX,t=(t=this.options.rtl?t-v.getAbsoluteLeft(this.body.dom.centerContainer):v.getAbsoluteRight(this.body.dom.centerContainer)-t,this.body.util.toTime(t));return t>=this.start&&t<=this.end},o.prototype._pointerToDate=function(t){var e=this.options.direction;return r(e),"horizontal"==e?this.body.util.toTime(t.x).valueOf():(e=this.body.domProps.center.height,e=this.conversion(e),t.y/e.scale+e.offset)},o.prototype.getPointer=function(t,e){return this.options.rtl?{x:v.getAbsoluteRight(e)-t.x,y:t.y-v.getAbsoluteTop(e)}:{x:t.x-v.getAbsoluteLeft(e),y:t.y-v.getAbsoluteTop(e)}},o.prototype.zoom=function(t,e,i,o){null==e&&(e=(this.start+this.end)/2);var n=y.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end),s=y.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this,e),n=n-s,s=e-s+(this.start-(e-s))*t,e=e+n+(this.end-(e+n))*t,n=(this.startToFront=!(0<i),this.endToFront=!(0<-i),y.snapAwayFromHidden(this.body.hiddenDates,s,i,!0)),t=y.snapAwayFromHidden(this.body.hiddenDates,e,-i,!0);n==s&&t==e||(s=n,e=t),this.setRange(s,e,!1,!0,o),this.startToFront=!1,this.endToFront=!0},o.prototype.move=function(t){var e=this.end-this.start,i=this.start+e*t,e=this.end+e*t;this.start=i,this.end=e},o.prototype.moveTo=function(t){var t=(this.start+this.end)/2-t,e=this.start-t,t=this.end-t;this.setRange(e,t,!1,!0,null)},t.exports=o},function(t,e,i){var o=i(1);function n(t,e){this.options=null,this.props=null}n.prototype.setOptions=function(t){t&&o.extend(this.options,t)},n.prototype.redraw=function(){return!1},n.prototype.destroy=function(){},n.prototype._isResized=function(){var t=this.props._previousWidth!==this.props.width||this.props._previousHeight!==this.props.height;return this.props._previousWidth=this.props.width,this.props._previousHeight=this.props.height,t},t.exports=n},function(t,v){v.convertHiddenOptions=function(t,e,i){if(i&&!Array.isArray(i))return v.convertHiddenOptions(t,e,[i]);if(e.hiddenDates=[],i&&1==Array.isArray(i)){for(var o,n=0;n<i.length;n++)void 0===i[n].repeat&&((o={}).start=t(i[n].start).toDate().valueOf(),o.end=t(i[n].end).toDate().valueOf(),e.hiddenDates.push(o));e.hiddenDates.sort(function(t,e){return t.start-e.start})}},v.updateHiddenDates=function(t,e,i){if(i&&!Array.isArray(i))return v.updateHiddenDates(t,e,[i]);if(i&&void 0!==e.domProps.centerContainer.width){v.convertHiddenOptions(t,e,i);for(var o=t(e.range.start),l=t(e.range.end),u=(e.range.end-e.range.start)/e.domProps.centerContainer.width,n=0;n<i.length;n++)if(void 0!==i[n].repeat){var s=t(i[n].start),r=t(i[n].end);if("Invalid Date"==s._d)throw new Error("Supplied start date is not valid: "+i[n].start);if("Invalid Date"==r._d)throw new Error("Supplied end date is not valid: "+i[n].end);if(4*u<=r-s){var a=0,h=l.clone();switch(i[n].repeat){case"daily":s.day()!=r.day()&&(a=1),s.dayOfYear(o.dayOfYear()),s.year(o.year()),s.subtract(7,"days"),r.dayOfYear(o.dayOfYear()),r.year(o.year()),r.subtract(7-a,"days"),h.add(1,"weeks");break;case"weekly":var c=r.diff(s,"days"),p=s.day();s.date(o.date()),s.month(o.month()),s.year(o.year()),r=s.clone(),s.day(p),r.day(p),r.add(c,"days"),s.subtract(1,"weeks"),r.subtract(1,"weeks"),h.add(1,"weeks");break;case"monthly":s.month()!=r.month()&&(a=1),s.month(o.month()),s.year(o.year()),s.subtract(1,"months"),r.month(o.month()),r.year(o.year()),r.subtract(1,"months"),r.add(a,"months"),h.add(1,"months");break;case"yearly":s.year()!=r.year()&&(a=1),s.year(o.year()),s.subtract(1,"years"),r.year(o.year()),r.subtract(1,"years"),r.add(a,"years"),h.add(1,"years");break;default:return void console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",i[n].repeat)}for(;s<h;)switch(e.hiddenDates.push({start:s.valueOf(),end:r.valueOf()}),i[n].repeat){case"daily":s.add(1,"days"),r.add(1,"days");break;case"weekly":s.add(1,"weeks"),r.add(1,"weeks");break;case"monthly":s.add(1,"months"),r.add(1,"months");break;case"yearly":s.add(1,"y"),r.add(1,"y");break;default:return void console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",i[n].repeat)}e.hiddenDates.push({start:s.valueOf(),end:r.valueOf()})}}v.removeDuplicates(e);var d=v.isHidden(e.range.start,e.hiddenDates),f=v.isHidden(e.range.end,e.hiddenDates),m=e.range.start,g=e.range.end;1==d.hidden&&(m=1==e.range.startToFront?d.startDate-1:d.endDate+1),1==f.hidden&&(g=1==e.range.endToFront?f.startDate-1:f.endDate+1),1!=d.hidden&&1!=f.hidden||e.range._applyRange(m,g)}},v.removeDuplicates=function(t){for(var e=t.hiddenDates,i=[],o=0;o<e.length;o++)for(var n=0;n<e.length;n++)o!=n&&1!=e[n].remove&&1!=e[o].remove&&(e[n].start>=e[o].start&&e[n].end<=e[o].end?e[n].remove=!0:e[n].start>=e[o].start&&e[n].start<=e[o].end?(e[o].end=e[n].end,e[n].remove=!0):e[n].end>=e[o].start&&e[n].end<=e[o].end&&(e[o].start=e[n].start,e[n].remove=!0));for(o=0;o<e.length;o++)!0!==e[o].remove&&i.push(e[o]);t.hiddenDates=i,t.hiddenDates.sort(function(t,e){return t.start-e.start})},v.printDates=function(t){for(var e=0;e<t.length;e++)console.log(e,new Date(t[e].start),new Date(t[e].end),t[e].start,t[e].end,t[e].remove)},v.stepOverHiddenDates=function(t,e,i){for(var o=!1,n=e.current.valueOf(),s=0;s<e.hiddenDates.length;s++){var r=e.hiddenDates[s].start,a=e.hiddenDates[s].end;if(r<=n&&n<a){o=!0;break}}1==o&&n<e._end.valueOf()&&n!=i&&(i=t(i),t=t(a),i.year()!=t.year()?e.switchedYear=!0:i.month()!=t.month()?e.switchedMonth=!0:i.dayOfYear()!=t.dayOfYear()&&(e.switchedDay=!0),e.current=t)},v.toScreen=function(t,e,i){var o,n,s;return 0==t.body.hiddenDates.length?(s=t.range.conversion(i),(e.valueOf()-s.offset)*s.scale):(1==(o=v.isHidden(e,t.body.hiddenDates)).hidden&&(e=o.startDate),o=v.getHiddenDurationBetween(t.body.hiddenDates,t.range.start,t.range.end),e<t.range.start?(s=t.range.conversion(i,o),n=v.getHiddenDurationBeforeStart(t.body.hiddenDates,e,s.offset),e=t.options.moment(e).toDate().valueOf(),-(s.offset-(e+=n).valueOf())*s.scale):(s=(e=e>t.range.end?(n={start:t.range.start,end:e},v.correctTimeForHidden(t.options.moment,t.body.hiddenDates,n,e)):v.correctTimeForHidden(t.options.moment,t.body.hiddenDates,t.range,e),t.range.conversion(i,o)),(e.valueOf()-s.offset)*s.scale))},v.toTime=function(t,e,i){var o;return 0==t.body.hiddenDates.length?(o=t.range.conversion(i),new Date(e/o.scale+o.offset)):(o=v.getHiddenDurationBetween(t.body.hiddenDates,t.range.start,t.range.end),o=(t.range.end-t.range.start-o)*e/i,e=v.getAccumulatedHiddenDuration(t.body.hiddenDates,t.range,o),new Date(e+o+t.range.start))},v.getHiddenDurationBetween=function(t,e,i){for(var o=0,n=0;n<t.length;n++){var s=t[n].start,r=t[n].end;e<=s&&r<i&&(o+=r-s)}return o},v.getHiddenDurationBeforeStart=function(t,e,i){for(var o=0,n=0;n<t.length;n++){var s=t[n].start,r=t[n].end;e<=s&&r<=i&&(o+=r-s)}return o},v.correctTimeForHidden=function(t,e,i,o){return o=t(o).toDate().valueOf(),o-=v.getHiddenDurationBefore(t,e,i,o)},v.getHiddenDurationBefore=function(t,e,i,o){var n=0;o=t(o).toDate().valueOf();for(var s=0;s<e.length;s++){var r=e[s].start,a=e[s].end;r>=i.start&&a<i.end&&a<=o&&(n+=a-r)}return n},v.getAccumulatedHiddenDuration=function(t,e,i){for(var o=0,n=0,s=e.start,r=0;r<t.length;r++){var a=t[r].start,h=t[r].end;if(a>=e.start&&h<e.end){if(n+=a-s,s=h,i<=n)break;o+=h-a}}return o},v.snapAwayFromHidden=function(t,e,i,o){t=v.isHidden(e,t);return 1==t.hidden?i<0?1==o?t.startDate-(t.endDate-e)-1:t.startDate-1:1==o?t.endDate+(e-t.startDate)+1:t.endDate+1:e},v.isHidden=function(t,e){for(var i=0;i<e.length;i++){var o=e[i].start,n=e[i].end;if(o<=t&&t<n)return{hidden:!0,startDate:o,endDate:n}}return{hidden:!1,startDate:o,endDate:n}}},function(t,l,e){var o=i(e(90)),u=i(e(62));function i(t){return t&&t.__esModule?t:{default:t}}var c=e(99),a=e(112),r=e(125),h=e(1),n=(e(89),e(93),e(127),e(131),e(142)),p=e(143),d=e(129),f=e(144);function s(){}c(s.prototype),s.prototype._create=function(t){this.dom={},this.dom.container=t,this.dom.root=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.backgroundVertical=document.createElement("div"),this.dom.backgroundHorizontal=document.createElement("div"),this.dom.centerContainer=document.createElement("div"),this.dom.leftContainer=document.createElement("div"),this.dom.rightContainer=document.createElement("div"),this.dom.center=document.createElement("div"),this.dom.left=document.createElement("div"),this.dom.right=document.createElement("div"),this.dom.top=document.createElement("div"),this.dom.bottom=document.createElement("div"),this.dom.shadowTop=document.createElement("div"),this.dom.shadowBottom=document.createElement("div"),this.dom.shadowTopLeft=document.createElement("div"),this.dom.shadowBottomLeft=document.createElement("div"),this.dom.shadowTopRight=document.createElement("div"),this.dom.shadowBottomRight=document.createElement("div"),this.dom.rollingModeBtn=document.createElement("div"),this.dom.root.className="vis-timeline",this.dom.background.className="vis-panel vis-background",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical",this.dom.backgroundHorizontal.className="vis-panel vis-background vis-horizontal",this.dom.centerContainer.className="vis-panel vis-center",this.dom.leftContainer.className="vis-panel vis-left",this.dom.rightContainer.className="vis-panel vis-right",this.dom.top.className="vis-panel vis-top",this.dom.bottom.className="vis-panel vis-bottom",this.dom.left.className="vis-content",this.dom.center.className="vis-content",this.dom.right.className="vis-content",this.dom.shadowTop.className="vis-shadow vis-top",this.dom.shadowBottom.className="vis-shadow vis-bottom",this.dom.shadowTopLeft.className="vis-shadow vis-top",this.dom.shadowBottomLeft.className="vis-shadow vis-bottom",this.dom.shadowTopRight.className="vis-shadow vis-top",this.dom.shadowBottomRight.className="vis-shadow vis-bottom",this.dom.rollingModeBtn.className="vis-rolling-mode-btn",this.dom.root.appendChild(this.dom.background),this.dom.root.appendChild(this.dom.backgroundVertical),this.dom.root.appendChild(this.dom.backgroundHorizontal),this.dom.root.appendChild(this.dom.centerContainer),this.dom.root.appendChild(this.dom.leftContainer),this.dom.root.appendChild(this.dom.rightContainer),this.dom.root.appendChild(this.dom.top),this.dom.root.appendChild(this.dom.bottom),this.dom.root.appendChild(this.dom.bottom),this.dom.root.appendChild(this.dom.rollingModeBtn),this.dom.centerContainer.appendChild(this.dom.center),this.dom.leftContainer.appendChild(this.dom.left),this.dom.rightContainer.appendChild(this.dom.right),this.dom.centerContainer.appendChild(this.dom.shadowTop),this.dom.centerContainer.appendChild(this.dom.shadowBottom),this.dom.leftContainer.appendChild(this.dom.shadowTopLeft),this.dom.leftContainer.appendChild(this.dom.shadowBottomLeft),this.dom.rightContainer.appendChild(this.dom.shadowTopRight),this.dom.rightContainer.appendChild(this.dom.shadowBottomRight),this.props={root:{},background:{},centerContainer:{},leftContainer:{},rightContainer:{},center:{},left:{},right:{},top:{},bottom:{},border:{},scrollTop:0,scrollTopMin:0},this.on("rangechange",function(){!0===this.initialDrawDone&&this._redraw()}.bind(this)),this.on("touch",this._onTouch.bind(this)),this.on("panmove",this._onDrag.bind(this));var i=this,e=(this._origRedraw=this._redraw.bind(this),this._redraw=h.throttle(this._origRedraw),this.on("_change",function(t){i.itemSet&&i.itemSet.initialItemSetDrawn&&t&&1==t.queue?i._redraw():i._origRedraw()}),this.hammer=new a(this.dom.root),this.hammer.get("pinch").set({enable:!0}));r.disablePreventDefaultVertically(e),this.hammer.get("pan").set({threshold:5,direction:a.DIRECTION_HORIZONTAL}),this.listeners={};function o(t){var e;this.isActive()&&this.emit("mousewheel",t),this.options.verticalScroll&&!this.options.horizontalScroll&&this.options.zoomKey&&!t[this.options.zoomKey]&&(t.preventDefault(),e=0,t.wheelDelta?e=t.wheelDelta/120:t.detail&&(e=-t.detail/3),e=this.props.scrollTop+120*e,this.isActive()&&(this._setScrollTop(e),this._redraw(),this.emit("scroll",t)))}function n(t){var e;i.options.verticalScroll&&(t.preventDefault(),i.isActive()&&(e=-t.target.scrollTop,i._setScrollTop(e),i._redraw(),i.emit("scrollSide",t)))}["tap","doubletap","press","pinch","pan","panstart","panmove","panend"].forEach(function(e){function t(t){i.isActive()&&i.emit(e,t)}i.hammer.on(e,t),i.listeners[e]=t}),r.onTouch(this.hammer,function(t){i.emit("touch",t)}.bind(this)),r.onRelease(this.hammer,function(t){i.emit("release",t)}.bind(this)),this.dom.centerContainer.addEventListener?(this.dom.centerContainer.addEventListener("mousewheel",o.bind(this),!1),this.dom.centerContainer.addEventListener("DOMMouseScroll",o.bind(this),!1)):this.dom.centerContainer.attachEvent("onmousewheel",o.bind(this)),this.dom.left.parentNode.addEventListener("scroll",n.bind(this)),this.dom.right.parentNode.addEventListener("scroll",n.bind(this));var s=!1;if(this.dom.center.addEventListener("dragover",function(t){if(t.preventDefault&&t.preventDefault(),!(-1<!t.target.className.indexOf("vis")||s))return t.dataTransfer.dropEffect="move",!(s=!0)}.bind(this),!1),this.dom.center.addEventListener("drop",function(t){t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation();try{if(!JSON.parse(t.dataTransfer.getData("text")).content)return}catch(t){return!1}return s=!1,t.center={x:t.clientX,y:t.clientY},i.itemSet._onAddItem(t),!1}.bind(this),!1),this.customTimes=[],this.touch={},this.redrawCount=0,this.initialDrawDone=!1,!t)throw new Error("No container provided");t.appendChild(this.dom.root)},s.prototype.setOptions=function(e){if(e){var i,t;if(h.selectiveExtend(["width","height","minHeight","maxHeight","autoResize","start","end","clickToUse","dataAttributes","hiddenDates","locale","locales","moment","rtl","zoomKey","horizontalScroll","verticalScroll"],this.options,e),this.dom.rollingModeBtn.style.visibility="hidden",this.options.rtl&&(this.dom.container.style.direction="rtl",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical-rtl"),this.options.verticalScroll&&(this.options.rtl?this.dom.rightContainer.className="vis-panel vis-right vis-vertical-scroll":this.dom.leftContainer.className="vis-panel vis-left vis-vertical-scroll"),this.options.orientation={item:void 0,axis:void 0},"orientation"in e&&("string"==typeof e.orientation?this.options.orientation={item:e.orientation,axis:e.orientation}:"object"===(0,u.default)(e.orientation)&&("item"in e.orientation&&(this.options.orientation.item=e.orientation.item),"axis"in e.orientation&&(this.options.orientation.axis=e.orientation.axis))),"both"===this.options.orientation.axis?this.timeAxis2||((i=this.timeAxis2=new n(this.body)).setOptions=function(t){t=t?h.extend({},t):{};t.orientation="top",n.prototype.setOptions.call(i,t)},this.components.push(i)):this.timeAxis2&&(-1!==(t=this.components.indexOf(this.timeAxis2))&&this.components.splice(t,1),this.timeAxis2.destroy(),this.timeAxis2=null),"function"==typeof e.drawPoints&&(e.drawPoints={onRender:e.drawPoints}),"hiddenDates"in this.options&&d.convertHiddenOptions(this.options.moment,this.body,this.options.hiddenDates),"clickToUse"in e&&(e.clickToUse?this.activator||(this.activator=new p(this.dom.root)):this.activator&&(this.activator.destroy(),delete this.activator)),"showCustomTime"in e)throw new Error("Option `showCustomTime` is deprecated. Create a custom time bar via timeline.addCustomTime(time [, id])");this._initAutoResize()}var o;this.components.forEach(function(t){return t.setOptions(e)}),"configure"in e&&(this.configurator||(this.configurator=this._createConfigurator()),this.configurator.setOptions(e.configure),o=h.deepExtend({},this.options),this.components.forEach(function(t){h.deepExtend(o,t.options)}),this.configurator.setModuleOptions({global:o})),this._redraw()},s.prototype.isActive=function(){return!this.activator||this.activator.active},s.prototype.destroy=function(){for(var t in this.setItems(null),this.setGroups(null),this.off(),this._stopAutoResize(),this.dom.root.parentNode&&this.dom.root.parentNode.removeChild(this.dom.root),this.dom=null,this.activator&&(this.activator.destroy(),delete this.activator),this.listeners)this.listeners.hasOwnProperty(t)&&delete this.listeners[t];this.listeners=null,this.hammer=null,this.components.forEach(function(t){return t.destroy()}),this.body=null},s.prototype.setCustomTime=function(t,e){var i=this.customTimes.filter(function(t){return e===t.options.id});if(0===i.length)throw new Error("No custom time bar found with id "+(0,o.default)(e));0<i.length&&i[0].setCustomTime(t)},s.prototype.getCustomTime=function(e){var t=this.customTimes.filter(function(t){return t.options.id===e});if(0===t.length)throw new Error("No custom time bar found with id "+(0,o.default)(e));return t[0].getCustomTime()},s.prototype.setCustomTimeTitle=function(t,e){var i=this.customTimes.filter(function(t){return t.options.id===e});if(0===i.length)throw new Error("No custom time bar found with id "+(0,o.default)(e));if(0<i.length)return i[0].setCustomTitle(t)},s.prototype.getEventProperties=function(t){return{event:t}},s.prototype.addCustomTime=function(t,e){t=void 0!==t?h.convert(t,"Date").valueOf():new Date;if(this.customTimes.some(function(t){return t.options.id===e}))throw new Error("A custom time with id "+(0,o.default)(e)+" already exists");t=new f(this.body,h.extend({},this.options,{time:t,id:e}));return this.customTimes.push(t),this.components.push(t),this._redraw(),e},s.prototype.removeCustomTime=function(e){var t=this.customTimes.filter(function(t){return t.options.id===e});if(0===t.length)throw new Error("No custom time bar found with id "+(0,o.default)(e));t.forEach(function(t){this.customTimes.splice(this.customTimes.indexOf(t),1),this.components.splice(this.components.indexOf(t),1),t.destroy()}.bind(this))},s.prototype.getVisibleItems=function(){return this.itemSet&&this.itemSet.getVisibleItems()||[]},s.prototype.fit=function(t){var e,i,o=this.getDataRange();null===o.min&&null===o.max||(i=o.max-o.min,e=new Date(o.min.valueOf()-.01*i),o=new Date(o.max.valueOf()+.01*i),i=!t||void 0===t.animation||t.animation,this.range.setRange(e,o,i))},s.prototype.getDataRange=function(){throw new Error("Cannot invoke abstract method getDataRange")},s.prototype.setWindow=function(t,e,i){var o;1==arguments.length?(o=void 0===t.animation||t.animation,this.range.setRange(t.start,t.end,o)):(o=!i||void 0===i.animation||i.animation,this.range.setRange(t,e,o))},s.prototype.moveTo=function(t,e){var i=this.range.end-this.range.start,t=h.convert(t,"Date").valueOf(),e=!e||void 0===e.animation||e.animation;this.range.setRange(t-i/2,t+i/2,e)},s.prototype.getWindow=function(){var t=this.range.getRange();return{start:new Date(t.start),end:new Date(t.end)}},s.prototype.zoomIn=function(t,e){var i,o;!t||t<0||1<t||(o=(i=this.getWindow()).start.valueOf(),i=i.end.valueOf(),this.setWindow(o+(o=((o=i-o)-o/(1+t))/2),i-o,e))},s.prototype.zoomOut=function(t,e){var i,o;!t||t<0||1<t||(o=(i=this.getWindow()).start.valueOf(),i=i.end.valueOf(),this.setWindow(o-(o=i-o)*t/2,i+o*t/2,e))},s.prototype.redraw=function(){this._redraw()},s.prototype._redraw=function(){this.redrawCount++;var e=!1,t=this.options,i=this.props,o=this.dom;if(o&&o.container&&0!=o.root.offsetWidth){d.updateHiddenDates(this.options.moment,this.body,this.options.hiddenDates),"top"==t.orientation?(h.addClassName(o.root,"vis-top"),h.removeClassName(o.root,"vis-bottom")):(h.removeClassName(o.root,"vis-top"),h.addClassName(o.root,"vis-bottom")),o.root.style.maxHeight=h.option.asSize(t.maxHeight,""),o.root.style.minHeight=h.option.asSize(t.minHeight,""),o.root.style.width=h.option.asSize(t.width,""),i.border.left=(o.centerContainer.offsetWidth-o.centerContainer.clientWidth)/2,i.border.right=i.border.left,i.border.top=(o.centerContainer.offsetHeight-o.centerContainer.clientHeight)/2,i.border.bottom=i.border.top,i.borderRootHeight=o.root.offsetHeight-o.root.clientHeight,i.borderRootWidth=o.root.offsetWidth-o.root.clientWidth,0===o.centerContainer.clientHeight&&(i.border.left=i.border.top,i.border.right=i.border.left),0===o.root.clientHeight&&(i.borderRootWidth=i.borderRootHeight),i.center.height=o.center.offsetHeight,i.left.height=o.left.offsetHeight,i.right.height=o.right.offsetHeight,i.top.height=o.top.clientHeight||-i.border.top,i.bottom.height=o.bottom.clientHeight||-i.border.bottom;var n=Math.max(i.left.height,i.center.height,i.right.height),n=i.top.height+n+i.bottom.height+i.borderRootHeight+i.border.top+i.border.bottom,n=(o.root.style.height=h.option.asSize(t.height,n+"px"),i.root.height=o.root.offsetHeight,i.background.height=i.root.height-i.borderRootHeight,i.root.height-i.top.height-i.bottom.height-i.borderRootHeight),n=(i.centerContainer.height=n,i.leftContainer.height=n,i.rightContainer.height=i.leftContainer.height,i.root.width=o.root.offsetWidth,i.background.width=i.root.width-i.borderRootWidth,this.initialDrawDone||(i.scrollbarWidth=h.getScrollBarWidth()),t.verticalScroll?t.rtl?(i.left.width=o.leftContainer.clientWidth||-i.border.left,i.right.width=o.rightContainer.clientWidth+i.scrollbarWidth||-i.border.right):(i.left.width=o.leftContainer.clientWidth+i.scrollbarWidth||-i.border.left,i.right.width=o.rightContainer.clientWidth||-i.border.right):(i.left.width=o.leftContainer.clientWidth||-i.border.left,i.right.width=o.rightContainer.clientWidth||-i.border.right),this._setDOM(),this._updateScrollTop()),s=("top"!=t.orientation.item&&(n+=Math.max(i.centerContainer.height-i.center.height-i.border.top-i.border.bottom,0)),o.center.style.top=n+"px",0==i.scrollTop?"hidden":""),r=i.scrollTop==i.scrollTopMin?"hidden":"",s=(o.shadowTop.style.visibility=s,o.shadowBottom.style.visibility=r,o.shadowTopLeft.style.visibility=s,o.shadowBottomLeft.style.visibility=r,o.shadowTopRight.style.visibility=s,o.shadowBottomRight.style.visibility=r,t.verticalScroll&&(o.rightContainer.className="vis-panel vis-right vis-vertical-scroll",o.leftContainer.className="vis-panel vis-left vis-vertical-scroll",o.shadowTopRight.style.visibility="hidden",o.shadowBottomRight.style.visibility="hidden",o.shadowTopLeft.style.visibility="hidden",o.shadowBottomLeft.style.visibility="hidden",o.left.style.top="0px",o.right.style.top="0px"),(!t.verticalScroll||i.center.height<i.centerContainer.height)&&(o.left.style.top=n+"px",o.right.style.top=n+"px",o.rightContainer.className=o.rightContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)")," "),o.leftContainer.className=o.leftContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)")," "),i.left.width=o.leftContainer.clientWidth||-i.border.left,i.right.width=o.rightContainer.clientWidth||-i.border.right,this._setDOM()),i.center.height>i.centerContainer.height);this.hammer.get("pan").set({direction:s?a.DIRECTION_ALL:a.DIRECTION_HORIZONTAL}),this.components.forEach(function(t){e=t.redraw()||e});if(e){if(this.redrawCount<5)return void this.body.emitter.emit("_change");console.log("WARNING: infinite loop in redraw?")}else this.redrawCount=0;this.initialDrawDone=!0,this.body.emitter.emit("changed")}},s.prototype._setDOM=function(){var t=this.props,e=this.dom,i=(t.leftContainer.width=t.left.width,t.rightContainer.width=t.right.width,t.root.width-t.left.width-t.right.width-t.borderRootWidth);t.center.width=i,t.centerContainer.width=i,t.top.width=i,t.bottom.width=i,e.background.style.height=t.background.height+"px",e.backgroundVertical.style.height=t.background.height+"px",e.backgroundHorizontal.style.height=t.centerContainer.height+"px",e.centerContainer.style.height=t.centerContainer.height+"px",e.leftContainer.style.height=t.leftContainer.height+"px",e.rightContainer.style.height=t.rightContainer.height+"px",e.background.style.width=t.background.width+"px",e.backgroundVertical.style.width=t.centerContainer.width+"px",e.backgroundHorizontal.style.width=t.background.width+"px",e.centerContainer.style.width=t.center.width+"px",e.top.style.width=t.top.width+"px",e.bottom.style.width=t.bottom.width+"px",e.background.style.left="0",e.background.style.top="0",e.backgroundVertical.style.left=t.left.width+t.border.left+"px",e.backgroundVertical.style.top="0",e.backgroundHorizontal.style.left="0",e.backgroundHorizontal.style.top=t.top.height+"px",e.centerContainer.style.left=t.left.width+"px",e.centerContainer.style.top=t.top.height+"px",e.leftContainer.style.left="0",e.leftContainer.style.top=t.top.height+"px",e.rightContainer.style.left=t.left.width+t.center.width+"px",e.rightContainer.style.top=t.top.height+"px",e.top.style.left=t.left.width+"px",e.top.style.top="0",e.bottom.style.left=t.left.width+"px",e.bottom.style.top=t.top.height+t.centerContainer.height+"px",e.center.style.left="0",e.left.style.left="0",e.right.style.left="0"},s.prototype.repaint=function(){throw new Error("Function repaint is deprecated. Use redraw instead.")},s.prototype.setCurrentTime=function(t){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");this.currentTime.setCurrentTime(t)},s.prototype.getCurrentTime=function(){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");return this.currentTime.getCurrentTime()},s.prototype._toTime=function(t){return d.toTime(this,t,this.props.center.width)},s.prototype._toGlobalTime=function(t){return d.toTime(this,t,this.props.root.width)},s.prototype._toScreen=function(t){return d.toScreen(this,t,this.props.center.width)},s.prototype._toGlobalScreen=function(t){return d.toScreen(this,t,this.props.root.width)},s.prototype._initAutoResize=function(){1==this.options.autoResize?this._startAutoResize():this._stopAutoResize()},s.prototype._startAutoResize=function(){var t=this;this._stopAutoResize(),this._onResize=function(){1==t.options.autoResize?t.dom.root&&(t.dom.root.offsetWidth==t.props.lastWidth&&t.dom.root.offsetHeight==t.props.lastHeight||(t.props.lastWidth=t.dom.root.offsetWidth,t.props.lastHeight=t.dom.root.offsetHeight,t.props.scrollbarWidth=h.getScrollBarWidth(),t.body.emitter.emit("_change"))):t._stopAutoResize()},h.addEventListener(window,"resize",this._onResize),t.dom.root&&(t.props.lastWidth=t.dom.root.offsetWidth,t.props.lastHeight=t.dom.root.offsetHeight),this.watchTimer=setInterval(this._onResize,1e3)},s.prototype._stopAutoResize=function(){this.watchTimer&&(clearInterval(this.watchTimer),this.watchTimer=void 0),this._onResize&&(h.removeEventListener(window,"resize",this._onResize),this._onResize=null)},s.prototype._onTouch=function(t){this.touch.allowDragging=!0,this.touch.initialScrollTop=this.props.scrollTop},s.prototype._onPinch=function(t){this.touch.allowDragging=!1},s.prototype._onDrag=function(t){var e;t&&this.touch.allowDragging&&(t=t.deltaY,e=this._getScrollTop(),t=this._setScrollTop(this.touch.initialScrollTop+t),this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-this.props.scrollTop,this.dom.right.parentNode.scrollTop=-this.props.scrollTop),t!=e&&this.emit("verticalDrag"))},s.prototype._setScrollTop=function(t){return this.props.scrollTop=t,this._updateScrollTop(),this.props.scrollTop},s.prototype._updateScrollTop=function(){var t=Math.min(this.props.centerContainer.height-this.props.center.height,0);return t!=this.props.scrollTopMin&&("top"!=this.options.orientation.item&&(this.props.scrollTop+=t-this.props.scrollTopMin),this.props.scrollTopMin=t),0<this.props.scrollTop&&(this.props.scrollTop=0),this.props.scrollTop<t&&(this.props.scrollTop=t),this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-this.props.scrollTop,this.dom.right.parentNode.scrollTop=-this.props.scrollTop),this.props.scrollTop},s.prototype._getScrollTop=function(){return this.props.scrollTop},s.prototype._createConfigurator=function(){throw new Error("Cannot invoke abstract method _createConfigurator")},t.exports=s},function(n,r,t){var h=i(t(55)),e=i(t(62)),l=i(t(132));function i(t){return t&&t.__esModule?t:{default:t}}var o=t(112),g=t(1),u=t(89),v=t(93),c=t(133),p=t(128),m=t(134),y=t(138),b=t(139),_=t(140),s=t(136),w=t(141),a="__ungrouped__",f="__background__";function d(t,e){this.body=t,this.defaultOptions={type:null,orientation:{item:"bottom"},align:"auto",stack:!0,stackSubgroups:!0,groupOrderSwap:function(t,e,i){var o=e.order;e.order=t.order,t.order=o},groupOrder:"order",selectable:!0,multiselect:!1,itemsAlwaysDraggable:!1,editable:{updateTime:!1,updateGroup:!1,add:!1,remove:!1,overrideItems:!1},groupEditable:{order:!1,add:!1,remove:!1},snap:c.snap,onAdd:function(t,e){e(t)},onUpdate:function(t,e){e(t)},onMove:function(t,e){e(t)},onRemove:function(t,e){e(t)},onMoving:function(t,e){e(t)},onAddGroup:function(t,e){e(t)},onMoveGroup:function(t,e){e(t)},onRemoveGroup:function(t,e){e(t)},margin:{item:{horizontal:10,vertical:10},axis:20},tooltip:{followMouse:!1,overflowMethod:"flip"},tooltipOnItemUpdateTime:!1},this.options=g.extend({},this.defaultOptions),this.options.rtl=e.rtl,this.itemOptions={type:{start:"Date",end:"Date"}},this.conversion={toScreen:t.util.toScreen,toTime:t.util.toTime},this.dom={},this.props={},this.hammer=null;var o=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(t,e,i){o._onAdd(e.items)},update:function(t,e,i){o._onUpdate(e.items)},remove:function(t,e,i){o._onRemove(e.items)}},this.groupListeners={add:function(t,e,i){o._onAddGroups(e.items)},update:function(t,e,i){o._onUpdateGroups(e.items)},remove:function(t,e,i){o._onRemoveGroups(e.items)}},this.items={},this.groups={},this.groupIds=[],this.selection=[],this.stackDirty=!0,this.popup=null,this.touchParams={},this.groupTouchParams={},this._create(),this.setOptions(e)}d.prototype=new p,d.types={background:w,box:b,range:s,point:_},d.prototype._create=function(){var t=document.createElement("div"),e=(t.className="vis-itemset",(t["timeline-itemset"]=this).dom.frame=t,document.createElement("div")),e=(e.className="vis-background",t.appendChild(e),this.dom.background=e,document.createElement("div")),t=(e.className="vis-foreground",t.appendChild(e),this.dom.foreground=e,document.createElement("div")),e=(t.className="vis-axis",this.dom.axis=t,document.createElement("div")),t=(e.className="vis-labelset",this.dom.labelSet=e,this._updateUngrouped(),new y(f,null,this));t.show(),this.groups[f]=t,this.hammer=new o(this.body.dom.centerContainer),this.hammer.on("hammer.input",function(t){t.isFirst&&this._onTouch(t)}.bind(this)),this.hammer.on("panstart",this._onDragStart.bind(this)),this.hammer.on("panmove",this._onDrag.bind(this)),this.hammer.on("panend",this._onDragEnd.bind(this)),this.hammer.get("pan").set({threshold:5,direction:o.DIRECTION_HORIZONTAL}),this.hammer.on("tap",this._onSelectItem.bind(this)),this.hammer.on("press",this._onMultiSelectItem.bind(this)),this.hammer.on("doubletap",this._onAddItem.bind(this)),this.options.rtl?this.groupHammer=new o(this.body.dom.rightContainer):this.groupHammer=new o(this.body.dom.leftContainer),this.groupHammer.on("tap",this._onGroupClick.bind(this)),this.groupHammer.on("panstart",this._onGroupDragStart.bind(this)),this.groupHammer.on("panmove",this._onGroupDrag.bind(this)),this.groupHammer.on("panend",this._onGroupDragEnd.bind(this)),this.groupHammer.get("pan").set({threshold:5,direction:o.DIRECTION_VERTICAL}),this.body.dom.centerContainer.addEventListener("mouseover",this._onMouseOver.bind(this)),this.body.dom.centerContainer.addEventListener("mouseout",this._onMouseOut.bind(this)),this.body.dom.centerContainer.addEventListener("mousemove",this._onMouseMove.bind(this)),this.body.dom.centerContainer.addEventListener("contextmenu",this._onDragEnd.bind(this)),this.body.dom.centerContainer.addEventListener("mousewheel",this._onMouseWheel.bind(this)),this.show()},d.prototype.setOptions=function(i){var t;i&&(g.selectiveExtend(["type","rtl","align","order","stack","stackSubgroups","selectable","multiselect","itemsAlwaysDraggable","multiselectPerGroup","groupOrder","dataAttributes","template","groupTemplate","visibleFrameTemplate","hide","snap","groupOrderSwap","tooltip","tooltipOnItemUpdateTime"],this.options,i),"orientation"in i&&("string"==typeof i.orientation?this.options.orientation.item="top"===i.orientation?"top":"bottom":"object"===(0,e.default)(i.orientation)&&"item"in i.orientation&&(this.options.orientation.item=i.orientation.item)),"margin"in i&&("number"==typeof i.margin?(this.options.margin.axis=i.margin,this.options.margin.item.horizontal=i.margin,this.options.margin.item.vertical=i.margin):"object"===(0,e.default)(i.margin)&&(g.selectiveExtend(["axis"],this.options.margin,i.margin),"item"in i.margin&&("number"==typeof i.margin.item?(this.options.margin.item.horizontal=i.margin.item,this.options.margin.item.vertical=i.margin.item):"object"===(0,e.default)(i.margin.item)&&g.selectiveExtend(["horizontal","vertical"],this.options.margin.item,i.margin.item)))),"editable"in i&&("boolean"==typeof i.editable?(this.options.editable.updateTime=i.editable,this.options.editable.updateGroup=i.editable,this.options.editable.add=i.editable,this.options.editable.remove=i.editable,this.options.editable.overrideItems=!1):"object"===(0,e.default)(i.editable)&&g.selectiveExtend(["updateTime","updateGroup","add","remove","overrideItems"],this.options.editable,i.editable)),"groupEditable"in i&&("boolean"==typeof i.groupEditable?(this.options.groupEditable.order=i.groupEditable,this.options.groupEditable.add=i.groupEditable,this.options.groupEditable.remove=i.groupEditable):"object"===(0,e.default)(i.groupEditable)&&g.selectiveExtend(["order","add","remove"],this.options.groupEditable,i.groupEditable)),t=function(t){var e=i[t];if(e){if(!(e instanceof Function))throw new Error("option "+t+" must be a function "+t+"(item, callback)");this.options[t]=e}}.bind(this),["onAdd","onUpdate","onRemove","onMove","onMoving","onAddGroup","onMoveGroup","onRemoveGroup"].forEach(t),this.markDirty())},d.prototype.markDirty=function(t){this.groupIds=[],this.stackDirty=!0,t&&t.refreshItems&&g.forEach(this.items,function(t){t.dirty=!0,t.displayed&&t.redraw()})},d.prototype.destroy=function(){this.hide(),this.setItems(null),this.setGroups(null),this.hammer=null,this.body=null,this.conversion=null},d.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.axis.parentNode&&this.dom.axis.parentNode.removeChild(this.dom.axis),this.dom.labelSet.parentNode&&this.dom.labelSet.parentNode.removeChild(this.dom.labelSet)},d.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame),this.dom.axis.parentNode||this.body.dom.backgroundVertical.appendChild(this.dom.axis),this.dom.labelSet.parentNode||(this.options.rtl?this.body.dom.right:this.body.dom.left).appendChild(this.dom.labelSet)},d.prototype.setSelection=function(t){var e,i,o,n;for(null==t&&(t=[]),Array.isArray(t)||(t=[t]),e=0,i=this.selection.length;e<i;e++)o=this.selection[e],(n=this.items[o])&&n.unselect();for(this.selection=[],e=0,i=t.length;e<i;e++)o=t[e],(n=this.items[o])&&(this.selection.push(o),n.select())},d.prototype.getSelection=function(){return this.selection.concat([])},d.prototype.getVisibleItems=function(){var t,e,i,o=this.body.range.getRange(),n=(this.options.rtl?(e=this.body.util.toScreen(o.start),t=this.body.util.toScreen(o.end)):(t=this.body.util.toScreen(o.start),e=this.body.util.toScreen(o.end)),[]);for(i in this.groups)if(this.groups.hasOwnProperty(i))for(var s=this.groups[i].visibleItems,r=0;r<s.length;r++){var a=s[r];this.options.rtl?a.right<t&&a.right+a.width>e&&n.push(a.id):a.left<e&&a.left+a.width>t&&n.push(a.id)}return n},d.prototype._deselect=function(t){for(var e=this.selection,i=0,o=e.length;i<o;i++)if(e[i]==t){e.splice(i,1);break}},d.prototype.redraw=function(){var t=this.options.margin,i=this.body.range,e=g.option.asSize,l=this.options.orientation.item,o=!1,n=this.dom.frame,s=(this.props.top=this.body.domProps.top.height+this.body.domProps.border.top,this.options.rtl?this.props.right=this.body.domProps.right.width+this.body.domProps.border.right:this.props.left=this.body.domProps.left.width+this.body.domProps.border.left,n.className="vis-itemset",o=this._orderGroups()||o,i.end-i.start),r=s!=this.lastVisibleInterval||this.props.width!=this.props.lastWidth,u=i.start!=this.lastRangeStart,a=((r||u)&&(this.stackDirty=!0),this.lastVisibleInterval=s,this.lastRangeStart=i.start,this.props.lastWidth=this.props.width,this.stackDirty),c=this._firstGroup(),p={item:t.item,axis:t.axis},h={item:t.item,axis:t.item.vertical/2},d=0,r=t.axis+t.item.vertical;return this.groups[f].redraw(i,h,a),g.forEach(this.groups,function(t){var e=t.redraw(i,t==c?p:h,a);o=e||o,d+=t.height}),d=Math.max(d,r),this.stackDirty=!1,n.style.height=e(d),this.props.width=n.offsetWidth,this.props.height=d,this.dom.axis.style.top=e("top"==l?this.body.domProps.top.height+this.body.domProps.border.top:this.body.domProps.top.height+this.body.domProps.centerContainer.height),this.options.rtl?this.dom.axis.style.right="0":this.dom.axis.style.left="0",this.initialItemSetDrawn=!0,o=this._isResized()||o},d.prototype._firstGroup=function(){var t="top"==this.options.orientation.item?0:this.groupIds.length-1,t=this.groupIds[t];return this.groups[t]||this.groups[a]||null},d.prototype._updateUngrouped=function(){var t,e,i,o=this.groups[a];this.groups[f];if(this.groupsData){if(o)for(e in o.hide(),delete this.groups[a],this.items)this.items.hasOwnProperty(e)&&((t=this.items[e]).parent&&t.parent.remove(t),i=this._getGroupId(t.data),(i=this.groups[i])&&i.add(t)||t.hide())}else if(!o){o=new m(null,null,this);for(e in this.groups[a]=o,this.items)this.items.hasOwnProperty(e)&&(t=this.items[e],o.add(t));o.show()}},d.prototype.getLabelSet=function(){return this.dom.labelSet},d.prototype.setItems=function(t){var e,i,o=this,n=this.itemsData;if(t){if(!(t instanceof u||t instanceof v))throw new TypeError("Data must be an instance of DataSet or DataView");this.itemsData=t}else this.itemsData=null;n&&(g.forEach(this.itemListeners,function(t,e){n.off(e,t)}),e=n.getIds(),this._onRemove(e)),this.itemsData&&(i=this.id,g.forEach(this.itemListeners,function(t,e){o.itemsData.on(e,t,i)}),e=this.itemsData.getIds(),this._onAdd(e),this._updateUngrouped()),this.body.emitter.emit("_change",{queue:!0})},d.prototype.getItems=function(){return this.itemsData},d.prototype.setGroups=function(t){var e,i,o,n=this;if(this.groupsData&&(g.forEach(this.groupListeners,function(t,e){n.groupsData.off(e,t)}),e=this.groupsData.getIds(),this.groupsData=null,this._onRemoveGroups(e)),t){if(!(t instanceof u||t instanceof v))throw new TypeError("Data must be an instance of DataSet or DataView");this.groupsData=t}else this.groupsData=null;this.groupsData&&(i=this.groupsData,(i=this.groupsData instanceof v?this.groupsData.getDataSet():i).get().forEach(function(e){e.nestedGroups&&e.nestedGroups.forEach(function(t){t=i.get(t);t.nestedInGroup=e.id,0==e.showNested&&(t.visible=!1),i.update(t)})}),o=this.id,g.forEach(this.groupListeners,function(t,e){n.groupsData.on(e,t,o)}),e=this.groupsData.getIds(),this._onAddGroups(e)),this._updateUngrouped(),this._order(),this.body.emitter.emit("_change",{queue:!0})},d.prototype.getGroups=function(){return this.groupsData},d.prototype.removeItem=function(e){var t=this.itemsData.get(e),i=this.itemsData.getDataSet();this.items[e];t&&this.options.onRemove(t,function(t){t&&i.remove(e)})},d.prototype._getType=function(t){return t.type||this.options.type||(t.end?"range":"box")},d.prototype._getGroupId=function(t){return"background"==this._getType(t)&&null==t.group?f:this.groupsData?t.group:a},d.prototype._onAdd=d.prototype._onUpdate=function(t){var r=this;t.forEach(function(t){var e,i=r.itemsData.get(t,r.itemOptions),o=r.items[t],n=i?r._getType(i):null,s=d.types[n];if(o&&(s&&o instanceof s?r._updateItem(o,i):(e=o.selected,r._removeItem(o),o=null)),!o&&i){if(!s)throw"rangeoverflow"==n?new TypeError('Item type "rangeoverflow" is deprecated. Use css styling instead: .vis-item.vis-range .vis-item-content {overflow: visible;}'):new TypeError('Unknown item type "'+n+'"');(o=new s(i,r.conversion,r.options)).id=t,r._addItem(o),e&&(this.selection.push(t),o.select())}}.bind(this)),this._order(),this.stackDirty=!0,this.body.emitter.emit("_change",{queue:!0})},d.prototype._onRemove=function(t){var e=0,i=this;t.forEach(function(t){t=i.items[t];t&&(e++,i._removeItem(t))}),e&&(this._order(),this.stackDirty=!0,this.body.emitter.emit("_change",{queue:!0}))},d.prototype._order=function(){g.forEach(this.groups,function(t){t.order()})},d.prototype._onUpdateGroups=function(t){this._onAddGroups(t)},d.prototype._onAddGroups=function(t){var r=this;t.forEach(function(t){var e=r.groupsData.get(t),i=r.groups[t];if(i)i.setData(e);else{if(t==a||t==f)throw new Error("Illegal group id. "+t+" is a reserved id.");var o,n,s=(0,h.default)(r.options);for(o in g.extend(s,{height:null}),i=new m(t,e,r),r.groups[t]=i,r.items)!r.items.hasOwnProperty(o)||(n=r.items[o]).data.group==t&&i.add(n);i.order(),i.show()}}),this.body.emitter.emit("_change",{queue:!0})},d.prototype._onRemoveGroups=function(t){var i=this.groups;t.forEach(function(t){var e=i[t];e&&(e.hide(),delete i[t])}),this.markDirty(),this.body.emitter.emit("_change",{queue:!0})},d.prototype._orderGroups=function(){var t,e,i;return!!this.groupsData&&(t=this.groupsData.getIds({order:this.options.groupOrder}),t=this._orderNestedGroups(t),(e=!g.equalArray(t,this.groupIds))&&(i=this.groups,t.forEach(function(t){i[t].hide()}),t.forEach(function(t){i[t].show()}),this.groupIds=t),e)},d.prototype._orderNestedGroups=function(t){var i=[];return t.forEach(function(e){var t=this.groupsData.get(e);t.nestedInGroup||i.push(e),t.nestedGroups&&(t=this.groupsData.get({filter:function(t){return t.nestedInGroup==e},order:this.options.groupOrder}).map(function(t){return t.id}),i=i.concat(t))},this),i},d.prototype._addItem=function(t){this.items[t.id]=t;var e=this._getGroupId(t.data),e=this.groups[e];e?e.data&&e.data.showNested&&(t.groupShowing=!0):t.groupShowing=!1,e&&e.add(t)},d.prototype._updateItem=function(t,e){var i=t.data.group,o=t.data.subgroup,n=(i==e.group||(n=this.groups[i])&&n.remove(t),t.setData(e),this._getGroupId(t.data)),e=this.groups[n];e?e.data&&e.data.showNested&&(t.groupShowing=!0):t.groupShowing=!1,e&&(i!=t.data.group?e.add(t):o!=t.data.subgroup&&e.changeSubgroup(t,o))},d.prototype._removeItem=function(t){t.hide(),delete this.items[t.id];var e=this.selection.indexOf(t.id);-1!=e&&this.selection.splice(e,1),t.parent&&t.parent.remove(t)},d.prototype._constructByEndArray=function(t){for(var e=[],i=0;i<t.length;i++)t[i]instanceof s&&e.push(t[i]);return e},d.prototype._onTouch=function(t){this.touchParams.item=this.itemFromTarget(t),this.touchParams.dragLeftItem=t.target.dragLeftItem||!1,this.touchParams.dragRightItem=t.target.dragRightItem||!1,this.touchParams.itemProps=null},d.prototype._getGroupIndex=function(t){for(var e=0;e<this.groupIds.length;e++)if(t==this.groupIds[e])return e},d.prototype._onDragStart=function(i){var t,o,e,n,s,r;this.touchParams.itemIsDragging||(t=this.touchParams.item||null,o=this,t&&(t.selected||this.options.itemsAlwaysDraggable)?(!this.options.editable.overrideItems||this.options.editable.updateTime||this.options.editable.updateGroup)&&(null==t.editable||t.editable.updateTime||t.editable.updateGroup||this.options.editable.overrideItems)&&(r=this.touchParams.dragLeftItem,n=this.touchParams.dragRightItem,this.touchParams.itemIsDragging=!0,this.touchParams.selectedItem=t,r?(e={item:r,initialX:i.center.x,dragLeft:!0,data:this._cloneItemData(t.data)},this.touchParams.itemProps=[e]):n?(e={item:n,initialX:i.center.x,dragRight:!0,data:this._cloneItemData(t.data)},this.touchParams.itemProps=[e]):(s=this._getGroupIndex(t.data.group),r=this.options.itemsAlwaysDraggable&&!t.selected?[t.id]:this.getSelection(),this.touchParams.itemProps=r.map(function(t){var t=o.items[t],e=o._getGroupIndex(t.data.group);return{item:t,initialX:i.center.x,groupOffset:s-e,data:this._cloneItemData(t.data)}}.bind(this))),i.stopPropagation()):this.options.editable.add&&(i.srcEvent.ctrlKey||i.srcEvent.metaKey)&&this._onDragStartAddItem(i))},d.prototype._onDragStartAddItem=function(t){var e=this.options.snap||null,i=(i=this.options.rtl?(i=g.getAbsoluteRight(this.dom.frame))-t.center.x+10:(i=g.getAbsoluteLeft(this.dom.frame),t.center.x-i-10),this.body.util.toTime(i)),o=this.body.util.getScale(),n=this.body.util.getStep(),e=e?e(i,o,n):i,o={type:"range",start:e,end:e,content:"new item"},n=g.randomUUID(),i=(o[this.itemsData._fieldId]=n,this.groupFromTarget(t)),e=(i&&(o.group=i.groupId),new s(o,this.conversion,this.options)),i=(e.id=n,e.data=this._cloneItemData(o),this._addItem(e),{item:this.touchParams.selectedItem=e,initialX:t.center.x,data:e.data});this.options.rtl?i.dragLeft=!0:i.dragRight=!0,this.touchParams.itemProps=[i],t.stopPropagation()},d.prototype._onDrag=function(a){var h,d,l,u,c,p,f,m,t;this.touchParams.itemProps&&(a.stopPropagation(),d=(h=this).options.snap||null,l=this.options.rtl?this.body.dom.root.offsetLeft+this.body.domProps.right.width:this.body.dom.root.offsetLeft+this.body.domProps.left.width,u=this.body.util.getScale(),c=this.body.util.getStep(),p=this.touchParams.selectedItem,f=(this.options.editable.overrideItems||null==p.editable)&&this.options.editable.updateGroup||!this.options.editable.overrideItems&&null!=p.editable&&p.editable.updateGroup,m=null,f&&p&&(null==p.data.group||(t=h.groupFromTarget(a))&&(m=this._getGroupIndex(t.groupId))),this.touchParams.itemProps.forEach(function(e){var t,i,o,n,s=h.body.util.toTime(a.center.x-l),r=h.body.util.toTime(e.initialX-l),r=(s=this.options.rtl?-(s-r):s-r,this._cloneItemData(e.item.data));(null==e.item.editable||e.item.editable.updateTime||e.item.editable.updateGroup||h.options.editable.overrideItems)&&(((this.options.editable.overrideItems||null==p.editable)&&this.options.editable.updateTime||!this.options.editable.overrideItems&&null!=p.editable&&p.editable.updateTime)&&(e.dragLeft?this.options.rtl?null!=r.end&&(o=g.convert(e.data.end,"Date"),n=new Date(o.valueOf()+s),r.end=d?d(n,u,c):n):null!=r.start&&(t=g.convert(e.data.start,"Date"),i=new Date(t.valueOf()+s),r.start=d?d(i,u,c):i):e.dragRight?this.options.rtl?null!=r.start&&(t=g.convert(e.data.start,"Date"),i=new Date(t.valueOf()+s),r.start=d?d(i,u,c):i):null!=r.end&&(o=g.convert(e.data.end,"Date"),n=new Date(o.valueOf()+s),r.end=d?d(n,u,c):n):null!=r.start&&(t=g.convert(e.data.start,"Date").valueOf(),i=new Date(t+s),null!=r.end?(n=(o=g.convert(e.data.end,"Date")).valueOf()-t.valueOf(),r.start=d?d(i,u,c):i,r.end=new Date(r.start.valueOf()+n)):r.start=d?d(i,u,c):i)),!f||e.dragLeft||e.dragRight||null==m||null!=r.group&&(s=m-e.groupOffset,s=Math.max(0,s),s=Math.min(h.groupIds.length-1,s),r.group=h.groupIds[s]),r=this._cloneItemData(r),h.options.onMoving(r,function(t){t&&e.item.setData(this._cloneItemData(t,"Date"))}.bind(this)))}.bind(this)),this.stackDirty=!0,this.body.emitter.emit("_change"))},d.prototype._moveToGroup=function(t,e){var i,e=this.groups[e];e&&e.groupId!=t.data.group&&((i=t.parent).remove(t),i.order(),e.add(t),e.order(),t.data.group=e.groupId)},d.prototype._onDragEnd=function(t){var o,n;this.touchParams.itemIsDragging=!1,this.touchParams.itemProps&&(t.stopPropagation(),n=(o=this).itemsData.getDataSet(),t=this.touchParams.itemProps,this.touchParams.itemProps=null,t.forEach(function(e){var t,i=e.item.id;null!=o.itemsData.get(i,o.itemOptions)?(t=this._cloneItemData(e.item.data),o.options.onMove(t,function(t){t?(t[n._fieldId]=i,n.update(t)):(e.item.setData(e.data),o.stackDirty=!0,o.body.emitter.emit("_change"))})):o.options.onAdd(e.item.data,function(t){o._removeItem(e.item),t&&o.itemsData.getDataSet().add(t),o.stackDirty=!0,o.body.emitter.emit("_change")})}.bind(this)))},d.prototype._onGroupClick=function(t){var e,i=this.groupFromTarget(t);i&&i.nestedGroups&&(t=this.groupsData,this.groupsData instanceof v&&(t=this.groupsData.getDataSet()),i.showNested=!i.showNested,e=t.get(i.nestedGroups).map(function(t){return null==t.visible&&(t.visible=!0),t.visible=!!i.showNested,t}),t.update(e),i.showNested?(g.removeClassName(i.dom.label,"collapsed"),g.addClassName(i.dom.label,"expanded")):(g.removeClassName(i.dom.label,"expanded"),t=this.options.rtl?"collapsed-rtl":"collapsed",g.addClassName(i.dom.label,t)))},d.prototype._onGroupDragStart=function(t){this.options.groupEditable.order&&(this.groupTouchParams.group=this.groupFromTarget(t),this.groupTouchParams.group&&(t.stopPropagation(),this.groupTouchParams.originalOrder=this.groupsData.getIds({order:this.options.groupOrder})))},d.prototype._onGroupDrag=function(t){if(this.options.groupEditable.order&&this.groupTouchParams.group){t.stopPropagation();var e=this.groupsData,i=(this.groupsData instanceof v&&(e=this.groupsData.getDataSet()),this.groupFromTarget(t));if(i&&i.height!=this.groupTouchParams.group.height){var o=i.top<this.groupTouchParams.group.top,t=t.center?t.center.y:t.clientY,l=g.getAbsoluteTop(i.dom.foreground),u=this.groupTouchParams.group.height;if(o){if(l+u<t)return}else if(t<l+i.height-u)return}if(i&&i!=this.groupTouchParams.group){var o=e.get(i.groupId),t=e.get(this.groupTouchParams.group.groupId),n=(t&&o&&(this.options.groupOrderSwap(t,o,e),e.update(t),e.update(o)),e.getIds({order:this.options.groupOrder}));if(!g.equalArray(n,this.groupTouchParams.originalOrder))for(var c,p,s,r=this.groupTouchParams.originalOrder,f=this.groupTouchParams.group.groupId,m=Math.min(r.length,n.length),a=0,h=0,d=0;a<m;){for(;a+h<m&&a+d<m&&n[a+h]==r[a+d];)a++;if(m<=a+h)break;n[a+h]!=f?r[a+d]!=f?(c=n.indexOf(r[a+d]),s=e.get(n[a+h]),p=e.get(r[a+d]),this.options.groupOrderSwap(s,p,e),e.update(s),e.update(p),s=n[a+h],n[a+h]=r[a+d],n[c]=s,a++):d=1:h=1}}}},d.prototype._onGroupDragEnd=function(t){var h,d,l;this.options.groupEditable.order&&this.groupTouchParams.group&&(t.stopPropagation(),d=(h=this).groupTouchParams.group.groupId,l=h.groupsData.getDataSet(),t=g.extend({},l.get(d)),h.options.onMoveGroup(t,function(t){if(t)t[l._fieldId]=d,l.update(t);else{var e=l.getIds({order:h.options.groupOrder});if(!g.equalArray(e,h.groupTouchParams.originalOrder))for(var i=h.groupTouchParams.originalOrder,o=Math.min(i.length,e.length),n=0;n<o;){for(;n<o&&e[n]==i[n];)n++;if(o<=n)break;var s=e.indexOf(i[n]),r=l.get(e[n]),a=l.get(i[n]),r=(h.options.groupOrderSwap(r,a,l),l.update(r),l.update(a),e[n]);e[n]=i[n],e[s]=r,n++}}}),h.body.emitter.emit("groupDragged",{groupId:d}))},d.prototype._onSelectItem=function(t){var e,i;this.options.selectable&&(e=t.srcEvent&&(t.srcEvent.ctrlKey||t.srcEvent.metaKey),i=t.srcEvent&&t.srcEvent.shiftKey,e||i?this._onMultiSelectItem(t):(e=this.getSelection(),i=(i=this.itemFromTarget(t))?[i.id]:[],this.setSelection(i),(0<(i=this.getSelection()).length||0<e.length)&&this.body.emitter.emit("select",{items:i,event:t})))},d.prototype._onMouseOver=function(t){var e,i=this.itemFromTarget(t);i&&i!==this.itemFromRelatedTarget(t)&&((e=i.getTitle())?(null==this.popup&&(this.popup=new l.default(this.body.dom.root,this.options.tooltip.overflowMethod||"flip")),this.popup.setText(e),e=this.body.dom.centerContainer,this.popup.setPosition(t.clientX-g.getAbsoluteLeft(e)+e.offsetLeft,t.clientY-g.getAbsoluteTop(e)+e.offsetTop),this.popup.show()):null!=this.popup&&this.popup.hide(),this.body.emitter.emit("itemover",{item:i.id,event:t}))},d.prototype._onMouseOut=function(t){var e=this.itemFromTarget(t);e&&e!==this.itemFromRelatedTarget(t)&&(null!=this.popup&&this.popup.hide(),this.body.emitter.emit("itemout",{item:e.id,event:t}))},d.prototype._onMouseMove=function(t){var e;this.itemFromTarget(t)&&this.options.tooltip.followMouse&&this.popup&&(this.popup.hidden||(e=this.body.dom.centerContainer,this.popup.setPosition(t.clientX-g.getAbsoluteLeft(e)+e.offsetLeft,t.clientY-g.getAbsoluteTop(e)+e.offsetTop),this.popup.show()))},d.prototype._onMouseWheel=function(t){this.touchParams.itemIsDragging&&this._onDragEnd(t)},d.prototype._onUpdateItem=function(t){var e;this.options.selectable&&this.options.editable.add&&(e=this,t&&(t=e.itemsData.get(t.id),this.options.onUpdate(t,function(t){t&&e.itemsData.getDataSet().update(t)})))},d.prototype._onAddItem=function(e){var i,t,o,n,s,r,a,h;this.options.selectable&&this.options.editable.add&&(t=(i=this).options.snap||null,this.itemFromTarget(e)||(o=this.options.rtl?(o=g.getAbsoluteRight(this.dom.frame))-e.center.x:(o=g.getAbsoluteLeft(this.dom.frame),e.center.x-o),r=this.body.util.toTime(o),n=this.body.util.getScale(),s=this.body.util.getStep(),r={start:t?t(r,n,s):r,content:"new item"},"drop"==e.type?(h=JSON.parse(e.dataTransfer.getData("text")),r.content=h.content,r.type=h.type||"box",r[this.itemsData._fieldId]=h.id||g.randomUUID(),("range"==h.type||h.end&&h.start)&&(h.end?(r.end=h.end,r.start=h.start):(a=this.body.util.toTime(o+this.props.width/5),r.end=t?t(a,n,s):a))):(r[this.itemsData._fieldId]=g.randomUUID(),"range"===this.options.type&&(a=this.body.util.toTime(o+this.props.width/5),r.end=t?t(a,n,s):a)),(h=this.groupFromTarget(e))&&(r.group=h.groupId),r=this._cloneItemData(r),this.options.onAdd(r,function(t){t&&(i.itemsData.getDataSet().add(t),"drop"==e.type&&i.setSelection([t.id]))})))},d.prototype._onMultiSelectItem=function(t){if(this.options.selectable){var e=this.itemFromTarget(t);if(e){var i=this.options.multiselect?this.getSelection():[];if((t.srcEvent&&t.srcEvent.shiftKey||!1)&&this.options.multiselect){var o,n,s=this.itemsData.get(e.id).group,r=void 0,a=(this.options.multiselectPerGroup&&0<i.length&&(r=this.itemsData.get(i[0]).group),this.options.multiselectPerGroup&&null!=r&&r!=s||i.push(e.id),d._getItemRange(this.itemsData.get(i,this.itemOptions)));if(!this.options.multiselectPerGroup||r==s)for(var h in i=[],this.items)this.items.hasOwnProperty(h)&&(o=(h=this.items[h]).data.start,n=void 0!==h.data.end?h.data.end:o,!(o>=a.min&&n<=a.max)||this.options.multiselectPerGroup&&r!=this.itemsData.get(h.id).group||h instanceof w||i.push(h.id))}else{s=i.indexOf(e.id);-1==s?i.push(e.id):i.splice(s,1)}this.setSelection(i),this.body.emitter.emit("select",{items:this.getSelection(),event:t})}}},d._getItemRange=function(t){var e=null,i=null;return t.forEach(function(t){(null==i||t.start<i)&&(i=t.start),null!=t.end?(null==e||t.end>e)&&(e=t.end):(null==e||t.start>e)&&(e=t.start)}),{min:i,max:e}},d.prototype.itemFromElement=function(t){for(var e=t;e;){if(e.hasOwnProperty("timeline-item"))return e["timeline-item"];e=e.parentNode}return null},d.prototype.itemFromTarget=function(t){return this.itemFromElement(t.target)},d.prototype.itemFromRelatedTarget=function(t){return this.itemFromElement(t.relatedTarget)},d.prototype.groupFromTarget=function(t){for(var e=t.center?t.center.y:t.clientY,i=0;i<this.groupIds.length;i++){var o=this.groupIds[i],o=this.groups[o],n=o.dom.foreground,s=g.getAbsoluteTop(n);if(s<e&&e<s+n.offsetHeight)return o;if("top"===this.options.orientation.item){if(i===this.groupIds.length-1&&s<e)return o}else if(0===i&&e<s+n.offset)return o}return null},d.itemSetFromTarget=function(t){for(var e=t.target;e;){if(e.hasOwnProperty("timeline-itemset"))return e["timeline-itemset"];e=e.parentNode}return null},d.prototype._cloneItemData=function(t,e){t=g.extend({},t);return e=e||this.itemsData.getDataSet()._options.type,null!=t.start&&(t.start=g.convert(t.start,e&&e.start||"Date")),null!=t.end&&(t.end=g.convert(t.end,e&&e.end||"Date")),t},n.exports=d},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o=n(i(119));function n(t){return t&&t.__esModule?t:{default:t}}function s(t,e){(0,o.default)(this,s),this.container=t,this.overflowMethod=e||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}(0,n(i(120)).default)(s,[{key:"setPosition",value:function(t,e){this.x=parseInt(t),this.y=parseInt(e)}},{key:"setText",value:function(t){t instanceof Element?(this.frame.innerHTML="",this.frame.appendChild(t)):this.frame.innerHTML=t}},{key:"show",value:function(t){var e,i,o,n,s,r,a;!0===(t=void 0===t?!0:t)?(t=this.frame.clientHeight,e=this.frame.clientWidth,i=this.frame.parentNode.clientHeight,o=this.frame.parentNode.clientWidth,s=n=0,"flip"==this.overflowMethod?(a=!(r=!1),this.y-t<this.padding&&(a=!1),n=(r=this.x+e>o-this.padding?!0:r)?this.x-e:this.x,s=a?this.y-t:this.y):((s=(s=this.y-t)+t+this.padding>i?i-t-this.padding:s)<this.padding&&(s=this.padding),(n=(n=this.x)+e+this.padding>o?o-e-this.padding:n)<this.padding&&(n=this.padding)),this.frame.style.left=n+"px",this.frame.style.top=s+"px",this.frame.style.visibility="visible",this.hidden=!1):this.hide()}},{key:"hide",value:function(){this.hidden=!0,this.frame.style.visibility="hidden"}},{key:"destroy",value:function(){this.frame.parentNode.removeChild(this.frame)}}]),e.default=s},function(t,e,i){var n=i(82),o=i(129),s=i(1);function r(t,e,i,o){this.moment=n,this.current=this.moment(),this._start=this.moment(),this._end=this.moment(),this.autoScale=!0,this.scale="day",this.step=1,this.setRange(t,e,i),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,Array.isArray(o)?this.hiddenDates=o:this.hiddenDates=null!=o?[o]:[],this.format=r.FORMAT}r.FORMAT={minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",month:"YYYY",year:""}},r.prototype.setMoment=function(t){this.moment=t,this.current=this.moment(this.current.valueOf()),this._start=this.moment(this._start.valueOf()),this._end=this.moment(this._end.valueOf())},r.prototype.setFormat=function(t){var e=s.deepExtend({},r.FORMAT);this.format=s.deepExtend(e,t)},r.prototype.setRange=function(t,e,i){if(!(t instanceof Date&&e instanceof Date))throw"No legal start or end date in method setRange";this._start=null!=t?this.moment(t.valueOf()):new Date,this._end=null!=e?this.moment(e.valueOf()):new Date,this.autoScale&&this.setMinimumStep(i)},r.prototype.start=function(){this.current=this._start.clone(),this.roundToMinor()},r.prototype.roundToMinor=function(){switch(this.scale){case"year":this.current.year(this.step*Math.floor(this.current.year()/this.step)),this.current.month(0);case"month":this.current.date(1);case"day":case"weekday":this.current.hours(0);case"hour":this.current.minutes(0);case"minute":this.current.seconds(0);case"second":this.current.milliseconds(0)}if(1!=this.step)switch(this.scale){case"millisecond":this.current.subtract(this.current.milliseconds()%this.step,"milliseconds");break;case"second":this.current.subtract(this.current.seconds()%this.step,"seconds");break;case"minute":this.current.subtract(this.current.minutes()%this.step,"minutes");break;case"hour":this.current.subtract(this.current.hours()%this.step,"hours");break;case"weekday":case"day":this.current.subtract((this.current.date()-1)%this.step,"day");break;case"month":this.current.subtract(this.current.month()%this.step,"month");break;case"year":this.current.subtract(this.current.year()%this.step,"year")}},r.prototype.hasNext=function(){return this.current.valueOf()<=this._end.valueOf()},r.prototype.next=function(){var t=this.current.valueOf();switch(this.scale){case"millisecond":this.current.add(this.step,"millisecond");break;case"second":this.current.add(this.step,"second");break;case"minute":this.current.add(this.step,"minute");break;case"hour":this.current.add(this.step,"hour"),this.current.month()<6?this.current.subtract(this.current.hours()%this.step,"hour"):this.current.hours()%this.step!=0&&this.current.add(this.step-this.current.hours()%this.step,"hour");break;case"weekday":case"day":this.current.add(this.step,"day");break;case"month":this.current.add(this.step,"month");break;case"year":this.current.add(this.step,"year")}if(1!=this.step)switch(this.scale){case"millisecond":0<this.current.milliseconds()&&this.current.milliseconds()<this.step&&this.current.milliseconds(0);break;case"second":0<this.current.seconds()&&this.current.seconds()<this.step&&this.current.seconds(0);break;case"minute":0<this.current.minutes()&&this.current.minutes()<this.step&&this.current.minutes(0);break;case"hour":0<this.current.hours()&&this.current.hours()<this.step&&this.current.hours(0);break;case"weekday":case"day":this.current.date()<this.step+1&&this.current.date(1);break;case"month":this.current.month()<this.step&&this.current.month(0)}this.current.valueOf()==t&&(this.current=this._end.clone()),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,o.stepOverHiddenDates(this.moment,this,t)},r.prototype.getCurrent=function(){return this.current},r.prototype.setScale=function(t){t&&"string"==typeof t.scale&&(this.scale=t.scale,this.step=0<t.step?t.step:1,this.autoScale=!1)},r.prototype.setAutoScale=function(t){this.autoScale=t},r.prototype.setMinimumStep=function(t){var e;null!=t&&(e=31104e6,t<31104e9&&(this.scale="year",this.step=1e3),t<15552e9&&(this.scale="year",this.step=500),t<31104e8&&(this.scale="year",this.step=100),t<50*e&&(this.scale="year",this.step=50),t<10*e&&(this.scale="year",this.step=10),t<5*e&&(this.scale="year",this.step=5),t<e&&(this.scale="year",this.step=1),t<7776e6&&(this.scale="month",this.step=3),t<2592e6&&(this.scale="month",this.step=1),t<432e6&&(this.scale="day",this.step=5),t<1728e5&&(this.scale="day",this.step=2),t<864e5&&(this.scale="day",this.step=1),t<432e5&&(this.scale="weekday",this.step=1),t<144e5&&(this.scale="hour",this.step=4),t<36e5&&(this.scale="hour",this.step=1),t<9e5&&(this.scale="minute",this.step=15),t<6e5&&(this.scale="minute",this.step=10),t<3e5&&(this.scale="minute",this.step=5),t<6e4&&(this.scale="minute",this.step=1),t<15e3&&(this.scale="second",this.step=15),t<1e4&&(this.scale="second",this.step=10),t<5e3&&(this.scale="second",this.step=5),t<1e3&&(this.scale="second",this.step=1),t<200&&(this.scale="millisecond",this.step=200),t<100&&(this.scale="millisecond",this.step=100),t<50&&(this.scale="millisecond",this.step=50),t<10&&(this.scale="millisecond",this.step=10),t<5&&(this.scale="millisecond",this.step=5),t<1&&(this.scale="millisecond",this.step=1))},r.snap=function(t,e,i){var o=n(t);if("year"==e){var t=o.year()+Math.round(o.month()/12);o.year(Math.round(t/i)*i),o.month(0),o.date(0),o.hours(0),o.minutes(0),o.seconds(0),o.milliseconds(0)}else if("month"==e)15<o.date()?(o.date(1),o.add(1,"month")):o.date(1),o.hours(0),o.minutes(0),o.seconds(0),o.milliseconds(0);else if("day"==e){switch(i){case 5:case 2:o.hours(24*Math.round(o.hours()/24));break;default:o.hours(12*Math.round(o.hours()/12))}o.minutes(0),o.seconds(0),o.milliseconds(0)}else if("weekday"==e){switch(i){case 5:case 2:o.hours(12*Math.round(o.hours()/12));break;default:o.hours(6*Math.round(o.hours()/6))}o.minutes(0),o.seconds(0),o.milliseconds(0)}else if("hour"==e)4===i?o.minutes(60*Math.round(o.minutes()/60)):o.minutes(30*Math.round(o.minutes()/30)),o.seconds(0),o.milliseconds(0);else if("minute"==e){switch(i){case 15:case 10:o.minutes(5*Math.round(o.minutes()/5)),o.seconds(0);break;case 5:o.seconds(60*Math.round(o.seconds()/60));break;default:o.seconds(30*Math.round(o.seconds()/30))}o.milliseconds(0)}else if("second"==e)switch(i){case 15:case 10:o.seconds(5*Math.round(o.seconds()/5)),o.milliseconds(0);break;case 5:o.milliseconds(1e3*Math.round(o.milliseconds()/1e3));break;default:o.milliseconds(500*Math.round(o.milliseconds()/500))}else"millisecond"==e&&(t=5<i?i/2:1,o.milliseconds(Math.round(o.milliseconds()/t)*t));return o},r.prototype.isMajor=function(){if(1==this.switchedYear)switch(this.scale){case"year":case"month":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(1==this.switchedMonth)switch(this.scale){case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(1==this.switchedDay)switch(this.scale){case"millisecond":case"second":case"minute":case"hour":return!0;default:return!1}var t=this.moment(this.current);switch(this.scale){case"millisecond":return 0==t.milliseconds();case"second":return 0==t.seconds();case"minute":return 0==t.hours()&&0==t.minutes();case"hour":return 0==t.hours();case"weekday":case"day":return 1==t.date();case"month":return 0==t.month();default:return!1}},r.prototype.getLabelMinor=function(t){if((t=null==t?this.current:t)instanceof Date&&(t=this.moment(t)),"function"==typeof this.format.minorLabels)return this.format.minorLabels(t,this.scale,this.step);var e=this.format.minorLabels[this.scale];return e&&0<e.length?this.moment(t).format(e):""},r.prototype.getLabelMajor=function(t){if((t=null==t?this.current:t)instanceof Date&&(t=this.moment(t)),"function"==typeof this.format.majorLabels)return this.format.majorLabels(t,this.scale,this.step);var e=this.format.majorLabels[this.scale];return e&&0<e.length?this.moment(t).format(e):""},r.prototype.getClassName=function(){var e=this.moment,t=this.moment(this.current),i=t.locale?t.locale("en"):t.lang("en"),o=this.step;function n(t){return t/o%2==0?" vis-even":" vis-odd"}function s(t){return t.isSame(new Date,"day")?" vis-today":t.isSame(e().add(1,"day"),"day")?" vis-tomorrow":t.isSame(e().add(-1,"day"),"day")?" vis-yesterday":""}function r(t){return t.isSame(new Date,"month")?" vis-current-month":""}switch(this.scale){case"millisecond":return s(i)+n(i.milliseconds()).trim();case"second":return s(i)+n(i.seconds()).trim();case"minute":return s(i)+n(i.minutes()).trim();case"hour":return"vis-h"+i.hours()+(4==this.step?"-h"+(i.hours()+4):"")+s(i)+n(i.hours());case"weekday":return"vis-"+i.format("dddd").toLowerCase()+s(i)+(i.isSame(new Date,"week")?" vis-current-week":"")+n(i.date());case"day":return"vis-day"+i.date()+" vis-"+i.format("MMMM").toLowerCase()+s(i)+r(i)+(this.step<=2?s(i):"")+(this.step<=2?" vis-"+i.format("dddd").toLowerCase():""+n(i.date()-1));case"month":return"vis-"+i.format("MMMM").toLowerCase()+r(i)+n(i.month());case"year":var a=i.year();return"vis-year"+a+(i.isSame(new Date,"year")?" vis-current-year":"")+n(a);default:return""}},t.exports=r},function(t,e,i){var o=i(58),n=(o=o)&&o.__esModule?o:{default:o};var u=i(1),l=i(135);i(136);function s(t,e,i){this.groupId=t,this.subgroups={},this.subgroupIndex=0,this.subgroupOrderer=e&&e.subgroupOrder,this.itemSet=i,this.isVisible=null,e&&e.nestedGroups&&(this.nestedGroups=e.nestedGroups,0==e.showNested?this.showNested=!1:this.showNested=!0),this.nestedInGroup=null,this.dom={},this.props={label:{width:0,height:0}},this.className=null,this.items={},this.visibleItems=[],this.itemsInRange=[],this.orderedItems={byStart:[],byEnd:[]},this.checkRangedItems=!1;var o=this;this.itemSet.body.emitter.on("checkRangedItems",function(){o.checkRangedItems=!0}),this._create(),this.setData(e)}s.prototype._create=function(){var t=document.createElement("div"),e=(this.itemSet.options.groupEditable.order?t.className="vis-label draggable":t.className="vis-label",this.dom.label=t,document.createElement("div")),t=(e.className="vis-inner",t.appendChild(e),this.dom.inner=e,document.createElement("div"));t.className="vis-group",(t["timeline-group"]=this).dom.foreground=t,this.dom.background=document.createElement("div"),this.dom.background.className="vis-group",this.dom.axis=document.createElement("div"),this.dom.axis.className="vis-group",this.dom.marker=document.createElement("div"),this.dom.marker.style.visibility="hidden",this.dom.marker.style.position="absolute",this.dom.marker.innerHTML="",this.dom.background.appendChild(this.dom.marker)},s.prototype.setData=function(t){var e,i=this.itemSet.options&&this.itemSet.options.groupTemplate?(o=this.itemSet.options.groupTemplate.bind(this))(t,this.dom.inner):t&&t.content;if(i instanceof Element){for(this.dom.inner.appendChild(i);this.dom.inner.firstChild;)this.dom.inner.removeChild(this.dom.inner.firstChild);this.dom.inner.appendChild(i)}else i instanceof Object?o(t,this.dom.inner):this.dom.inner.innerHTML=null!=i?i:this.groupId||"";this.dom.label.title=t&&t.title||"",this.dom.inner.firstChild?u.removeClassName(this.dom.inner,"vis-hidden"):u.addClassName(this.dom.inner,"vis-hidden"),t&&t.nestedGroups?(this.nestedGroups&&this.nestedGroups==t.nestedGroups||(this.nestedGroups=t.nestedGroups),void 0===t.showNested&&void 0!==this.showNested||(0==t.showNested?this.showNested=!1:this.showNested=!0),u.addClassName(this.dom.label,"vis-nesting-group"),e=this.itemSet.options.rtl?"collapsed-rtl":"collapsed",this.showNested?(u.removeClassName(this.dom.label,e),u.addClassName(this.dom.label,"expanded")):(u.removeClassName(this.dom.label,"expanded"),u.addClassName(this.dom.label,e))):this.nestedGroups&&(this.nestedGroups=null,e=this.itemSet.options.rtl?"collapsed-rtl":"collapsed",u.removeClassName(this.dom.label,e),u.removeClassName(this.dom.label,"expanded"),u.removeClassName(this.dom.label,"vis-nesting-group")),t&&t.nestedInGroup&&(u.addClassName(this.dom.label,"vis-nested-group"),this.itemSet.options&&this.itemSet.options.rtl?this.dom.inner.style.paddingRight="30px":this.dom.inner.style.paddingLeft="30px");var o=t&&t.className||null;o!=this.className&&(this.className&&(u.removeClassName(this.dom.label,this.className),u.removeClassName(this.dom.foreground,this.className),u.removeClassName(this.dom.background,this.className),u.removeClassName(this.dom.axis,this.className)),u.addClassName(this.dom.label,o),u.addClassName(this.dom.foreground,o),u.addClassName(this.dom.background,o),u.addClassName(this.dom.axis,o),this.className=o),this.style&&(u.removeCssText(this.dom.label,this.style),this.style=null),t&&t.style&&(u.addCssText(this.dom.label,t.style),this.style=t.style)},s.prototype.getLabelWidth=function(){return this.props.label.width},s.prototype.redraw=function(t,e,i){var o,n=!1,s=this.dom.marker.clientHeight,s=(s!=this.lastMarkerHeight&&(this.lastMarkerHeight=s,u.forEach(this.items,function(t){t.dirty=!0,t.displayed&&t.redraw()}),i=!0),this._calculateSubGroupHeights(e),this.dom.foreground),r=(this.top=s.offsetTop,this.right=s.offsetLeft,this.width=s.offsetWidth,this.isVisible=this._isGroupVisible(t,e),"function"==typeof this.itemSet.options.order?(i&&(u.forEach((o=this).items,function(t){t.displayed||(t.redraw(),o.visibleItems.push(t)),t.repositionX(!1)}),r=this.orderedItems.byStart.slice().sort(function(t,e){return o.itemSet.options.order(t.data,e.data)}),l.stack(r,e,!0)),this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,t)):(this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,t),this.itemSet.options.stack?l.stack(this.visibleItems,e,i):l.nostack(this.visibleItems,e,this.subgroups,this.itemSet.options.stackSubgroups)),this._updateSubgroupsSizes(),this._calculateHeight(e)),s=this.dom.foreground;this.top=s.offsetTop,this.right=s.offsetLeft,this.width=s.offsetWidth,n=u.updateProperty(this,"height",r)||n,n=u.updateProperty(this.props.label,"width",this.dom.inner.clientWidth)||n,n=u.updateProperty(this.props.label,"height",this.dom.inner.clientHeight)||n,this.dom.background.style.height=r+"px",this.dom.foreground.style.height=r+"px",this.dom.label.style.height=r+"px";for(var a=0,h=this.visibleItems.length;a<h;a++){var d=this.visibleItems[a];d.repositionY(e),this.isVisible||"__background__"==this.groupId||d.displayed&&d.hide()}return!(!this.isVisible&&this.height)&&n},s.prototype._calculateSubGroupHeights=function(e){var i;0<(0,n.default)(this.subgroups).length&&((i=this).resetSubgroups(),u.forEach(this.visibleItems,function(t){void 0!==t.data.subgroup&&(i.subgroups[t.data.subgroup].height=Math.max(i.subgroups[t.data.subgroup].height,t.height+e.item.vertical),i.subgroups[t.data.subgroup].visible=!0)}))},s.prototype._isGroupVisible=function(t,e){return this.top<=t.body.domProps.centerContainer.height-t.body.domProps.scrollTop+e.axis&&this.top+this.height+e.axis>=-t.body.domProps.scrollTop},s.prototype._calculateHeight=function(t){var e,i,o,n=this.visibleItems,n=0<n.length?(e=n[0].top,i=n[0].top+n[0].height,u.forEach(n,function(t){e=Math.min(e,t.top),i=Math.max(i,t.top+t.height)}),e>t.axis&&(o=e-t.axis,i-=o,u.forEach(n,function(t){t.top-=o})),i+t.item.vertical/2):0;return n=Math.max(n,this.props.label.height)},s.prototype.show=function(){this.dom.label.parentNode||this.itemSet.dom.labelSet.appendChild(this.dom.label),this.dom.foreground.parentNode||this.itemSet.dom.foreground.appendChild(this.dom.foreground),this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background),this.dom.axis.parentNode||this.itemSet.dom.axis.appendChild(this.dom.axis)},s.prototype.hide=function(){var t=this.dom.label,t=(t.parentNode&&t.parentNode.removeChild(t),this.dom.foreground),t=(t.parentNode&&t.parentNode.removeChild(t),this.dom.background),t=(t.parentNode&&t.parentNode.removeChild(t),this.dom.axis);t.parentNode&&t.parentNode.removeChild(t)},s.prototype.add=function(t){var e;(this.items[t.id]=t).setParent(this),void 0!==t.data.subgroup&&(this._addToSubgroup(t),this.orderSubgroups()),-1==this.visibleItems.indexOf(t)&&(e=this.itemSet.body.range,this._checkIfVisible(t,this.visibleItems,e))},s.prototype._addToSubgroup=function(t,e){null!=(e=e||t.data.subgroup)&&void 0===this.subgroups[e]&&(this.subgroups[e]={height:0,top:0,start:t.data.start,end:t.data.end,visible:!1,index:this.subgroupIndex,items:[]},this.subgroupIndex++),new Date(t.data.start)<new Date(this.subgroups[e].start)&&(this.subgroups[e].start=t.data.start),new Date(t.data.end)>new Date(this.subgroups[e].end)&&(this.subgroups[e].end=t.data.end),this.subgroups[e].items.push(t)},s.prototype._updateSubgroupsSizes=function(){if(this.subgroups)for(var t in this.subgroups){var e=this.subgroups[t].items[0].data.start,i=this.subgroups[t].items[0].data.end;this.subgroups[t].items.forEach(function(t){new Date(t.data.start)<new Date(e)&&(e=t.data.start),new Date(t.data.end)>new Date(i)&&(i=t.data.end)}),this.subgroups[t].start=e,this.subgroups[t].end=i}},s.prototype.orderSubgroups=function(){if(void 0!==this.subgroupOrderer){var t=[];if("string"==typeof this.subgroupOrderer){for(var e in this.subgroups)t.push({subgroup:e,sortField:this.subgroups[e].items[0].data[this.subgroupOrderer]});t.sort(function(t,e){return t.sortField-e.sortField})}else if("function"==typeof this.subgroupOrderer){for(var e in this.subgroups)t.push(this.subgroups[e].items[0].data);t.sort(this.subgroupOrderer)}if(0<t.length)for(var i=0;i<t.length;i++)this.subgroups[t[i].subgroup].index=i}},s.prototype.resetSubgroups=function(){for(var t in this.subgroups)this.subgroups.hasOwnProperty(t)&&(this.subgroups[t].visible=!1)},s.prototype.remove=function(t){delete this.items[t.id],t.setParent(null);var e=this.visibleItems.indexOf(t);-1!=e&&this.visibleItems.splice(e,1),void 0!==t.data.subgroup&&(this._removeFromSubgroup(t),this.orderSubgroups())},s.prototype._removeFromSubgroup=function(t,e){var i;null!=(e=e||t.data.subgroup)&&(!(i=this.subgroups[e])||0<=(t=i.items.indexOf(t))&&(i.items.splice(t,1),i.items.length?this._updateSubgroupsSizes():delete this.subgroups[e]))},s.prototype.removeFromDataSet=function(t){this.itemSet.removeItem(t.id)},s.prototype.order=function(){for(var t=u.toArray(this.items),e=[],i=[],o=0;o<t.length;o++)void 0!==t[o].data.end&&i.push(t[o]),e.push(t[o]);this.orderedItems={byStart:e,byEnd:i},l.orderByStart(this.orderedItems.byStart),l.orderByEnd(this.orderedItems.byEnd)},s.prototype._updateItemsInRange=function(t,e,i){function l(t){return t<r?-1:t<=a?0:1}var o=[],n={},s=(i.end-i.start)/4,r=i.start-s,a=i.end+s;if(0<e.length)for(var h=0;h<e.length;h++)this._checkIfVisibleWithReference(e[h],o,n,i);s=u.binarySearchCustom(t.byStart,l,"data","start");if(this._traceVisible(s,t.byStart,o,n,function(t){return t.data.start<r||t.data.start>a}),1==this.checkRangedItems)for(this.checkRangedItems=!1,h=0;h<t.byEnd.length;h++)this._checkIfVisibleWithReference(t.byEnd[h],o,n,i);else{s=u.binarySearchCustom(t.byEnd,l,"data","end");this._traceVisible(s,t.byEnd,o,n,function(t){return t.data.end<r||t.data.end>a})}for(h=0;h<o.length;h++){var d=o[h];d.displayed||d.show(),d.repositionX()}return o},s.prototype._traceVisible=function(t,e,i,o,n){if(-1!=t){for(var s=t;0<=s;s--){if(n(r=e[s]))break;void 0===o[r.id]&&(o[r.id]=!0,i.push(r))}for(var r,s=t+1;s<e.length;s++){if(n(r=e[s]))break;void 0===o[r.id]&&(o[r.id]=!0,i.push(r))}}},s.prototype._checkIfVisible=function(t,e,i){t.isVisible(i)?(t.displayed||t.show(),t.repositionX(),e.push(t)):t.displayed&&t.hide()},s.prototype._checkIfVisibleWithReference=function(t,e,i,o){t.isVisible(o)?void 0===i[t.id]&&(i[t.id]=!0,e.push(t)):t.displayed&&t.hide()},s.prototype.changeSubgroup=function(t,e,i){this._removeFromSubgroup(t,e),this._addToSubgroup(t,i),this.orderSubgroups()},t.exports=s},function(t,d){d.orderByStart=function(t){t.sort(function(t,e){return t.data.start-e.data.start})},d.orderByEnd=function(t){t.sort(function(t,e){return("end"in t.data?t.data.end:t.data.start)-("end"in e.data?e.data.end:e.data.start)})},d.stack=function(t,e,i){if(i)for(var o=0;o<t.length;o++)t[o].top=null;for(o=0;o<t.length;o++){var n=t[o];if(n.stack&&null===n.top){n.top=e.axis;do{for(var s=null,r=0,a=t.length;r<a;r++){var h=t[r];if(null!==h.top&&h!==n&&h.stack&&d.collision(n,h,e.item,h.options.rtl)){s=h;break}}}while(null!=s&&(n.top=s.top+s.height+e.item.vertical),s)}}},d.nostack=function(t,e,i,o){for(var n=0;n<t.length;n++)if(null==t[n].data.subgroup)t[n].top=e.item.vertical;else if(void 0!==t[n].data.subgroup&&o){var s,r=0;for(s in i)i.hasOwnProperty(s)&&1==i[s].visible&&i[s].index<i[t[n].data.subgroup].index&&(r+=i[s].height,i[t[n].data.subgroup].top=r);t[n].top=r+.5*e.item.vertical}o||d.stackSubgroups(t,e,i)},d.stackSubgroups=function(t,e,i){for(var o in i)if(i.hasOwnProperty(o)){i[o].top=0;do{var n,s=null;for(n in i)if(null!==i[n].top&&n!==o&&i[o].index>i[n].index&&d.collisionByTimes(i[o],i[n])){s=i[n];break}}while(null!=s&&(i[o].top=s.top+s.height),s)}for(var r=0;r<t.length;r++)void 0!==t[r].data.subgroup&&(t[r].top=i[t[r].data.subgroup].top+.5*e.item.vertical)},d.collision=function(t,e,i,o){return o?t.right-i.horizontal+.001<e.right+e.width&&t.right+t.width+i.horizontal-.001>e.right&&t.top-i.vertical+.001<e.top+e.height&&t.top+t.height+i.vertical-.001>e.top:t.left-i.horizontal+.001<e.left+e.width&&t.left+t.width+i.horizontal-.001>e.left&&t.top-i.vertical+.001<e.top+e.height&&t.top+t.height+i.vertical-.001>e.top},d.collisionByTimes=function(t,e){return t.start<=e.start&&t.end>=e.start&&t.top<e.top+e.height&&t.top+t.height>e.top||e.start<=t.start&&e.end>=t.start&&e.top<t.top+t.height&&e.top+e.height>t.top}},function(t,e,i){i(112);var o=i(137);function n(t,e,i){if(this.props={content:{width:0}},this.overflow=!1,this.options=i,t){if(null==t.start)throw new Error('Property "start" missing in item '+t.id);if(null==t.end)throw new Error('Property "end" missing in item '+t.id)}o.call(this,t,e,i)}(n.prototype=new o(null,null,null)).baseClassName="vis-item vis-range",n.prototype.isVisible=function(t){return this.data.start<t.end&&this.data.end>t.start},n.prototype.redraw=function(){var t=this.dom;if(t||(this.dom={},(t=this.dom).box=document.createElement("div"),t.frame=document.createElement("div"),t.frame.className="vis-item-overflow",t.box.appendChild(t.frame),t.visibleFrame=document.createElement("div"),t.visibleFrame.className="vis-item-visible-frame",t.box.appendChild(t.visibleFrame),t.content=document.createElement("div"),t.content.className="vis-item-content",t.frame.appendChild(t.content),(t.box["timeline-item"]=this).dirty=!0),!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!t.box.parentNode){var e=this.parent.dom.foreground;if(!e)throw new Error("Cannot redraw item: parent has no foreground container element");e.appendChild(t.box)}this.displayed=!0,this.dirty&&(this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box),e=this.editable.updateTime||this.editable.updateGroup,e=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(e?" vis-editable":" vis-readonly"),t.box.className=this.baseClassName+e,this.overflow="hidden"!==window.getComputedStyle(t.frame).overflow,this.dom.content.style.maxWidth="none",this.props.content.width=this.dom.content.offsetWidth,this.height=this.dom.box.offsetHeight,this.dom.content.style.maxWidth="",this.dirty=!1),this._repaintOnItemUpdateTimeTooltip(t.box),this._repaintDeleteButton(t.box),this._repaintDragCenter(),this._repaintDragLeft(),this._repaintDragRight()},n.prototype.show=function(){this.displayed||this.redraw()},n.prototype.hide=function(){var t;this.displayed&&((t=this.dom.box).parentNode&&t.parentNode.removeChild(t),this.displayed=!1)},n.prototype.repositionX=function(t){var e,i=this.parent.width,o=this.conversion.toScreen(this.data.start),n=this.conversion.toScreen(this.data.end),s=(void 0!==t&&!0!==t||(o<-i&&(o=-i),2*i<n&&(n=2*i)),Math.max(n-o+.5,1)),r=this.overflow?(this.options.rtl?this.right=o:this.left=o,this.width=s+this.props.content.width,this.props.content.width):(this.options.rtl?this.right=o:this.left=o,this.width=s,Math.min(n-o,this.props.content.width));switch(this.options.rtl?this.dom.box.style.right=this.right+"px":this.dom.box.style.left=this.left+"px",this.dom.box.style.width=s+"px",this.options.align){case"left":this.options.rtl?this.dom.content.style.right="0":this.dom.content.style.left="0";break;case"right":this.options.rtl?this.dom.content.style.right=Math.max(s-r,0)+"px":this.dom.content.style.left=Math.max(s-r,0)+"px";break;case"center":this.options.rtl?this.dom.content.style.right=Math.max((s-r)/2,0)+"px":this.dom.content.style.left=Math.max((s-r)/2,0)+"px";break;default:e=this.overflow?0<n?Math.max(-o,0):-r:o<0?-o:0,this.options.rtl?this.dom.content.style.right=e+"px":(this.dom.content.style.left=e+"px",this.dom.content.style.width="calc(100% - "+e+"px)")}},n.prototype.repositionY=function(){var t=this.options.orientation.item,e=this.dom.box;e.style.top="top"==t?this.top+"px":this.parent.height-this.top-this.height+"px"},n.prototype._repaintDragLeft=function(){var t;this.selected&&this.options.editable.updateTime&&!this.dom.dragLeft?((t=document.createElement("div")).className="vis-drag-left",(t.dragLeftItem=this).dom.box.appendChild(t),this.dom.dragLeft=t):!this.selected&&this.dom.dragLeft&&(this.dom.dragLeft.parentNode&&this.dom.dragLeft.parentNode.removeChild(this.dom.dragLeft),this.dom.dragLeft=null)},n.prototype._repaintDragRight=function(){var t;this.selected&&this.options.editable.updateTime&&!this.dom.dragRight?((t=document.createElement("div")).className="vis-drag-right",(t.dragRightItem=this).dom.box.appendChild(t),this.dom.dragRight=t):!this.selected&&this.dom.dragRight&&(this.dom.dragRight.parentNode&&this.dom.dragRight.parentNode.removeChild(this.dom.dragRight),this.dom.dragRight=null)},t.exports=n},function(t,d,e){var i=o(e(62)),s=o(e(58));function o(t){return t&&t.__esModule?t:{default:t}}var n=e(112),r=e(1),a=e(82);function h(t,e,i){this.id=null,this.parent=null,this.data=t,this.dom=null,this.conversion=e||{},this.options=i||{},this.selected=!1,this.displayed=!1,this.groupShowing=!0,this.dirty=!0,this.top=null,this.right=null,this.left=null,this.width=null,this.height=null,this.editable=null,this._updateEditStatus()}h.prototype.stack=!0,h.prototype.select=function(){this.selected=!0,this.dirty=!0,this.displayed&&this.redraw()},h.prototype.unselect=function(){this.selected=!1,this.dirty=!0,this.displayed&&this.redraw()},h.prototype.setData=function(t){null!=t.group&&this.data.group!=t.group&&this.parent.itemSet._moveToGroup(this,t.group),this.data=t,this._updateEditStatus(),this.dirty=!0,this.displayed&&this.redraw()},h.prototype.setParent=function(t){this.displayed?(this.hide(),this.parent=t,this.parent&&this.show()):this.parent=t},h.prototype.isVisible=function(t){return!1},h.prototype.show=function(){return!1},h.prototype.hide=function(){return!1},h.prototype.redraw=function(){},h.prototype.repositionX=function(){},h.prototype.repositionY=function(){},h.prototype._repaintDragCenter=function(){var e,t;this.selected&&this.options.editable.updateTime&&!this.dom.dragCenter?(e=this,(t=document.createElement("div")).className="vis-drag-center",t.dragCenterItem=this,new n(t).on("doubletap",function(t){t.stopPropagation(),e.parent.itemSet._onUpdateItem(e)}),this.dom.box?this.dom.box.appendChild(t):this.dom.point&&this.dom.point.appendChild(t),this.dom.dragCenter=t):!this.selected&&this.dom.dragCenter&&(this.dom.dragCenter.parentNode&&this.dom.dragCenter.parentNode.removeChild(this.dom.dragCenter),this.dom.dragCenter=null)},h.prototype._repaintDeleteButton=function(t){var e,i=(this.options.editable.overrideItems||null==this.editable)&&this.options.editable.remove||!this.options.editable.overrideItems&&null!=this.editable&&this.editable.remove;this.selected&&i&&!this.dom.deleteButton?(e=this,i=document.createElement("div"),this.options.rtl?i.className="vis-delete-rtl":i.className="vis-delete",i.title="Delete this item",new n(i).on("tap",function(t){t.stopPropagation(),e.parent.removeFromDataSet(e)}),t.appendChild(i),this.dom.deleteButton=i):!this.selected&&this.dom.deleteButton&&(this.dom.deleteButton.parentNode&&this.dom.deleteButton.parentNode.removeChild(this.dom.deleteButton),this.dom.deleteButton=null)},h.prototype._repaintOnItemUpdateTimeTooltip=function(t){var e,i;this.options.tooltipOnItemUpdateTime&&(e=(this.options.editable.updateTime||!0===this.data.editable)&&!1!==this.data.editable,this.selected&&e&&!this.dom.onItemUpdateTimeTooltip?((e=document.createElement("div")).className="vis-onUpdateTime-tooltip",t.appendChild(e),this.dom.onItemUpdateTimeTooltip=e):!this.selected&&this.dom.onItemUpdateTimeTooltip&&(this.dom.onItemUpdateTimeTooltip.parentNode&&this.dom.onItemUpdateTimeTooltip.parentNode.removeChild(this.dom.onItemUpdateTimeTooltip),this.dom.onItemUpdateTimeTooltip=null),this.dom.onItemUpdateTimeTooltip&&(this.dom.onItemUpdateTimeTooltip.style.visibility=this.parent.itemSet.touchParams.itemIsDragging?"visible":"hidden",this.options.rtl?this.dom.onItemUpdateTimeTooltip.style.right=this.dom.content.style.right:this.dom.onItemUpdateTimeTooltip.style.left=this.dom.content.style.left,t=this.parent.itemSet.body.domProps.scrollTop,("top"==this.options.orientation.item?this.top:this.parent.height-this.top-this.height)+this.parent.top-50<-t?(this.dom.onItemUpdateTimeTooltip.style.bottom="",this.dom.onItemUpdateTimeTooltip.style.top=this.height+2+"px"):(this.dom.onItemUpdateTimeTooltip.style.top="",this.dom.onItemUpdateTimeTooltip.style.bottom=this.height+2+"px"),this.options.tooltipOnItemUpdateTime&&this.options.tooltipOnItemUpdateTime.template?i=this.options.tooltipOnItemUpdateTime.template.bind(this)(this.data):(i="start: "+a(this.data.start).format("MM/DD/YYYY hh:mm"),this.data.end&&(i+="<br> end: "+a(this.data.end).format("MM/DD/YYYY hh:mm"))),this.dom.onItemUpdateTimeTooltip.innerHTML=i))},h.prototype._updateContents=function(t){var e,i,o=this.parent.itemSet.itemsData.get(this.id),n=this.dom.box||this.dom.point,s=n.getElementsByClassName("vis-item-visible-frame")[0],n=this.options.visibleFrameTemplate?(i=this.options.visibleFrameTemplate.bind(this))(o,n):"";if(s)if(n instanceof Object&&!(n instanceof Element))i(o,s);else if(this._contentToString(this.itemVisibleFrameContent)!==this._contentToString(n)){if(n instanceof Element)s.innerHTML="",s.appendChild(n);else if(null!=n)s.innerHTML=n;else if("background"!=this.data.type||void 0!==this.data.content)throw new Error('Property "content" missing in item '+this.id);this.itemVisibleFrameContent=n}if((i=this.options.template?(e=this.options.template.bind(this))(o,t,this.data):this.data.content)instanceof Object&&!(i instanceof Element))e(o,t);else if(this._contentToString(this.content)!==this._contentToString(i)){if(i instanceof Element)t.innerHTML="",t.appendChild(i);else if(null!=i)t.innerHTML=i;else if("background"!=this.data.type||void 0!==this.data.content)throw new Error('Property "content" missing in item '+this.id);this.content=i}},h.prototype._updateDataAttributes=function(t){if(this.options.dataAttributes&&0<this.options.dataAttributes.length){var e=[];if(Array.isArray(this.options.dataAttributes))e=this.options.dataAttributes;else{if("all"!=this.options.dataAttributes)return;e=(0,s.default)(this.data)}for(var i=0;i<e.length;i++){var o=e[i],n=this.data[o];null!=n?t.setAttribute("data-"+o,n):t.removeAttribute("data-"+o)}}},h.prototype._updateStyle=function(t){this.style&&(r.removeCssText(t,this.style),this.style=null),this.data.style&&(r.addCssText(t,this.data.style),this.style=this.data.style)},h.prototype._contentToString=function(t){return"string"!=typeof t&&t&&"outerHTML"in t?t.outerHTML:t},h.prototype._updateEditStatus=function(){this.options&&("boolean"==typeof this.options.editable?this.editable={updateTime:this.options.editable,updateGroup:this.options.editable,remove:this.options.editable}:"object"===(0,i.default)(this.options.editable)&&(this.editable={},r.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,this.options.editable))),this.options&&this.options.editable&&!0===this.options.editable.overrideItems||this.data&&("boolean"==typeof this.data.editable?this.editable={updateTime:this.data.editable,updateGroup:this.data.editable,remove:this.data.editable}:"object"===(0,i.default)(this.data.editable)&&(this.editable={},r.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,this.data.editable)))},h.prototype.getWidthLeft=function(){return 0},h.prototype.getWidthRight=function(){return 0},h.prototype.getTitle=function(){return this.data.title},t.exports=h},function(t,e,i){var o=i(55),o=(o=o)&&o.__esModule?o:{default:o};i(1);var n=i(134);function s(t,e,i){n.call(this,t,e,i),this.width=0,this.height=0,this.top=0,this.left=0}(s.prototype=(0,o.default)(n.prototype)).redraw=function(t,e,i){this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,t),this.width=this.dom.background.offsetWidth,this.dom.background.style.height="0";for(var o=0,n=this.visibleItems.length;o<n;o++)this.visibleItems[o].repositionY(e);return!1},s.prototype.show=function(){this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background)},t.exports=s},function(t,e,i){var o=i(137);i(1);function n(t,e,i){if(this.props={dot:{width:0,height:0},line:{width:0,height:0}},this.options=i,t&&null==t.start)throw new Error('Property "start" missing in item '+t);o.call(this,t,e,i)}(n.prototype=new o(null,null,null)).isVisible=function(t){var e=this.options.align,i=this.width*t.getMillisecondsPerPixel(),e="right"==e?this.data.start.getTime()>t.start&&this.data.start.getTime()-i<t.end:"left"==e?this.data.start.getTime()+i>t.start&&this.data.start.getTime()<t.end:this.data.start.getTime()+i/2>t.start&&this.data.start.getTime()-i/2<t.end;return e},n.prototype.redraw=function(){var t=this.dom;if(t||(this.dom={},(t=this.dom).box=document.createElement("DIV"),t.content=document.createElement("DIV"),t.content.className="vis-item-content",t.box.appendChild(t.content),t.line=document.createElement("DIV"),t.line.className="vis-line",t.dot=document.createElement("DIV"),t.dot.className="vis-dot",(t.box["timeline-item"]=this).dirty=!0),!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!t.box.parentNode){var e=this.parent.dom.foreground;if(!e)throw new Error("Cannot redraw item: parent has no foreground container element");e.appendChild(t.box)}if(!t.line.parentNode){var i=this.parent.dom.background;if(!i)throw new Error("Cannot redraw item: parent has no background container element");i.appendChild(t.line)}if(!t.dot.parentNode){var e=this.parent.dom.axis;if(!i)throw new Error("Cannot redraw item: parent has no axis container element");e.appendChild(t.dot)}this.displayed=!0,this.dirty&&(this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box),i=this.editable.updateTime||this.editable.updateGroup,e=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(i?" vis-editable":" vis-readonly"),t.box.className="vis-item vis-box"+e,t.line.className="vis-item vis-line"+e,t.dot.className="vis-item vis-dot"+e,i=t.box.style.right,e=t.box.style.left,this.options.rtl?t.box.style.right="0px":t.box.style.left="0px",this.props.dot.height=t.dot.offsetHeight,this.props.dot.width=t.dot.offsetWidth,this.props.line.width=t.line.offsetWidth,this.width=t.box.offsetWidth,this.height=t.box.offsetHeight,this.options.rtl?t.box.style.right=i:t.box.style.left=e,this.dirty=!1),this._repaintOnItemUpdateTimeTooltip(t.box),this._repaintDragCenter(),this._repaintDeleteButton(t.box)},n.prototype.show=function(){this.displayed||this.redraw()},n.prototype.hide=function(){var t;this.displayed&&((t=this.dom).box.parentNode&&t.box.parentNode.removeChild(t.box),t.line.parentNode&&t.line.parentNode.removeChild(t.line),t.dot.parentNode&&t.dot.parentNode.removeChild(t.dot),this.displayed=!1)},n.prototype.repositionX=function(){var t=this.conversion.toScreen(this.data.start),e=this.options.align;"right"==e?this.options.rtl?(this.right=t-this.width,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=t-this.props.line.width+"px",this.dom.dot.style.right=t-this.props.line.width/2-this.props.dot.width/2+"px"):(this.left=t-this.width,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=t-this.props.line.width+"px",this.dom.dot.style.left=t-this.props.line.width/2-this.props.dot.width/2+"px"):"left"==e?this.options.rtl?(this.right=t,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=t+"px",this.dom.dot.style.right=t+this.props.line.width/2-this.props.dot.width/2+"px"):(this.left=t,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=t+"px",this.dom.dot.style.left=t+this.props.line.width/2-this.props.dot.width/2+"px"):this.options.rtl?(this.right=t-this.width/2,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=t-this.props.line.width+"px",this.dom.dot.style.right=t-this.props.dot.width/2+"px"):(this.left=t-this.width/2,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=t-this.props.line.width/2+"px",this.dom.dot.style.left=t-this.props.dot.width/2+"px")},n.prototype.repositionY=function(){var t,e=this.options.orientation.item,i=this.dom.box,o=this.dom.line,n=this.dom.dot;"top"==e?(i.style.top=(this.top||0)+"px",o.style.top="0",o.style.height=this.parent.top+this.top+1+"px",o.style.bottom=""):(t=(e=this.parent.itemSet.props.height)-this.parent.top-this.parent.height+this.top,i.style.top=(this.parent.height-this.top-this.height||0)+"px",o.style.top=e-t+"px",o.style.bottom="0"),n.style.top=-this.props.dot.height/2+"px"},n.prototype.getWidthLeft=function(){return this.width/2},n.prototype.getWidthRight=function(){return this.width/2},t.exports=n},function(t,e,i){var o=i(137);function n(t,e,i){if(this.props={dot:{top:0,width:0,height:0},content:{height:0,marginLeft:0,marginRight:0}},this.options=i,t&&null==t.start)throw new Error('Property "start" missing in item '+t);o.call(this,t,e,i)}(n.prototype=new o(null,null,null)).isVisible=function(t){var e=this.width*t.getMillisecondsPerPixel();return this.data.start.getTime()+e>t.start&&this.data.start<t.end},n.prototype.redraw=function(){var t=this.dom;if(t||(this.dom={},(t=this.dom).point=document.createElement("div"),t.content=document.createElement("div"),t.content.className="vis-item-content",t.point.appendChild(t.content),t.dot=document.createElement("div"),t.point.appendChild(t.dot),(t.point["timeline-item"]=this).dirty=!0),!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!t.point.parentNode){var e=this.parent.dom.foreground;if(!e)throw new Error("Cannot redraw item: parent has no foreground container element");e.appendChild(t.point)}this.displayed=!0,this.dirty&&(this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.point),this._updateStyle(this.dom.point),e=this.editable.updateTime||this.editable.updateGroup,e=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(e?" vis-editable":" vis-readonly"),t.point.className="vis-item vis-point"+e,t.dot.className="vis-item vis-dot"+e,this.props.dot.width=t.dot.offsetWidth,this.props.dot.height=t.dot.offsetHeight,this.props.content.height=t.content.offsetHeight,this.options.rtl?t.content.style.marginRight=2*this.props.dot.width+"px":t.content.style.marginLeft=2*this.props.dot.width+"px",this.width=t.point.offsetWidth,this.height=t.point.offsetHeight,t.dot.style.top=(this.height-this.props.dot.height)/2+"px",this.options.rtl?t.dot.style.right=this.props.dot.width/2+"px":t.dot.style.left=this.props.dot.width/2+"px",this.dirty=!1),this._repaintOnItemUpdateTimeTooltip(t.point),this._repaintDragCenter(),this._repaintDeleteButton(t.point)},n.prototype.show=function(){this.displayed||this.redraw()},n.prototype.hide=function(){this.displayed&&(this.dom.point.parentNode&&this.dom.point.parentNode.removeChild(this.dom.point),this.displayed=!1)},n.prototype.repositionX=function(){var t=this.conversion.toScreen(this.data.start);this.options.rtl?(this.right=t-this.props.dot.width,this.dom.point.style.right=this.right+"px"):(this.left=t-this.props.dot.width,this.dom.point.style.left=this.left+"px")},n.prototype.repositionY=function(){var t=this.options.orientation.item,e=this.dom.point;e.style.top="top"==t?this.top+"px":this.parent.height-this.top-this.height+"px"},n.prototype.getWidthLeft=function(){return this.props.dot.width},n.prototype.getWidthRight=function(){return this.props.dot.width},t.exports=n},function(t,e,i){i(112);var o=i(137),n=i(138),i=i(136);function s(t,e,i){if(this.props={content:{width:0}},this.overflow=!1,t){if(null==t.start)throw new Error('Property "start" missing in item '+t.id);if(null==t.end)throw new Error('Property "end" missing in item '+t.id)}o.call(this,t,e,i)}(s.prototype=new o(null,null,null)).baseClassName="vis-item vis-background",s.prototype.stack=!1,s.prototype.isVisible=function(t){return this.data.start<t.end&&this.data.end>t.start},s.prototype.redraw=function(){var t=this.dom;if(t||(this.dom={},(t=this.dom).box=document.createElement("div"),t.frame=document.createElement("div"),t.frame.className="vis-item-overflow",t.box.appendChild(t.frame),t.content=document.createElement("div"),t.content.className="vis-item-content",t.frame.appendChild(t.content),this.dirty=!0),!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!t.box.parentNode){var e=this.parent.dom.background;if(!e)throw new Error("Cannot redraw item: parent has no background container element");e.appendChild(t.box)}this.displayed=!0,this.dirty&&(this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.content),this._updateStyle(this.dom.box),e=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":""),t.box.className=this.baseClassName+e,this.overflow="hidden"!==window.getComputedStyle(t.content).overflow,this.props.content.width=this.dom.content.offsetWidth,this.height=0,this.dirty=!1)},s.prototype.show=i.prototype.show,s.prototype.hide=i.prototype.hide,s.prototype.repositionX=i.prototype.repositionX,s.prototype.repositionY=function(t){var e,i,o=this.options.orientation.item;void 0!==this.data.subgroup?(i=this.data.subgroup,this.parent.subgroups[i].index,this.dom.box.style.height=this.parent.subgroups[i].height+"px",this.dom.box.style.top="top"==o?this.parent.top+this.parent.subgroups[i].top+"px":this.parent.top+this.parent.height-this.parent.subgroups[i].top-this.parent.subgroups[i].height+"px",this.dom.box.style.bottom=""):this.parent instanceof n?(e=Math.max(this.parent.height,this.parent.itemSet.body.domProps.center.height,this.parent.itemSet.body.domProps.centerContainer.height),this.dom.box.style.bottom="bottom"==o?"0":"",this.dom.box.style.top="top"==o?"0":""):(e=this.parent.height,this.dom.box.style.top=this.parent.top+"px",this.dom.box.style.bottom=""),this.dom.box.style.height=e+"px"},t.exports=s},function(t,r,e){var i=e(62),o=(i=i)&&i.__esModule?i:{default:i};var g=e(1),i=e(128),v=e(133),y=e(129),n=e(82);function s(t,e){this.dom={foreground:null,lines:[],majorTexts:[],minorTexts:[],redundant:{lines:[],majorTexts:[],minorTexts:[]}},this.props={range:{start:0,end:0,minimumStep:0},lineTop:0},this.defaultOptions={orientation:{axis:"bottom"},showMinorLabels:!0,showMajorLabels:!0,maxMinorChars:7,format:v.FORMAT,moment:n,timeAxis:null},this.options=g.extend({},this.defaultOptions),this.body=t,this._create(),this.setOptions(e)}(s.prototype=new i).setOptions=function(t){t&&(g.selectiveExtend(["showMinorLabels","showMajorLabels","maxMinorChars","hiddenDates","timeAxis","moment","rtl"],this.options,t),g.selectiveDeepExtend(["format"],this.options,t),"orientation"in t&&("string"==typeof t.orientation?this.options.orientation.axis=t.orientation:"object"===(0,o.default)(t.orientation)&&"axis"in t.orientation&&(this.options.orientation.axis=t.orientation.axis)),"locale"in t&&("function"==typeof n.locale?n.locale(t.locale):n.lang(t.locale)))},s.prototype._create=function(){this.dom.foreground=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.foreground.className="vis-time-axis vis-foreground",this.dom.background.className="vis-time-axis vis-background"},s.prototype.destroy=function(){this.dom.foreground.parentNode&&this.dom.foreground.parentNode.removeChild(this.dom.foreground),this.dom.background.parentNode&&this.dom.background.parentNode.removeChild(this.dom.background),this.body=null},s.prototype.redraw=function(){var t=this.props,e=this.dom.foreground,i=this.dom.background,o="top"==this.options.orientation.axis?this.body.dom.top:this.body.dom.bottom,n=e.parentNode!==o,s=(this._calculateCharSize(),this.options.showMinorLabels&&"none"!==this.options.orientation.axis),r=this.options.showMajorLabels&&"none"!==this.options.orientation.axis,s=(t.minorLabelHeight=s?t.minorCharHeight:0,t.majorLabelHeight=r?t.majorCharHeight:0,t.height=t.minorLabelHeight+t.majorLabelHeight,t.width=e.offsetWidth,t.minorLineHeight=this.body.domProps.root.height-t.majorLabelHeight-("top"==this.options.orientation.axis?this.body.domProps.bottom:this.body.domProps.top).height,t.minorLineWidth=1,t.majorLineHeight=t.minorLineHeight+t.majorLabelHeight,t.majorLineWidth=1,e.nextSibling),r=i.nextSibling;return e.parentNode&&e.parentNode.removeChild(e),i.parentNode&&i.parentNode.removeChild(i),e.style.height=this.props.height+"px",this._repaintLabels(),s?o.insertBefore(e,s):o.appendChild(e),r?this.body.dom.backgroundVertical.insertBefore(i,r):this.body.dom.backgroundVertical.appendChild(i),this._isResized()||n},s.prototype._repaintLabels=function(){var t,l,e,u,i,o=this.options.orientation.axis,n=g.convert(this.body.range.start,"Number"),s=g.convert(this.body.range.end,"Number"),r=this.body.util.toTime((this.props.minorCharWidth||10)*this.options.maxMinorChars).valueOf(),r=r-y.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this.body.range,r),a=(r-=this.body.util.toTime(0).valueOf(),new v(new Date(n),new Date(s),r,this.body.hiddenDates)),n=(a.setMoment(this.options.moment),this.options.format&&a.setFormat(this.options.format),this.options.timeAxis&&a.setScale(this.options.timeAxis),this.step=a,this.dom),h=(n.redundant.lines=n.lines,n.redundant.majorTexts=n.majorTexts,n.redundant.minorTexts=n.minorTexts,n.lines=[],n.majorTexts=[],n.minorTexts=[],0),d=void 0,c=0;for(a.start(),f=a.getCurrent(),p=this.body.util.toScreen(f);a.hasNext()&&c<1e3;){c++,l=a.isMajor(),i=a.getClassName(),u=a.getLabelMinor(),t=p,a.next();var p,f=a.getCurrent(),m=(a.isMajor(),.4*h<=(h=(p=this.body.util.toScreen(f))-t));this.options.showMinorLabels&&m&&(this._repaintMinorText(t,u,o,i).style.width=h+"px"),l&&this.options.showMajorLabels?(0<t&&(null==d&&(d=t),this._repaintMajorText(t,a.getLabelMajor(),o,i)),e=this._repaintMajorLine(t,h,o,i)):m?e=this._repaintMinorLine(t,h,o,i):e&&(e.style.width=parseInt(e.style.width)+h+"px")}1e3!==c||b||(console.warn("Something is wrong with the Timeline scale. Limited drawing of grid lines to 1000 lines."),b=!0),this.options.showMajorLabels&&(s=this.body.util.toTime(0),n=(r=a.getLabelMajor(s)).length*(this.props.majorCharWidth||10)+10,(null==d||n<d)&&this._repaintMajorText(0,r,o,i)),g.forEach(this.dom.redundant,function(t){for(;t.length;){var e=t.pop();e&&e.parentNode&&e.parentNode.removeChild(e)}})},s.prototype._repaintMinorText=function(t,e,i,o){var n,s=this.dom.redundant.minorTexts.shift();return s||(n=document.createTextNode(""),(s=document.createElement("div")).appendChild(n),this.dom.foreground.appendChild(s)),this.dom.minorTexts.push(s),s.innerHTML=e,s.style.top="top"==i?this.props.majorLabelHeight+"px":"0",this.options.rtl?(s.style.left="",s.style.right=t+"px"):s.style.left=t+"px",s.className="vis-text vis-minor "+o,s},s.prototype._repaintMajorText=function(t,e,i,o){var n,s=this.dom.redundant.majorTexts.shift();return s||(n=document.createElement("div"),(s=document.createElement("div")).appendChild(n),this.dom.foreground.appendChild(s)),s.childNodes[0].innerHTML=e,s.className="vis-text vis-major "+o,s.style.top="top"==i?"0":this.props.minorLabelHeight+"px",this.options.rtl?(s.style.left="",s.style.right=t+"px"):s.style.left=t+"px",this.dom.majorTexts.push(s),s},s.prototype._repaintMinorLine=function(t,e,i,o){var n=this.dom.redundant.lines.shift(),s=(n||(n=document.createElement("div"),this.dom.background.appendChild(n)),this.dom.lines.push(n),this.props);return n.style.top="top"==i?s.majorLabelHeight+"px":this.body.domProps.top.height+"px",n.style.height=s.minorLineHeight+"px",this.options.rtl?(n.style.left="",n.style.right=t-s.minorLineWidth/2+"px",n.className="vis-grid vis-vertical-rtl vis-minor "+o):(n.style.left=t-s.minorLineWidth/2+"px",n.className="vis-grid vis-vertical vis-minor "+o),n.style.width=e+"px",n},s.prototype._repaintMajorLine=function(t,e,i,o){var n=this.dom.redundant.lines.shift(),s=(n||(n=document.createElement("div"),this.dom.background.appendChild(n)),this.dom.lines.push(n),this.props);return n.style.top="top"==i?"0":this.body.domProps.top.height+"px",this.options.rtl?(n.style.left="",n.style.right=t-s.majorLineWidth/2+"px",n.className="vis-grid vis-vertical-rtl vis-major "+o):(n.style.left=t-s.majorLineWidth/2+"px",n.className="vis-grid vis-vertical vis-major "+o),n.style.height=s.majorLineHeight+"px",n.style.width=e+"px",n};var b=!(s.prototype._calculateCharSize=function(){this.dom.measureCharMinor||(this.dom.measureCharMinor=document.createElement("DIV"),this.dom.measureCharMinor.className="vis-text vis-minor vis-measure",this.dom.measureCharMinor.style.position="absolute",this.dom.measureCharMinor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMinor)),this.props.minorCharHeight=this.dom.measureCharMinor.clientHeight,this.props.minorCharWidth=this.dom.measureCharMinor.clientWidth,this.dom.measureCharMajor||(this.dom.measureCharMajor=document.createElement("DIV"),this.dom.measureCharMajor.className="vis-text vis-major vis-measure",this.dom.measureCharMajor.style.position="absolute",this.dom.measureCharMajor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMajor)),this.props.majorCharHeight=this.dom.measureCharMajor.clientHeight,this.props.majorCharWidth=this.dom.measureCharMajor.clientWidth});t.exports=s},function(t,e,i){var o=i(115),n=i(99),s=i(112),r=i(1);function a(e){this.active=!1,this.dom={container:e},this.dom.overlay=document.createElement("div"),this.dom.overlay.className="vis-overlay",this.dom.container.appendChild(this.dom.overlay),this.hammer=s(this.dom.overlay),this.hammer.on("tap",this._onTapOverlay.bind(this));var i=this;["tap","doubletap","press","pinch","pan","panstart","panmove","panend"].forEach(function(t){i.hammer.on(t,function(t){t.stopPropagation()})}),document&&document.body&&(this.onClick=function(t){!function(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}(t.target,e)&&i.deactivate()},document.body.addEventListener("click",this.onClick)),void 0!==this.keycharm&&this.keycharm.destroy(),this.keycharm=o(),this.escListener=this.deactivate.bind(this)}n(a.prototype),a.current=null,a.prototype.destroy=function(){this.deactivate(),this.dom.overlay.parentNode.removeChild(this.dom.overlay),this.onClick&&document.body.removeEventListener("click",this.onClick),this.hammer.destroy(),this.hammer=null},a.prototype.activate=function(){a.current&&a.current.deactivate(),(a.current=this).active=!0,this.dom.overlay.style.display="none",r.addClassName(this.dom.container,"vis-active"),this.emit("change"),this.emit("activate"),this.keycharm.bind("esc",this.escListener)},a.prototype.deactivate=function(){this.active=!1,this.dom.overlay.style.display="",r.removeClassName(this.dom.container,"vis-active"),this.keycharm.unbind("esc",this.escListener),this.emit("change"),this.emit("deactivate")},a.prototype._onTapOverlay=function(t){this.activate(),t.stopPropagation()},t.exports=a},function(t,e,i){var o=i(112),n=i(1),s=i(128),r=i(82),a=i(145);function h(t,e){this.body=t,this.defaultOptions={moment:r,locales:a,locale:"en",id:void 0,title:void 0},this.options=n.extend({},this.defaultOptions),e&&e.time?this.customTime=e.time:this.customTime=new Date,this.eventParams={},this.setOptions(e),this._create()}(h.prototype=new s).setOptions=function(t){t&&n.selectiveExtend(["moment","locale","locales","id"],this.options,t)},h.prototype._create=function(){var t=document.createElement("div"),e=(t["custom-time"]=this,t.className="vis-custom-time "+(this.options.id||""),t.style.position="absolute",t.style.top="0px",t.style.height="100%",this.bar=t,document.createElement("div"));function i(t){this.body.range._onMouseWheel(t)}e.style.position="relative",e.style.top="0px",e.style.left="-10px",e.style.height="100%",e.style.width="20px",e.addEventListener?(e.addEventListener("mousewheel",i.bind(this),!1),e.addEventListener("DOMMouseScroll",i.bind(this),!1)):e.attachEvent("onmousewheel",i.bind(this)),t.appendChild(e),this.hammer=new o(e),this.hammer.on("panstart",this._onDragStart.bind(this)),this.hammer.on("panmove",this._onDrag.bind(this)),this.hammer.on("panend",this._onDragEnd.bind(this)),this.hammer.get("pan").set({threshold:5,direction:o.DIRECTION_HORIZONTAL})},h.prototype.destroy=function(){this.hide(),this.hammer.destroy(),this.hammer=null,this.body=null},h.prototype.redraw=function(){var t=this.body.dom.backgroundVertical,t=(this.bar.parentNode!=t&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),t.appendChild(this.bar)),this.body.util.toScreen(this.customTime)),e=this.options.locales[this.options.locale],i=(e||(this.warned||(console.log("WARNING: options.locales['"+this.options.locale+"'] not found. See http://visjs.org/docs/timeline/#Localization"),this.warned=!0),e=this.options.locales.en),this.options.title);return void 0===i?i=(i=e.time+": "+this.options.moment(this.customTime).format("dddd, MMMM Do YYYY, H:mm:ss")).charAt(0).toUpperCase()+i.substring(1):"function"==typeof i&&(i=i.call(this.customTime)),this.bar.style.left=t+"px",this.bar.title=i,!1},h.prototype.hide=function(){this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar)},h.prototype.setCustomTime=function(t){this.customTime=n.convert(t,"Date"),this.redraw()},h.prototype.getCustomTime=function(){return new Date(this.customTime.valueOf())},h.prototype.setCustomTitle=function(t){this.options.title=t},h.prototype._onDragStart=function(t){this.eventParams.dragging=!0,this.eventParams.customTime=this.customTime,t.stopPropagation()},h.prototype._onDrag=function(t){var e;this.eventParams.dragging&&(e=this.body.util.toScreen(this.eventParams.customTime)+t.deltaX,e=this.body.util.toTime(e),this.setCustomTime(e),this.body.emitter.emit("timechange",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:n.elementsCensor(t)}),t.stopPropagation())},h.prototype._onDragEnd=function(t){this.eventParams.dragging&&(this.body.emitter.emit("timechanged",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:n.elementsCensor(t)}),t.stopPropagation())},h.customTimeFromTarget=function(t){for(var e=t.target;e;){if(e.hasOwnProperty("custom-time"))return e["custom-time"];e=e.parentNode}return null},t.exports=h},function(t,e){e.en={current:"current",time:"time"},e.en_EN=e.en,e.en_US=e.en,e.it={current:"attuale",time:"tempo"},e.it_IT=e.it,e.it_CH=e.it,e.nl={current:"huidige",time:"tijd"},e.nl_NL=e.nl,e.nl_BE=e.nl,e.de={current:"Aktuelle",time:"Zeit"},e.de_DE=e.de,e.fr={current:"actuel",time:"heure"},e.fr_FR=e.fr,e.fr_CA=e.fr,e.fr_BE=e.fr,e.es={current:"corriente",time:"hora"},e.es_ES=e.es},function(t,e,i){var o=i(1),n=i(128),s=i(82),r=i(145);function a(t,e){this.body=t,this.defaultOptions={rtl:!1,showCurrentTime:!0,moment:s,locales:r,locale:"en"},this.options=o.extend({},this.defaultOptions),this.offset=0,this._create(),this.setOptions(e)}(a.prototype=new n)._create=function(){var t=document.createElement("div");t.className="vis-current-time",t.style.position="absolute",t.style.top="0px",t.style.height="100%",this.bar=t},a.prototype.destroy=function(){this.options.showCurrentTime=!1,this.redraw(),this.body=null},a.prototype.setOptions=function(t){t&&o.selectiveExtend(["rtl","showCurrentTime","moment","locale","locales"],this.options,t)},a.prototype.redraw=function(){var t,e,i;return this.options.showCurrentTime?(t=this.body.dom.backgroundVertical,this.bar.parentNode!=t&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),t.appendChild(this.bar),this.start()),t=this.options.moment((new Date).valueOf()+this.offset),e=this.body.util.toScreen(t),(i=this.options.locales[this.options.locale])||(this.warned||(console.log("WARNING: options.locales['"+this.options.locale+"'] not found. See http://visjs.org/docs/timeline/#Localization"),this.warned=!0),i=this.options.locales.en),i=(i=i.current+" "+i.time+": "+t.format("dddd, MMMM Do YYYY, H:mm:ss")).charAt(0).toUpperCase()+i.substring(1),this.options.rtl?this.bar.style.right=e+"px":this.bar.style.left=e+"px",this.bar.title=i):(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),this.stop()),!1},a.prototype.start=function(){var i=this;!function t(){i.stop();var e=1/i.body.range.conversion(i.body.domProps.center.width).scale/10;1e3<(e=e<30?30:e)&&(e=1e3),i.redraw(),i.body.emitter.emit("currentTimeTick"),i.currentTimeTimer=setTimeout(t,e)}()},a.prototype.stop=function(){void 0!==this.currentTimeTimer&&(clearTimeout(this.currentTimeTimer),delete this.currentTimeTimer)},a.prototype.setCurrentTime=function(t){var t=o.convert(t,"Date").valueOf(),e=(new Date).valueOf();this.offset=t-e,this.redraw()},a.prototype.getCurrentTime=function(){return new Date((new Date).valueOf()+this.offset)},t.exports=a},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i="string",o="boolean",n="number",s="date",r="object",a="moment";e.allOptions={configure:{enabled:{boolean:o},filter:{boolean:o,function:"function"},container:{dom:"dom"},__type__:{object:r,boolean:o,function:"function"}},align:{string:i},rtl:{boolean:o,undefined:"undefined"},rollingMode:{boolean:o,undefined:"undefined"},verticalScroll:{boolean:o,undefined:"undefined"},horizontalScroll:{boolean:o,undefined:"undefined"},autoResize:{boolean:o},throttleRedraw:{number:n},clickToUse:{boolean:o},dataAttributes:{string:i,array:"array"},editable:{add:{boolean:o,undefined:"undefined"},remove:{boolean:o,undefined:"undefined"},updateGroup:{boolean:o,undefined:"undefined"},updateTime:{boolean:o,undefined:"undefined"},overrideItems:{boolean:o,undefined:"undefined"},__type__:{boolean:o,object:r}},end:{number:n,date:s,string:i,moment:a},format:{minorLabels:{millisecond:{string:i,undefined:"undefined"},second:{string:i,undefined:"undefined"},minute:{string:i,undefined:"undefined"},hour:{string:i,undefined:"undefined"},weekday:{string:i,undefined:"undefined"},day:{string:i,undefined:"undefined"},month:{string:i,undefined:"undefined"},year:{string:i,undefined:"undefined"},__type__:{object:r,function:"function"}},majorLabels:{millisecond:{string:i,undefined:"undefined"},second:{string:i,undefined:"undefined"},minute:{string:i,undefined:"undefined"},hour:{string:i,undefined:"undefined"},weekday:{string:i,undefined:"undefined"},day:{string:i,undefined:"undefined"},month:{string:i,undefined:"undefined"},year:{string:i,undefined:"undefined"},__type__:{object:r,function:"function"}},__type__:{object:r}},moment:{function:"function"},groupOrder:{string:i,function:"function"},groupEditable:{add:{boolean:o,undefined:"undefined"},remove:{boolean:o,undefined:"undefined"},order:{boolean:o,undefined:"undefined"},__type__:{boolean:o,object:r}},groupOrderSwap:{function:"function"},height:{string:i,number:n},hiddenDates:{start:{date:s,number:n,string:i,moment:a},end:{date:s,number:n,string:i,moment:a},repeat:{string:i},__type__:{object:r,array:"array"}},itemsAlwaysDraggable:{boolean:o},locale:{string:i},locales:{__any__:{any:"any"},__type__:{object:r}},margin:{axis:{number:n},item:{horizontal:{number:n,undefined:"undefined"},vertical:{number:n,undefined:"undefined"},__type__:{object:r,number:n}},__type__:{object:r,number:n}},max:{date:s,number:n,string:i,moment:a},maxHeight:{number:n,string:i},maxMinorChars:{number:n},min:{date:s,number:n,string:i,moment:a},minHeight:{number:n,string:i},moveable:{boolean:o},multiselect:{boolean:o},multiselectPerGroup:{boolean:o},onAdd:{function:"function"},onUpdate:{function:"function"},onMove:{function:"function"},onMoving:{function:"function"},onRemove:{function:"function"},onAddGroup:{function:"function"},onMoveGroup:{function:"function"},onRemoveGroup:{function:"function"},order:{function:"function"},orientation:{axis:{string:i,undefined:"undefined"},item:{string:i,undefined:"undefined"},__type__:{string:i,object:r}},selectable:{boolean:o},showCurrentTime:{boolean:o},showMajorLabels:{boolean:o},showMinorLabels:{boolean:o},stack:{boolean:o},stackSubgroups:{boolean:o},snap:{function:"function",null:"null"},start:{date:s,number:n,string:i,moment:a},template:{function:"function"},groupTemplate:{function:"function"},visibleFrameTemplate:{string:i,function:"function"},tooltip:{followMouse:{boolean:o},overflowMethod:{string:["cap","flip"]},__type__:{object:r}},tooltipOnItemUpdateTime:{template:{function:"function"},__type__:{boolean:o,object:r}},timeAxis:{scale:{string:i,undefined:"undefined"},step:{number:n,undefined:"undefined"},__type__:{object:r}},type:{string:i},width:{string:i,number:n},zoomable:{boolean:o},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:n},zoomMin:{number:n},__type__:{object:r}},e.configureOptions={global:{align:["center","left","right"],direction:!1,autoResize:!0,clickToUse:!1,editable:{add:!1,remove:!1,updateGroup:!1,updateTime:!1},end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",month:"YYYY",year:""}},groupsDraggable:!1,height:"",locale:"",margin:{axis:[20,0,100,1],item:{horizontal:[10,0,100,1],vertical:[10,0,100,1]}},max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!1,multiselect:!1,multiselectPerGroup:!1,orientation:{axis:["both","bottom","top"],item:["bottom","top"]},selectable:!0,showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,stack:!0,stackSubgroups:!0,start:"",tooltip:{followMouse:!1,overflowMethod:"flip"},tooltipOnItemUpdateTime:!1,type:["box","point","range","background"],width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1]}}},function(t,l,e){var i=n(e(118)),o=n(e(126));function n(t){return t&&t.__esModule?t:{default:t}}e(99),e(112);var u=e(82),h=e(1),r=e(89),a=e(93),c=e(127),s=e(130),p=e(142),f=e(146),m=e(144),g=e(149),v=e(126).printStyle,y=e(157).allOptions,b=e(157).configureOptions;function d(t,e,i,o){!(Array.isArray(i)||i instanceof r||i instanceof a)&&i instanceof Object&&(n=o,o=i,i=n),o&&o.throttleRedraw&&console.warn('Graph2d option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.');var n,s=this;this.defaultOptions={start:null,end:null,autoResize:!0,orientation:{axis:"bottom",item:"bottom"},moment:u,width:null,height:null,maxHeight:null,minHeight:null},this.options=h.deepExtend({},this.defaultOptions),this._create(t),this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{toScreen:s._toScreen.bind(s),toGlobalScreen:s._toGlobalScreen.bind(s),toTime:s._toTime.bind(s),toGlobalTime:s._toGlobalTime.bind(s)}},this.range=new c(this.body),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new p(this.body),this.components.push(this.timeAxis),this.currentTime=new f(this.body),this.components.push(this.currentTime),this.linegraph=new g(this.body),this.components.push(this.linegraph),this.itemsData=null,this.groupsData=null,this.on("tap",function(t){s.emit("click",s.getEventProperties(t))}),this.on("doubletap",function(t){s.emit("doubleClick",s.getEventProperties(t))}),this.dom.root.oncontextmenu=function(t){s.emit("contextmenu",s.getEventProperties(t))},o&&this.setOptions(o),i&&this.setGroups(i),e&&this.setItems(e),this._redraw()}(d.prototype=new s).setOptions=function(t){!0===o.default.validate(t,y)&&console.log("%cErrors have been found in the supplied options object.",v),s.prototype.setOptions.call(this,t)},d.prototype.setItems=function(t){var e=null==this.itemsData,t=t?t instanceof r||t instanceof a?t:new r(t,{type:{start:"Date",end:"Date"}}):null;this.itemsData=t,this.linegraph&&this.linegraph.setItems(t),e&&(null!=this.options.start||null!=this.options.end?(t=null!=this.options.start?this.options.start:null,e=null!=this.options.end?this.options.end:null,this.setWindow(t,e,{animation:!1})):this.fit({animation:!1}))},d.prototype.setGroups=function(t){t=t?t instanceof r||t instanceof a?t:new r(t):null;this.groupsData=t,this.linegraph.setGroups(t)},d.prototype.getLegend=function(t,e,i){return void 0===e&&(e=15),void 0===i&&(i=15),void 0!==this.linegraph.groups[t]?this.linegraph.groups[t].getLegend(e,i):"cannot find group:'"+t+"'"},d.prototype.isGroupVisible=function(t){return void 0!==this.linegraph.groups[t]&&(this.linegraph.groups[t].visible&&(void 0===this.linegraph.options.groups.visibility[t]||1==this.linegraph.options.groups.visibility[t]))},d.prototype.getDataRange=function(){var t,e=null,i=null;for(t in this.linegraph.groups)if(this.linegraph.groups.hasOwnProperty(t)&&1==this.linegraph.groups[t].visible)for(var o=0;o<this.linegraph.groups[t].itemsData.length;o++)var n=this.linegraph.groups[t].itemsData[o],n=h.convert(n.x,"Date").valueOf(),e=null==e||n<e?n:e,i=null==i||i<n?n:i;return{min:null!=e?new Date(e):null,max:null!=i?new Date(i):null}},d.prototype.getEventProperties=function(t){var e=t.center?t.center.x:t.clientX,i=t.center?t.center.y:t.clientY,e=e-h.getAbsoluteLeft(this.dom.centerContainer),i=i-h.getAbsoluteTop(this.dom.centerContainer),o=this._toTime(e),n=m.customTimeFromTarget(t),s=h.getTarget(t),r=null,n=(h.hasParent(s,this.timeAxis.dom.foreground)||this.timeAxis2&&h.hasParent(s,this.timeAxis2.dom.foreground)?r="axis":h.hasParent(s,this.linegraph.yAxisLeft.dom.frame)||h.hasParent(s,this.linegraph.yAxisRight.dom.frame)?r="data-axis":h.hasParent(s,this.linegraph.legendLeft.dom.frame)||h.hasParent(s,this.linegraph.legendRight.dom.frame)?r="legend":null!=n?r="custom-time":h.hasParent(s,this.currentTime.bar)?r="current-time":h.hasParent(s,this.dom.center)&&(r="background"),[]),s=this.linegraph.yAxisLeft,a=this.linegraph.yAxisRight;return!s.hidden&&0<this.itemsData.length&&n.push(s.screenToValue(i)),!a.hidden&&0<this.itemsData.length&&n.push(a.screenToValue(i)),{event:t,what:r,pageX:(t.srcEvent||t).pageX,pageY:(t.srcEvent||t).pageY,x:e,y:i,time:o,value:n}},d.prototype._createConfigurator=function(){return new i.default(this,this.dom.container,b)},t.exports=d},function(o,n,t){var e=t(62),a=(e=e)&&e.__esModule?e:{default:e};var f=t(1),l=t(88),s=t(89),r=t(93),e=t(128),h=t(150),d=t(152),p=t(156),u=t(153),c=t(155),g=t(154),m="__ungrouped__";function i(t,e){this.id=f.randomUUID(),this.body=t,this.defaultOptions={yAxisOrientation:"left",defaultGroup:"default",sort:!0,sampling:!0,stack:!1,graphHeight:"400px",shaded:{enabled:!1,orientation:"bottom"},style:"line",barChart:{width:50,sideBySide:!1,align:"center"},interpolation:{enabled:!0,parametrization:"centripetal",alpha:.5},drawPoints:{enabled:!0,size:6,style:"square"},dataAxis:{},legend:{},groups:{visibility:{}}},this.options=f.extend({},this.defaultOptions),this.dom={},this.props={},this.hammer=null,this.groups={},this.abortedGraphUpdate=!1,this.updateSVGheight=!1,this.updateSVGheightOnResize=!1,this.forceGraphUpdate=!0;var o=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(t,e,i){o._onAdd(e.items)},update:function(t,e,i){o._onUpdate(e.items)},remove:function(t,e,i){o._onRemove(e.items)}},this.groupListeners={add:function(t,e,i){o._onAddGroups(e.items)},update:function(t,e,i){o._onUpdateGroups(e.items)},remove:function(t,e,i){o._onRemoveGroups(e.items)}},this.items={},this.selection=[],this.lastStart=this.body.range.start,this.touchParams={},this.svgElements={},this.setOptions(e),this.groupsUsingDefaultStyles=[0],this.body.emitter.on("rangechanged",function(){o.lastStart=o.body.range.start,o.svg.style.left=f.option.asSize(-o.props.width),o.forceGraphUpdate=!0,o.redraw.call(o)}),this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups}}(i.prototype=new e)._create=function(){var t=document.createElement("div");t.className="vis-line-graph",this.dom.frame=t,this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="relative",this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",this.svg.style.display="block",t.appendChild(this.svg),this.options.dataAxis.orientation="left",this.yAxisLeft=new h(this.body,this.options.dataAxis,this.svg,this.options.groups),this.options.dataAxis.orientation="right",this.yAxisRight=new h(this.body,this.options.dataAxis,this.svg,this.options.groups),delete this.options.dataAxis.orientation,this.legendLeft=new p(this.body,this.options.legend,"left",this.options.groups),this.legendRight=new p(this.body,this.options.legend,"right",this.options.groups),this.show()},i.prototype.setOptions=function(t){t&&(void 0===t.graphHeight&&void 0!==t.height?(this.updateSVGheight=!0,this.updateSVGheightOnResize=!0):void 0!==this.body.domProps.centerContainer.height&&void 0!==t.graphHeight&&parseInt((t.graphHeight+"").replace("px",""))<this.body.domProps.centerContainer.height&&(this.updateSVGheight=!0),f.selectiveDeepExtend(["sampling","defaultGroup","stack","height","graphHeight","yAxisOrientation","style","barChart","dataAxis","sort","groups"],this.options,t),f.mergeOptions(this.options,t,"interpolation"),f.mergeOptions(this.options,t,"drawPoints"),f.mergeOptions(this.options,t,"shaded"),f.mergeOptions(this.options,t,"legend"),t.interpolation&&"object"==(0,a.default)(t.interpolation)&&t.interpolation.parametrization&&("uniform"==t.interpolation.parametrization?this.options.interpolation.alpha=0:"chordal"==t.interpolation.parametrization?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5)),this.yAxisLeft&&void 0!==t.dataAxis&&(this.yAxisLeft.setOptions(this.options.dataAxis),this.yAxisRight.setOptions(this.options.dataAxis)),this.legendLeft&&void 0!==t.legend&&(this.legendLeft.setOptions(this.options.legend),this.legendRight.setOptions(this.options.legend)),this.groups.hasOwnProperty(m)&&this.groups[m].setOptions(t)),this.dom.frame&&(this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0}))},i.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)},i.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)},i.prototype.setItems=function(t){var e,i,o=this,n=this.itemsData;if(t){if(!(t instanceof s||t instanceof r))throw new TypeError("Data must be an instance of DataSet or DataView");this.itemsData=t}else this.itemsData=null;n&&(f.forEach(this.itemListeners,function(t,e){n.off(e,t)}),e=n.getIds(),this._onRemove(e)),this.itemsData&&(i=this.id,f.forEach(this.itemListeners,function(t,e){o.itemsData.on(e,t,i)}),e=this.itemsData.getIds(),this._onAdd(e))},i.prototype.setGroups=function(t){var e,i,o=this;if(this.groupsData){f.forEach(this.groupListeners,function(t,e){o.groupsData.off(e,t)}),e=this.groupsData.getIds(),this.groupsData=null;for(var n=0;n<e.length;n++)this._removeGroup(e[n])}if(t){if(!(t instanceof s||t instanceof r))throw new TypeError("Data must be an instance of DataSet or DataView");this.groupsData=t}else this.groupsData=null;this.groupsData&&(i=this.id,f.forEach(this.groupListeners,function(t,e){o.groupsData.on(e,t,i)}),e=this.groupsData.getIds(),this._onAddGroups(e))},i.prototype._onUpdate=function(t){this._updateAllGroupData(t)},i.prototype._onAdd=function(t){this._onUpdate(t)},i.prototype._onRemove=function(t){this._onUpdate(t)},i.prototype._onUpdateGroups=function(t){this._updateAllGroupData(null,t)},i.prototype._onAddGroups=function(t){this._onUpdateGroups(t)},i.prototype._onRemoveGroups=function(t){for(var e=0;e<t.length;e++)this._removeGroup(t[e]);this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})},i.prototype._removeGroup=function(t){this.groups.hasOwnProperty(t)&&("right"==this.groups[t].options.yAxisOrientation?(this.yAxisRight.removeGroup(t),this.legendRight.removeGroup(t),this.legendRight.redraw()):(this.yAxisLeft.removeGroup(t),this.legendLeft.removeGroup(t),this.legendLeft.redraw()),delete this.groups[t])},i.prototype._updateGroup=function(t,e){this.groups.hasOwnProperty(e)?(this.groups[e].update(t),"right"==this.groups[e].options.yAxisOrientation?(this.yAxisRight.updateGroup(e,this.groups[e]),this.legendRight.updateGroup(e,this.groups[e]),this.yAxisLeft.removeGroup(e),this.legendLeft.removeGroup(e)):(this.yAxisLeft.updateGroup(e,this.groups[e]),this.legendLeft.updateGroup(e,this.groups[e]),this.yAxisRight.removeGroup(e),this.legendRight.removeGroup(e))):(this.groups[e]=new d(t,e,this.options,this.groupsUsingDefaultStyles),"right"==this.groups[e].options.yAxisOrientation?(this.yAxisRight.addGroup(e,this.groups[e]),this.legendRight.addGroup(e,this.groups[e])):(this.yAxisLeft.addGroup(e,this.groups[e]),this.legendLeft.addGroup(e,this.groups[e]))),this.legendLeft.redraw(),this.legendRight.redraw()},i.prototype._updateAllGroupData=function(t,l){if(null!=this.itemsData){for(var e,i={},u=this.itemsData.get(),o=this.itemsData._fieldId,c={},n=(t&&t.map(function(t){c[t]=t}),{}),s=0;s<u.length;s++)null==(r=(a=u[s]).group)&&(r=m),n.hasOwnProperty(r)?n[r]++:n[r]=1;if(!l&&t)for(var r in this.groups)this.groups.hasOwnProperty(r)&&(e=(d=this.groups[r]).getItems(),i[r]=e.filter(function(t){return t[o]!==c[t[o]]}),e=n[r],n[r]-=i[r].length,i[r].length<e&&(i[r][e-1]={}));for(var a,h,p,d,s=0;s<u.length;s++)null==(r=(a=u[s]).group)&&(r=m),!l&&t&&a[o]!==c[a[o]]||(i.hasOwnProperty(r)||(i[r]=new Array(n[r])),(h=f.bridgeObject(a)).x=f.convert(a.x,"Date"),h.end=f.convert(a.end,"Date"),h.orginalY=a.y,h.y=Number(a.y),h[o]=a[o],p=i[r].length-n[r]--,i[r][p]=h);for(r in this.groups)this.groups.hasOwnProperty(r)&&(i.hasOwnProperty(r)||(i[r]=new Array(0)));for(r in i)i.hasOwnProperty(r)&&(0==i[r].length?this.groups.hasOwnProperty(r)&&this._removeGroup(r):(d=void 0,null==(d=null!=this.groupsData?this.groupsData.get(r):d)&&(d={id:r,content:this.options.defaultGroup+r}),this._updateGroup(d,r),this.groups[r].setItems(i[r])));this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})}},i.prototype.redraw=function(){var t=!1,e=(this.props.width=this.dom.frame.offsetWidth,this.props.height=this.body.domProps.centerContainer.height-this.body.domProps.border.top-this.body.domProps.border.bottom,t=this._isResized()||t,this.body.range.end-this.body.range.start),i=e!=this.lastVisibleInterval;return this.lastVisibleInterval=e,1==t&&(this.svg.style.width=f.option.asSize(3*this.props.width),this.svg.style.left=f.option.asSize(-this.props.width),-1==(this.options.height+"").indexOf("%")&&1!=this.updateSVGheightOnResize||(this.updateSVGheight=!0)),1==this.updateSVGheight?(this.options.graphHeight!=this.props.height+"px"&&(this.options.graphHeight=this.props.height+"px",this.svg.style.height=this.props.height+"px"),this.updateSVGheight=!1):this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",1==t||1==i||1==this.abortedGraphUpdate||1==this.forceGraphUpdate?(t=this._updateGraph()||t,this.forceGraphUpdate=!1):0!=this.lastStart&&(e=this.body.range.start-this.lastStart,i=this.body.range.end-this.body.range.start,0!=this.props.width&&(i=this.props.width/i,this.svg.style.left=-this.props.width-e*i+"px")),this.legendLeft.redraw(),this.legendRight.redraw(),t},i.prototype._getSortedGroupIds=function(){var t,e,i=[];for(t in this.groups)this.groups.hasOwnProperty(t)&&(1!=(e=this.groups[t]).visible||void 0!==this.options.groups.visibility[t]&&1!=this.options.groups.visibility[t]||i.push({id:t,zIndex:e.options.zIndex}));f.insertSort(i,function(t,e){t=t.zIndex,e=e.zIndex;return(t=void 0===t?0:t)==(e=void 0===e?0:e)?0:t<e?-1:1});for(var o=new Array(i.length),n=0;n<i.length;n++)o[n]=i[n].id;return o},i.prototype._updateGraph=function(){if(l.prepareElements(this.svgElements),0!=this.props.width&&null!=this.itemsData){var t={},e=this.body.util.toGlobalTime(-this.body.domProps.root.width),i=this.body.util.toGlobalTime(2*this.body.domProps.root.width),o=this._getSortedGroupIds();if(0<o.length){var n={};for(this._getRelevantData(o,n,e,i),this._applySampling(o,n),r=0;r<o.length;r++)this._convertXcoordinates(n[o[r]]);if(this._getYRanges(o,n,t),1==this._updateYAxis(o,t))return l.cleanupElements(this.svgElements),this.abortedGraphUpdate=!0;this.abortedGraphUpdate=!1;for(var s=void 0,r=0;r<o.length;r++)h=this.groups[o[r]],!0===this.options.stack&&"line"===this.options.style&&(null!=h.options.excludeFromStacking&&h.options.excludeFromStacking||(null!=s&&(this._stack(n[h.id],n[s.id]),1==h.options.shaded.enabled&&"group"!==h.options.shaded.orientation&&("top"==h.options.shaded.orientation&&"group"!==s.options.shaded.orientation?(s.options.shaded.orientation="group",s.options.shaded.groupId=h.id):(h.options.shaded.orientation="group",h.options.shaded.groupId=s.id))),s=h)),this._convertYcoordinates(n[o[r]],h);var a,h,d={};for(r=0;r<o.length;r++)"line"!==(h=this.groups[o[r]]).options.style||1!=h.options.shaded.enabled||null!=(a=n[o[r]])&&0!=a.length&&(d.hasOwnProperty(o[r])||(d[o[r]]=c.calcPath(a,h)),"group"===h.options.shaded.orientation?(a=h.options.shaded.groupId,-1!==o.indexOf(a)?(d.hasOwnProperty(a)||(d[a]=c.calcPath(n[a],this.groups[a])),c.drawShading(d[o[r]],h,d[a],this.framework)):console.log(h.id+": Unknown shading group target given:"+a)):c.drawShading(d[o[r]],h,void 0,this.framework));for(u.draw(o,n,this.framework),r=0;r<o.length;r++)if(h=this.groups[o[r]],0<n[o[r]].length)switch(h.options.style){case"line":d.hasOwnProperty(o[r])||(d[o[r]]=c.calcPath(n[o[r]],h)),c.draw(d[o[r]],h,this.framework);case"point":case"points":"point"!=h.options.style&&"points"!=h.options.style&&1!=h.options.drawPoints.enabled||g.draw(n[o[r]],h,this.framework)}}}return l.cleanupElements(this.svgElements),!1},i.prototype._stack=function(t,e){for(var i,o,n=0,s=0;s<t.length;s++){for(var r=void 0,a=void 0,h=n;h<e.length;h++){if(e[h].x===t[s].x){r=e[h],a=e[h],n=h;break}if(e[h].x>t[s].x){a=e[h],r=0==h?a:e[h-1],n=h;break}}void 0===a&&(r=e[e.length-1],a=e[e.length-1]),i=a.x-r.x,o=a.y-r.y,t[s].y=0==i?t[s].orginalY+a.y:t[s].orginalY+o/i*(t[s].x-r.x)+r.y}},i.prototype._getRelevantData=function(t,e,l,u){var i,o;if(0<t.length)for(i=0;i<t.length;i++){var n,s=(n=this.groups[t[i]]).getItems();if(1==n.options.sort){for(var r=function(t,e){return t.getTime()==e.getTime()?0:t<e?-1:1},a=Math.max(0,f.binarySearchValue(s,l,"x","before",r)),h=Math.min(s.length,f.binarySearchValue(s,u,"x","after",r)+1),c=(h<=0&&(h=s.length),new Array(h-a)),d=a;d<h;d++)o=n.itemsData[d],c[d-a]=o;e[t[i]]=c}else e[t[i]]=n.itemsData}},i.prototype._applySampling=function(t,e){if(0<t.length)for(var i=0;i<t.length;i++)if(1==this.groups[t[i]].options.sampling){var o=e[t[i]];if(0<o.length){for(var n=o.length,s=n/(this.body.util.toGlobalScreen(o[o.length-1].x)-this.body.util.toGlobalScreen(o[0].x)),r=Math.min(Math.ceil(.2*n),Math.max(1,Math.round(s))),a=new Array(n),h=0;h<n;h+=r)a[Math.round(h/r)]=o[h];e[t[i]]=a.splice(0,Math.round(n/r))}}},i.prototype._getYRanges=function(t,e,i){var o,n,s,r,a=[],h=[];if(0<t.length){for(s=0;s<t.length;s++)o=e[t[s]],r=this.groups[t[s]].options,0<o.length&&(n=this.groups[t[s]],!0===r.stack&&"bar"===r.style?"left"===r.yAxisOrientation?a=a.concat(o):h=h.concat(o):i[t[s]]=n.getYRange(o,t[s]));u.getStackedYRange(a,i,t,"__barStackLeft","left"),u.getStackedYRange(h,i,t,"__barStackRight","right")}},i.prototype._updateYAxis=function(t,e){var i,o,n=!1,s=!1,r=!1,a=1e9,h=1e9,l=-1e9,u=-1e9;if(0<t.length){for(var d=0;d<t.length;d++){var c=this.groups[t[d]];c&&"right"!=c.options.yAxisOrientation?(s=!0,l=-(a=1e9)):c&&c.options.yAxisOrientation&&(r=!0,u=-(h=1e9))}for(d=0;d<t.length;d++)e.hasOwnProperty(t[d])&&!0!==e[t[d]].ignore&&(i=e[t[d]].min,o=e[t[d]].max,"right"!=e[t[d]].yAxisOrientation?(s=!0,a=i<a?i:a,l=l<o?o:l):(r=!0,h=i<h?i:h,u=u<o?o:u));1==s&&this.yAxisLeft.setRange(a,l),1==r&&this.yAxisRight.setRange(h,u)}n=this._toggleAxisVisiblity(s,this.yAxisLeft)||n,n=this._toggleAxisVisiblity(r,this.yAxisRight)||n,1==r&&1==s?(this.yAxisLeft.drawIcons=!0,this.yAxisRight.drawIcons=!0):(this.yAxisLeft.drawIcons=!1,this.yAxisRight.drawIcons=!1),this.yAxisRight.master=!s,this.yAxisRight.masterAxis=this.yAxisLeft;0==this.yAxisRight.master&&(this.yAxisLeft.lineOffset=1==r?this.yAxisRight.width:0,n=this.yAxisLeft.redraw()||n);for(var n=this.yAxisRight.redraw()||n,p=["__barStackLeft","__barStackRight","__lineStackLeft","__lineStackRight"],d=0;d<p.length;d++)-1!=t.indexOf(p[d])&&t.splice(t.indexOf(p[d]),1);return n},i.prototype._toggleAxisVisiblity=function(t,e){var i=!1;return 0==t?e.dom.frame.parentNode&&0==e.hidden&&(e.hide(),i=!0):e.dom.frame.parentNode||1!=e.hidden||(e.show(),i=!0),i},i.prototype._convertXcoordinates=function(t){for(var e=this.body.util.toScreen,i=0;i<t.length;i++)t[i].screen_x=e(t[i].x)+this.props.width,t[i].screen_y=t[i].y,null!=t[i].end?t[i].screen_end=e(t[i].end)+this.props.width:t[i].screen_end=void 0},i.prototype._convertYcoordinates=function(t,e){var i=this.yAxisLeft,o=Number(this.svg.style.height.replace("px",""));"right"==e.options.yAxisOrientation&&(i=this.yAxisRight);for(var n=0;n<t.length;n++)t[n].screen_y=Math.round(i.convertValue(t[n].y));e.setZeroPosition(Math.min(o,i.convertValue(0)))},o.exports=i},function(t,e,i){var o=i(58),r=(o=o)&&o.__esModule?o:{default:o};var s=i(1),a=i(88),o=i(128),h=i(151);function n(t,e,i,o){this.id=s.randomUUID(),this.body=t,this.defaultOptions={orientation:"left",showMinorLabels:!0,showMajorLabels:!0,icons:!1,majorLinesOffset:7,minorLinesOffset:4,labelOffsetX:10,labelOffsetY:2,iconWidth:20,width:"40px",visible:!0,alignZeros:!0,left:{range:{min:void 0,max:void 0},format:function(t){return""+parseFloat(t.toPrecision(3))},title:{text:void 0,style:void 0}},right:{range:{min:void 0,max:void 0},format:function(t){return""+parseFloat(t.toPrecision(3))},title:{text:void 0,style:void 0}}},this.linegraphOptions=o,this.linegraphSVG=i,this.props={},this.DOMelements={lines:{},labels:{},title:{}},this.dom={},this.scale=void 0,this.range={start:0,end:0},this.options=s.extend({},this.defaultOptions),this.conversionFactor=1,this.setOptions(e),this.width=Number((""+this.options.width).replace("px","")),this.minWidth=this.width,this.height=this.linegraphSVG.getBoundingClientRect().height,this.hidden=!1,this.stepPixels=25,this.zeroCrossing=-1,this.amountOfSteps=-1,this.lineOffset=0,this.master=!0,this.masterAxis=null,this.svgElements={},this.iconsRemoved=!1,this.groups={},this.amountOfGroups=0,this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups};var n=this;this.body.emitter.on("verticalDrag",function(){n.dom.lineContainer.style.top=n.body.domProps.scrollTop+"px"})}(n.prototype=new o).addGroup=function(t,e){this.groups.hasOwnProperty(t)||(this.groups[t]=e),this.amountOfGroups+=1},n.prototype.updateGroup=function(t,e){this.groups.hasOwnProperty(t)||(this.amountOfGroups+=1),this.groups[t]=e},n.prototype.removeGroup=function(t){this.groups.hasOwnProperty(t)&&(delete this.groups[t],--this.amountOfGroups)},n.prototype.setOptions=function(t){var e;t&&(e=!1,this.options.orientation!=t.orientation&&void 0!==t.orientation&&(e=!0),s.selectiveDeepExtend(["orientation","showMinorLabels","showMajorLabels","icons","majorLinesOffset","minorLinesOffset","labelOffsetX","labelOffsetY","iconWidth","width","visible","left","right","alignZeros"],this.options,t),this.minWidth=Number((""+this.options.width).replace("px","")),!0===e&&this.dom.frame&&(this.hide(),this.show()))},n.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.style.width=this.options.width,this.dom.frame.style.height=this.height,this.dom.lineContainer=document.createElement("div"),this.dom.lineContainer.style.width="100%",this.dom.lineContainer.style.height=this.height,this.dom.lineContainer.style.position="relative",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.height="100%",this.svg.style.width="100%",this.svg.style.display="block",this.dom.frame.appendChild(this.svg)},n.prototype._redrawGroupIcons=function(){a.prepareElements(this.svgElements);var t=this.options.iconWidth,e=11.5,i="left"===this.options.orientation?4:this.width-t-4,o=(0,r.default)(this.groups);o.sort(function(t,e){return t<e?-1:1});for(var n=0;n<o.length;n++){var s=o[n];!0!==this.groups[s].visible||void 0!==this.linegraphOptions.visibility[s]&&!0!==this.linegraphOptions.visibility[s]||(this.groups[s].getLegend(t,15,this.framework,i,e),e+=19)}a.cleanupElements(this.svgElements),this.iconsRemoved=!1},n.prototype._cleanupIcons=function(){!1===this.iconsRemoved&&(a.prepareElements(this.svgElements),a.cleanupElements(this.svgElements),this.iconsRemoved=!0)},n.prototype.show=function(){this.hidden=!1,this.dom.frame.parentNode||("left"===this.options.orientation?this.body.dom.left:this.body.dom.right).appendChild(this.dom.frame),this.dom.lineContainer.parentNode||this.body.dom.backgroundHorizontal.appendChild(this.dom.lineContainer)},n.prototype.hide=function(){this.hidden=!0,this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.lineContainer.parentNode&&this.dom.lineContainer.parentNode.removeChild(this.dom.lineContainer)},n.prototype.setRange=function(t,e){this.range.start=t,this.range.end=e},n.prototype.redraw=function(){var t,e,i,o,n,s,r=!1,a=0;for(t in this.dom.lineContainer.style.top=this.body.domProps.scrollTop+"px",this.groups)this.groups.hasOwnProperty(t)&&(!0!==this.groups[t].visible||void 0!==this.linegraphOptions.visibility[t]&&!0!==this.linegraphOptions.visibility[t]||a++);return 0===this.amountOfGroups||0===a?this.hide():(this.show(),this.height=Number(this.linegraphSVG.style.height.replace("px","")),this.dom.lineContainer.style.height=this.height+"px",this.width=!0===this.options.visible?Number((""+this.options.width).replace("px","")):0,e=this.props,(i=this.dom.frame).className="vis-data-axis",this._calculateCharSize(),o=this.options.orientation,n=this.options.showMinorLabels,s=this.options.showMajorLabels,e.minorLabelHeight=n?e.minorCharHeight:0,e.majorLabelHeight=s?e.majorCharHeight:0,e.minorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.minorLinesOffset,e.minorLineHeight=1,e.majorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.majorLinesOffset,e.majorLineHeight=1,"left"===o?(i.style.top="0",i.style.left="0",i.style.bottom="",i.style.width=this.width+"px",i.style.height=this.height+"px",this.props.width=this.body.domProps.left.width,this.props.height=this.body.domProps.left.height):(i.style.top="",i.style.bottom="0",i.style.left="0",i.style.width=this.width+"px",i.style.height=this.height+"px",this.props.width=this.body.domProps.right.width,this.props.height=this.body.domProps.right.height),r=this._redrawLabels(),r=this._isResized()||r,!0===this.options.icons?this._redrawGroupIcons():this._cleanupIcons(),this._redrawTitle(o)),r},n.prototype._redrawLabels=function(){var o=this,n=(a.prepareElements(this.DOMelements.lines),a.prepareElements(this.DOMelements.labels),this.options.orientation),t=null!=this.options[n].range?this.options[n].range:{},e=!0,i=(null!=t.max&&(this.range.end=t.max,e=!1),!0);null!=t.min&&(this.range.start=t.min,i=!1),this.scale=new h(this.range.start,this.range.end,i,e,this.dom.frame.offsetHeight,this.props.majorCharHeight,this.options.alignZeros,this.options[n].format),!1===this.master&&null!=this.masterAxis&&this.scale.followScale(this.masterAxis.scale),this.maxLabelSize=0;this.scale.getLines().forEach(function(t){var e=t.y,i=t.major;o.options.showMinorLabels&&!1===i&&o._redrawLabel(e-2,t.val,n,"vis-y-axis vis-minor",o.props.minorCharHeight),i&&0<=e&&o._redrawLabel(e-2,t.val,n,"vis-y-axis vis-major",o.props.majorCharHeight),!0===o.master&&(i?o._redrawLine(e,n,"vis-grid vis-horizontal vis-major",o.options.majorLinesOffset,o.props.majorLineWidth):o._redrawLine(e,n,"vis-grid vis-horizontal vis-minor",o.options.minorLinesOffset,o.props.minorLineWidth))});t=0,void 0!==this.options[n].title&&void 0!==this.options[n].title.text&&(t=this.props.titleCharHeight),i=!0===this.options.icons?Math.max(this.options.iconWidth,t)+this.options.labelOffsetX+15:t+this.options.labelOffsetX+15;return this.maxLabelSize>this.width-i&&!0===this.options.visible?(this.width=this.maxLabelSize+i,this.options.width=this.width+"px",a.cleanupElements(this.DOMelements.lines),a.cleanupElements(this.DOMelements.labels),this.redraw(),!0):this.maxLabelSize<this.width-i&&!0===this.options.visible&&this.width>this.minWidth?(this.width=Math.max(this.minWidth,this.maxLabelSize+i),this.options.width=this.width+"px",a.cleanupElements(this.DOMelements.lines),a.cleanupElements(this.DOMelements.labels),this.redraw(),!0):(a.cleanupElements(this.DOMelements.lines),a.cleanupElements(this.DOMelements.labels),!1)},n.prototype.convertValue=function(t){return this.scale.convertValue(t)},n.prototype.screenToValue=function(t){return this.scale.screenToValue(t)},n.prototype._redrawLabel=function(t,e,i,o,n){var s=a.getDOMElement("div",this.DOMelements.labels,this.dom.frame),o=(s.className=o,s.innerHTML=e,"left"===i?(s.style.left="-"+this.options.labelOffsetX+"px",s.style.textAlign="right"):(s.style.right="-"+this.options.labelOffsetX+"px",s.style.textAlign="left"),s.style.top=t-.5*n+this.options.labelOffsetY+"px",e+="",Math.max(this.props.majorCharWidth,this.props.minorCharWidth));this.maxLabelSize<e.length*o&&(this.maxLabelSize=e.length*o)},n.prototype._redrawLine=function(t,e,i,o,n){var s;!0===this.master&&((s=a.getDOMElement("div",this.DOMelements.lines,this.dom.lineContainer)).className=i,s.innerHTML="","left"===e?s.style.left=this.width-o+"px":s.style.right=this.width-o+"px",s.style.width=n+"px",s.style.top=t+"px")},n.prototype._redrawTitle=function(t){var e;a.prepareElements(this.DOMelements.title),void 0!==this.options[t].title&&void 0!==this.options[t].title.text&&((e=a.getDOMElement("div",this.DOMelements.title,this.dom.frame)).className="vis-y-axis vis-title vis-"+t,e.innerHTML=this.options[t].title.text,void 0!==this.options[t].title.style&&s.addCssText(e,this.options[t].title.style),"left"===t?e.style.left=this.props.titleCharHeight+"px":e.style.right=this.props.titleCharHeight+"px",e.style.width=this.height+"px"),a.cleanupElements(this.DOMelements.title)},n.prototype._calculateCharSize=function(){var t,e;"minorCharHeight"in this.props||(t=document.createTextNode("0"),(e=document.createElement("div")).className="vis-y-axis vis-minor vis-measure",e.appendChild(t),this.dom.frame.appendChild(e),this.props.minorCharHeight=e.clientHeight,this.props.minorCharWidth=e.clientWidth,this.dom.frame.removeChild(e)),"majorCharHeight"in this.props||(t=document.createTextNode("0"),(e=document.createElement("div")).className="vis-y-axis vis-major vis-measure",e.appendChild(t),this.dom.frame.appendChild(e),this.props.majorCharHeight=e.clientHeight,this.props.majorCharWidth=e.clientWidth,this.dom.frame.removeChild(e)),"titleCharHeight"in this.props||(t=document.createTextNode("0"),(e=document.createElement("div")).className="vis-y-axis vis-title vis-measure",e.appendChild(t),this.dom.frame.appendChild(e),this.props.titleCharHeight=e.clientHeight,this.props.titleCharWidth=e.clientWidth,this.dom.frame.removeChild(e))},t.exports=n},function(t,e){function i(t,e,i,o,n,s){var r,a=6<arguments.length&&void 0!==arguments[6]&&arguments[6],h=7<arguments.length&&void 0!==arguments[7]&&arguments[7];this.majorSteps=[1,2,5,10],this.minorSteps=[.25,.5,1,2],this.customLines=null,this.containerHeight=n,this.majorCharHeight=s,this._start=t,this._end=e,this.scale=1,this.minorStepIdx=-1,this.magnitudefactor=1,this.determineScale(),this.zeroAlign=a,this.autoScaleStart=i,this.autoScaleEnd=o,this.formattingFunction=h,(i||o)&&(r=this,n=function(t){var e=t-t%(r.magnitudefactor*r.minorSteps[r.minorStepIdx]);return t%(r.magnitudefactor*r.minorSteps[r.minorStepIdx])>r.magnitudefactor*r.minorSteps[r.minorStepIdx]*.5?e+r.magnitudefactor*r.minorSteps[r.minorStepIdx]:e},i&&(this._start-=2*this.magnitudefactor*this.minorSteps[this.minorStepIdx],this._start=n(this._start)),o&&(this._end+=this.magnitudefactor*this.minorSteps[this.minorStepIdx],this._end=n(this._end)),this.determineScale())}i.prototype.setCharHeight=function(t){this.majorCharHeight=t},i.prototype.setHeight=function(t){this.containerHeight=t},i.prototype.determineScale=function(){for(var t=this._end-this._start,e=(this.scale=this.containerHeight/t,this.majorCharHeight/this.scale),i=0<t?Math.round(Math.log(t)/Math.LN10):0,t=(this.minorStepIdx=-1,this.magnitudefactor=Math.pow(10,i),0),o=!1,n=t=i<0?i:t;Math.abs(n)<=Math.abs(i);n++){this.magnitudefactor=Math.pow(10,n);for(var s=0;s<this.minorSteps.length;s++)if(e<=this.magnitudefactor*this.minorSteps[s]){o=!0,this.minorStepIdx=s;break}if(!0===o)break}},i.prototype.is_major=function(t){return t%(this.magnitudefactor*this.majorSteps[this.minorStepIdx])==0},i.prototype.getStep=function(){return this.magnitudefactor*this.minorSteps[this.minorStepIdx]},i.prototype.getFirstMajor=function(){var t=this.magnitudefactor*this.majorSteps[this.minorStepIdx];return this.convertValue(this._start+(t-this._start%t)%t)},i.prototype.formatValue=function(t){var e=t.toPrecision(5);return"number"==typeof(e="function"==typeof this.formattingFunction?this.formattingFunction(t):e)?""+e:"string"==typeof e?e:t.toPrecision(5)},i.prototype.getLines=function(){for(var t=[],e=this.getStep(),i=(e-this._start%e)%e,o=this._start+i;1e-5<this._end-o;o+=e)o!=this._start&&t.push({major:this.is_major(o),y:this.convertValue(o),val:this.formatValue(o)});return t},i.prototype.followScale=function(t){for(var e=this.minorStepIdx,i=this._start,o=this._end,n=this,s=function(){n.magnitudefactor*=2},r=function(){n.magnitudefactor/=2},l=(t.minorStepIdx<=1&&this.minorStepIdx<=1||1<t.minorStepIdx&&1<this.minorStepIdx||(t.minorStepIdx<this.minorStepIdx?(this.minorStepIdx=1,2==e||s(),s()):(this.minorStepIdx=2,1==e||r(),r())),t.getLines(),t.convertValue(0)),u=t.getStep()*t.scale,a=!1,c=0;!a&&c++<5;){this.scale=u/(this.minorSteps[this.minorStepIdx]*this.magnitudefactor);var h=this.containerHeight/this.scale,p=(this._start=i,this._end=this._start+h,this._end*this.scale),f=this.magnitudefactor*this.majorSteps[this.minorStepIdx],d=this.getFirstMajor()-t.getFirstMajor();if(this.zeroAlign?(this._end+=(l-p)/this.scale,this._start=this._end-h):(this.autoScaleStart?this._start-=d/this.scale:this._start+=f-d/this.scale,this._end=this._start+h),!this.autoScaleEnd&&this._end>o+1e-5)r(),a=!1;else{if(!this.autoScaleStart&&this._start<i-1e-5){if(!(this.zeroAlign&&0<=i)){r(),a=!1;continue}console.warn("Can't adhere to given 'min' range, due to zeroalign")}a=!(this.autoScaleStart&&this.autoScaleEnd&&h<o-i)||(s(),!1)}}},i.prototype.convertValue=function(t){return this.containerHeight-(t-this._start)*this.scale},i.prototype.screenToValue=function(t){return(this.containerHeight-t)/this.scale+this._start},t.exports=i},function(t,d,e){var i=e(62),o=(i=i)&&i.__esModule?i:{default:i};var n=e(1),s=(e(88),e(153)),r=e(155),a=e(154);function h(t,e,i,o){this.id=e;this.options=n.selectiveBridgeObject(["sampling","style","sort","yAxisOrientation","barChart","drawPoints","shaded","interpolation","zIndex","excludeFromStacking","excludeFromLegend"],i),this.usingDefaultStyle=void 0===t.className,this.groupsUsingDefaultStyles=o,this.zeroPosition=0,this.update(t),1==this.usingDefaultStyle&&(this.groupsUsingDefaultStyles[0]+=1),this.itemsData=[],this.visible=void 0===t.visible||t.visible}h.prototype.setItems=function(t){null!=t?(this.itemsData=t,1==this.options.sort&&n.insertSort(this.itemsData,function(t,e){return t.x>e.x?1:-1})):this.itemsData=[]},h.prototype.getItems=function(){return this.itemsData},h.prototype.setZeroPosition=function(t){this.zeroPosition=t},h.prototype.setOptions=function(t){void 0!==t&&(n.selectiveDeepExtend(["sampling","style","sort","yAxisOrientation","barChart","zIndex","excludeFromStacking","excludeFromLegend"],this.options,t),"function"==typeof t.drawPoints&&(t.drawPoints={onRender:t.drawPoints}),n.mergeOptions(this.options,t,"interpolation"),n.mergeOptions(this.options,t,"drawPoints"),n.mergeOptions(this.options,t,"shaded"),t.interpolation&&"object"==(0,o.default)(t.interpolation)&&t.interpolation.parametrization&&("uniform"==t.interpolation.parametrization?this.options.interpolation.alpha=0:"chordal"==t.interpolation.parametrization?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5)))},h.prototype.update=function(t){this.group=t,this.content=t.content||"graph",this.className=t.className||this.className||"vis-graph-group"+this.groupsUsingDefaultStyles[0]%10,this.visible=void 0===t.visible||t.visible,this.style=t.style,this.setOptions(t.options)},h.prototype.getLegend=function(t,e,i,o,n){switch(null==i&&(i={svg:document.createElementNS("http://www.w3.org/2000/svg","svg"),svgElements:{},options:this.options,groups:[this]}),null==o&&(o=0),null==n&&(n=.5*e),this.options.style){case"line":r.drawIcon(this,o,n,t,e,i);break;case"points":case"point":a.drawIcon(this,o,n,t,e,i);break;case"bar":s.drawIcon(this,o,n,t,e,i)}return{icon:i.svg,label:this.content,orientation:this.options.yAxisOrientation}},h.prototype.getYRange=function(t){for(var e=t[0].y,i=t[0].y,o=0;o<t.length;o++)e=e>t[o].y?t[o].y:e,i=i<t[o].y?t[o].y:i;return{min:e,max:i,yAxisOrientation:this.options.yAxisOrientation}},t.exports=h},function(t,e,i){var m=i(88),g=i(154);function v(t,e){}v.drawIcon=function(t,e,i,o,n,s){var r=.5*n,a=m.getSVGElement("rect",s.svgElements,s.svg),a=(a.setAttributeNS(null,"x",e),a.setAttributeNS(null,"y",i-r),a.setAttributeNS(null,"width",o),a.setAttributeNS(null,"height",2*r),a.setAttributeNS(null,"class","vis-outline"),Math.round(.3*o)),h=t.options.barChart.width/a,d=Math.round(.4*n),n=Math.round(.75*n),o=Math.round((o-2*a)/3);m.drawBar(e+.5*a+o,i+r-d-1,a,d,t.className+" vis-bar",s.svgElements,s.svg,t.style),m.drawBar(e+1.5*a+o+2,i+r-n-1,a,n,t.className+" vis-bar",s.svgElements,s.svg,t.style),1==t.options.drawPoints.enabled&&(h={style:t.options.drawPoints.style,styles:t.options.drawPoints.styles,size:t.options.drawPoints.size/h,className:t.className},m.drawPoint(e+.5*a+o,i+r-d-1,h,s.svgElements,s.svg),m.drawPoint(e+1.5*a+o+2,i+r-n-1,h,s.svgElements,s.svg))},v.draw=function(t,e,i){for(var l,o,n,s=[],r={},u=0,a=0;a<t.length;a++)if("bar"===(h=i.groups[t[a]]).options.style&&!0===h.visible&&(void 0===i.options.groups.visibility[t[a]]||!0===i.options.groups.visibility[t[a]]))for(n=0;n<e[t[a]].length;n++)s.push({screen_x:e[t[a]][n].screen_x,screen_end:e[t[a]][n].screen_end,screen_y:e[t[a]][n].screen_y,x:e[t[a]][n].x,end:e[t[a]][n].end,y:e[t[a]][n].y,groupId:t[a],label:e[t[a]][n].label}),u+=1;if(0!==u)for(s.sort(function(t,e){return t.screen_x===e.screen_x?t.groupId<e.groupId?-1:1:t.screen_x-e.screen_x}),v._getDataIntersections(r,s),a=0;a<s.length;a++){var h,d,c=null!=(h=i.groups[s[a].groupId]).options.barChart.minWidth?h.options.barChart.minWidth:.1*h.options.barChart.width,p=0,f=(void 0===r[d=s[a].screen_x]?(a+1<s.length&&(l=Math.abs(s[a+1].screen_x-d)),o=v._getSafeDrawData(l,h,c)):(f=a+(r[d].amount-r[d].resolved),r[d].resolved,f<s.length&&(l=Math.abs(s[f].screen_x-d)),o=v._getSafeDrawData(l,h,c),r[d].resolved+=1,!0===h.options.stack&&!0!==h.options.excludeFromStacking?s[a].screen_y<h.zeroPosition?(p=r[d].accumulatedNegative,r[d].accumulatedNegative+=h.zeroPosition-s[a].screen_y):(p=r[d].accumulatedPositive,r[d].accumulatedPositive+=h.zeroPosition-s[a].screen_y):!0===h.options.barChart.sideBySide&&(o.width=o.width/r[d].amount,o.offset+=r[d].resolved*o.width-.5*o.width*(r[d].amount+1))),o.width),c=s[a].screen_x;null!=s[a].screen_end?c+=.5*(f=s[a].screen_end-s[a].screen_x):c+=o.offset,m.drawBar(c,s[a].screen_y-p,f,h.zeroPosition-s[a].screen_y,h.className+" vis-bar",i.svgElements,i.svg,h.style),!0===h.options.drawPoints.enabled&&(d={screen_x:s[a].screen_x,screen_y:s[a].screen_y-p,x:s[a].x,y:s[a].y,groupId:s[a].groupId,label:s[a].label},g.draw([d],h,i,o.offset))}},v._getDataIntersections=function(t,e){for(var i,o=0;o<e.length;o++)o+1<e.length&&(i=Math.abs(e[o+1].screen_x-e[o].screen_x)),0===(i=0<o?Math.min(i,Math.abs(e[o-1].screen_x-e[o].screen_x)):i)&&(void 0===t[e[o].screen_x]&&(t[e[o].screen_x]={amount:0,resolved:0,accumulatedPositive:0,accumulatedNegative:0}),t[e[o].screen_x].amount+=1)},v._getSafeDrawData=function(t,e,i){var o,n;return t<e.options.barChart.width&&0<t?(o=t<i?i:t,n=0,"left"===e.options.barChart.align?n-=.5*t:"right"===e.options.barChart.align&&(n+=.5*t)):(o=e.options.barChart.width,n=0,"left"===e.options.barChart.align?n-=.5*e.options.barChart.width:"right"===e.options.barChart.align&&(n+=.5*e.options.barChart.width)),{width:o,offset:n}},v.getStackedYRange=function(t,e,i,o,n){var s;0<t.length&&(t.sort(function(t,e){return t.screen_x===e.screen_x?t.groupId<e.groupId?-1:1:t.screen_x-e.screen_x}),v._getDataIntersections(s={},t),e[o]=v._getStackedYRange(s,t),e[o].yAxisOrientation=n,i.push(o))},v._getStackedYRange=function(t,e){for(var i,o,n=e[0].screen_y,s=e[0].screen_y,r=0;r<e.length;r++)void 0===t[i=e[r].screen_x]?(n=n>e[r].screen_y?e[r].screen_y:n,s=s<e[r].screen_y?e[r].screen_y:s):e[r].screen_y<0?t[i].accumulatedNegative+=e[r].screen_y:t[i].accumulatedPositive+=e[r].screen_y;for(o in t)t.hasOwnProperty(o)&&(n=(n=n>t[o].accumulatedNegative?t[o].accumulatedNegative:n)>t[o].accumulatedPositive?t[o].accumulatedPositive:n,s=(s=s<t[o].accumulatedNegative?t[o].accumulatedNegative:s)<t[o].accumulatedPositive?t[o].accumulatedPositive:s);return{min:n,max:s}},t.exports=v},function(t,e,i){var o=i(62),a=(o=o)&&o.__esModule?o:{default:o};var h=i(88);function n(t,e){}function d(t,e){return{style:(e=void 0===e?{}:e).style||t.options.drawPoints.style,styles:e.styles||t.options.drawPoints.styles,size:e.size||t.options.drawPoints.size,className:e.className||t.className}}n.draw=function(t,e,i,o){o=o||0;for(var n,s=function(t,e){var i=void 0;t.options&&t.options.drawPoints&&t.options.drawPoints.onRender&&"function"==typeof t.options.drawPoints.onRender&&(i=t.options.drawPoints.onRender);e.group.options&&e.group.options.drawPoints&&e.group.options.drawPoints.onRender&&"function"==typeof e.group.options.drawPoints.onRender&&(i=e.group.options.drawPoints.onRender);return i}(i,e),r=0;r<t.length;r++)s?!0!==(n=s(t[r],e))&&"object"!==(void 0===n?"undefined":(0,a.default)(n))||h.drawPoint(t[r].screen_x+o,t[r].screen_y,d(e,n),i.svgElements,i.svg,t[r].label):h.drawPoint(t[r].screen_x+o,t[r].screen_y,d(e),i.svgElements,i.svg,t[r].label)},n.drawIcon=function(t,e,i,o,n,s){var n=.5*n,r=h.getSVGElement("rect",s.svgElements,s.svg);r.setAttributeNS(null,"x",e),r.setAttributeNS(null,"y",i-n),r.setAttributeNS(null,"width",o),r.setAttributeNS(null,"height",2*n),r.setAttributeNS(null,"class","vis-outline"),h.drawPoint(e+.5*o,i,d(t),s.svgElements,s.svg)},t.exports=n},function(t,e,i){var a=i(88);function o(t,e){}o.calcPath=function(t,e){if(null!=t&&0<t.length)return 1==e.options.interpolation.enabled?o._catmullRom(t,e):o._linear(t)},o.drawIcon=function(t,e,i,o,n,s){var n=.5*n,r=a.getSVGElement("rect",s.svgElements,s.svg);r.setAttributeNS(null,"x",e),r.setAttributeNS(null,"y",i-n),r.setAttributeNS(null,"width",o),r.setAttributeNS(null,"height",2*n),r.setAttributeNS(null,"class","vis-outline"),(r=a.getSVGElement("path",s.svgElements,s.svg)).setAttributeNS(null,"class",t.className),void 0!==t.style&&r.setAttributeNS(null,"style",t.style),r.setAttributeNS(null,"d","M"+e+","+i+" L"+(e+o)+","+i),1==t.options.shaded.enabled&&(r=a.getSVGElement("path",s.svgElements,s.svg),"top"==t.options.shaded.orientation?r.setAttributeNS(null,"d","M"+e+", "+(i-n)+"L"+e+","+i+" L"+(e+o)+","+i+" L"+(e+o)+","+(i-n)):r.setAttributeNS(null,"d","M"+e+","+i+" L"+e+","+(i+n)+" L"+(e+o)+","+(i+n)+"L"+(e+o)+","+i),r.setAttributeNS(null,"class",t.className+" vis-icon-fill"),void 0!==t.options.shaded.style&&""!==t.options.shaded.style&&r.setAttributeNS(null,"style",t.options.shaded.style)),1==t.options.drawPoints.enabled&&(n={style:t.options.drawPoints.style,styles:t.options.drawPoints.styles,size:t.options.drawPoints.size,className:t.className},a.drawPoint(e+.5*o,i,n,s.svgElements,s.svg))},o.drawShading=function(t,e,i,o){var n,s,r;1==e.options.shaded.enabled&&(r=Number(o.svg.style.height.replace("px","")),o=a.getSVGElement("path",o.svgElements,o.svg),n="L",1==e.options.interpolation.enabled&&(n="C"),s=0,s="top"==e.options.shaded.orientation?0:"bottom"==e.options.shaded.orientation?r:Math.min(Math.max(0,e.zeroPosition),r),r="group"==e.options.shaded.orientation&&null!=i&&null!=i?"M"+t[0][0]+","+t[0][1]+" "+this.serializePath(t,n,!1)+" L"+i[i.length-1][0]+","+i[i.length-1][1]+" "+this.serializePath(i,n,!0)+i[0][0]+","+i[0][1]+" Z":"M"+t[0][0]+","+t[0][1]+" "+this.serializePath(t,n,!1)+" V"+s+" H"+t[0][0]+" Z",o.setAttributeNS(null,"class",e.className+" vis-fill"),void 0!==e.options.shaded.style&&o.setAttributeNS(null,"style",e.options.shaded.style),o.setAttributeNS(null,"d",r))},o.draw=function(t,e,i){var o;null!=t&&((i=a.getSVGElement("path",i.svgElements,i.svg)).setAttributeNS(null,"class",e.className),void 0!==e.style&&i.setAttributeNS(null,"style",e.style),o="L",1==e.options.interpolation.enabled&&(o="C"),i.setAttributeNS(null,"d","M"+t[0][0]+","+t[0][1]+" "+this.serializePath(t,o,!1)))},o.serializePath=function(t,e,i){if(t.length<2)return"";var o=e;if(i)for(var n=t.length-2;0<n;n--)o+=t[n][0]+","+t[n][1]+" ";else for(n=1;n<t.length;n++)o+=t[n][0]+","+t[n][1]+" ";return o},o._catmullRomUniform=function(t){for(var e,i,o,n,s=[],r=(s.push([Math.round(t[0].screen_x),Math.round(t[0].screen_y)]),t.length),a=0;a<r-1;a++)o=0==a?t[0]:t[a-1],n=t[a],e=t[a+1],i=a+2<r?t[a+2]:e,o={screen_x:(-o.screen_x+6*n.screen_x+e.screen_x)*(1/6),screen_y:(-o.screen_y+6*n.screen_y+e.screen_y)*(1/6)},n={screen_x:(n.screen_x+6*e.screen_x-i.screen_x)*(1/6),screen_y:(n.screen_y+6*e.screen_y-i.screen_y)*(1/6)},s.push([o.screen_x,o.screen_y]),s.push([n.screen_x,n.screen_y]),s.push([e.screen_x,e.screen_y]);return s},o._catmullRom=function(t,l){var e=l.options.interpolation.alpha;if(0==e||void 0===e)return this._catmullRomUniform(t);for(var i,o,u,n,c,p,f,m,s,r,a,h,g=[],v=(g.push([Math.round(t[0].screen_x),Math.round(t[0].screen_y)]),t.length),d=0;d<v-1;d++)n=0==d?t[0]:t[d-1],i=t[d],o=t[d+1],u=d+2<v?t[d+2]:o,a=Math.sqrt(Math.pow(n.screen_x-i.screen_x,2)+Math.pow(n.screen_y-i.screen_y,2)),r=Math.sqrt(Math.pow(i.screen_x-o.screen_x,2)+Math.pow(i.screen_y-o.screen_y,2)),s=Math.sqrt(Math.pow(o.screen_x-u.screen_x,2)+Math.pow(o.screen_y-u.screen_y,2)),f=Math.pow(s,e),s=Math.pow(s,2*e),m=Math.pow(r,e),r=Math.pow(r,2*e),h=Math.pow(a,e),a=Math.pow(a,2*e),0<(c=3*h*(h+m))&&(c=1/c),0<(p=3*f*(f+m))&&(p=1/p),n={screen_x:(-r*n.screen_x+(h=2*a+3*h*m+r)*i.screen_x+a*o.screen_x)*c,screen_y:(-r*n.screen_y+h*i.screen_y+a*o.screen_y)*c},a={screen_x:(s*i.screen_x+(h=2*s+3*f*m+r)*o.screen_x-r*u.screen_x)*p,screen_y:(s*i.screen_y+h*o.screen_y-r*u.screen_y)*p},0==n.screen_x&&0==n.screen_y&&(n=i),0==a.screen_x&&0==a.screen_y&&(a=o),g.push([n.screen_x,n.screen_y]),g.push([a.screen_x,a.screen_y]),g.push([o.screen_x,o.screen_y]);return g},o._linear=function(t){for(var e=[],i=0;i<t.length;i++)e.push([t[i].screen_x,t[i].screen_y]);return e},t.exports=o},function(t,e,i){var o=i(58),h=(o=o)&&o.__esModule?o:{default:o};var n=i(1),d=i(88),o=i(128);function s(t,e,i,o){this.body=t,this.defaultOptions={enabled:!1,icons:!0,iconSize:20,iconSpacing:6,left:{visible:!0,position:"top-left"},right:{visible:!0,position:"top-right"}},this.side=i,this.options=n.extend({},this.defaultOptions),this.linegraphOptions=o,this.svgElements={},this.dom={},this.groups={},this.amountOfGroups=0,this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups},this.setOptions(e)}(s.prototype=new o).clear=function(){this.groups={},this.amountOfGroups=0},s.prototype.addGroup=function(t,e){1!=e.options.excludeFromLegend&&(this.groups.hasOwnProperty(t)||(this.groups[t]=e),this.amountOfGroups+=1)},s.prototype.updateGroup=function(t,e){this.groups[t]=e},s.prototype.removeGroup=function(t){this.groups.hasOwnProperty(t)&&(delete this.groups[t],--this.amountOfGroups)},s.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-legend",this.dom.frame.style.position="absolute",this.dom.frame.style.top="10px",this.dom.frame.style.display="block",this.dom.textArea=document.createElement("div"),this.dom.textArea.className="vis-legend-text",this.dom.textArea.style.position="relative",this.dom.textArea.style.top="0px",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.width=this.options.iconSize+5+"px",this.svg.style.height="100%",this.dom.frame.appendChild(this.svg),this.dom.frame.appendChild(this.dom.textArea)},s.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)},s.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)},s.prototype.setOptions=function(t){n.selectiveDeepExtend(["enabled","orientation","icons","left","right"],this.options,t)},s.prototype.redraw=function(){var t=0,e=(0,h.default)(this.groups);e.sort(function(t,e){return t<e?-1:1});for(var i=0;i<e.length;i++){var o=e[i];1!=this.groups[o].visible||void 0!==this.linegraphOptions.visibility[o]&&1!=this.linegraphOptions.visibility[o]||t++}if(0==this.options[this.side].visible||0==this.amountOfGroups||0==this.options.enabled||0==t)this.hide();else{this.show(),"top-left"==this.options[this.side].position||"bottom-left"==this.options[this.side].position?(this.dom.frame.style.left="4px",this.dom.frame.style.textAlign="left",this.dom.textArea.style.textAlign="left",this.dom.textArea.style.left=this.options.iconSize+15+"px",this.dom.textArea.style.right="",this.svg.style.left="0px",this.svg.style.right=""):(this.dom.frame.style.right="4px",this.dom.frame.style.textAlign="right",this.dom.textArea.style.textAlign="right",this.dom.textArea.style.right=this.options.iconSize+15+"px",this.dom.textArea.style.left="",this.svg.style.right="0px",this.svg.style.left=""),"top-left"==this.options[this.side].position||"top-right"==this.options[this.side].position?(this.dom.frame.style.top=4-Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.bottom=""):(n=this.body.domProps.center.height-this.body.domProps.centerContainer.height,this.dom.frame.style.bottom=4+n+Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.top=""),0==this.options.icons?(this.dom.frame.style.width=this.dom.textArea.offsetWidth+10+"px",this.dom.textArea.style.right="",this.dom.textArea.style.left="",this.svg.style.width="0px"):(this.dom.frame.style.width=this.options.iconSize+15+this.dom.textArea.offsetWidth+10+"px",this.drawLegendIcons());for(var n,s="",i=0;i<e.length;i++){o=e[i];1!=this.groups[o].visible||void 0!==this.linegraphOptions.visibility[o]&&1!=this.linegraphOptions.visibility[o]||(s+=this.groups[o].content+"<br />")}this.dom.textArea.innerHTML=s,this.dom.textArea.style.lineHeight=.75*this.options.iconSize+this.options.iconSpacing+"px"}},s.prototype.drawLegendIcons=function(){if(this.dom.frame.parentNode){var t=(0,h.default)(this.groups),e=(t.sort(function(t,e){return t<e?-1:1}),d.resetElements(this.svgElements),window.getComputedStyle(this.dom.frame).paddingTop),e=Number(e.replace("px","")),i=e,o=this.options.iconSize,n=.75*this.options.iconSize,s=e+.5*n+3;this.svg.style.width=o+5+e+"px";for(var r=0;r<t.length;r++){var a=t[r];1!=this.groups[a].visible||void 0!==this.linegraphOptions.visibility[a]&&1!=this.linegraphOptions.visibility[a]||(this.groups[a].getLegend(o,n,this.framework,i,s),s+=n+this.options.iconSpacing)}}},t.exports=s},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i="string",o="boolean",n="number",s="date",r="object",a="moment";e.allOptions={configure:{enabled:{boolean:o},filter:{boolean:o,function:"function"},container:{dom:"dom"},__type__:{object:r,boolean:o,function:"function"}},yAxisOrientation:{string:["left","right"]},defaultGroup:{string:i},sort:{boolean:o},sampling:{boolean:o},stack:{boolean:o},graphHeight:{string:i,number:n},shaded:{enabled:{boolean:o},orientation:{string:["bottom","top","zero","group"]},groupId:{object:r},__type__:{boolean:o,object:r}},style:{string:["line","bar","points"]},barChart:{width:{number:n},minWidth:{number:n},sideBySide:{boolean:o},align:{string:["left","center","right"]},__type__:{object:r}},interpolation:{enabled:{boolean:o},parametrization:{string:["centripetal","chordal","uniform"]},alpha:{number:n},__type__:{object:r,boolean:o}},drawPoints:{enabled:{boolean:o},onRender:{function:"function"},size:{number:n},style:{string:["square","circle"]},__type__:{object:r,boolean:o,function:"function"}},dataAxis:{showMinorLabels:{boolean:o},showMajorLabels:{boolean:o},icons:{boolean:o},width:{string:i,number:n},visible:{boolean:o},alignZeros:{boolean:o},left:{range:{min:{number:n,undefined:"undefined"},max:{number:n,undefined:"undefined"},__type__:{object:r}},format:{function:"function"},title:{text:{string:i,number:n,undefined:"undefined"},style:{string:i,undefined:"undefined"},__type__:{object:r}},__type__:{object:r}},right:{range:{min:{number:n,undefined:"undefined"},max:{number:n,undefined:"undefined"},__type__:{object:r}},format:{function:"function"},title:{text:{string:i,number:n,undefined:"undefined"},style:{string:i,undefined:"undefined"},__type__:{object:r}},__type__:{object:r}},__type__:{object:r}},legend:{enabled:{boolean:o},icons:{boolean:o},left:{visible:{boolean:o},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:r}},right:{visible:{boolean:o},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:r}},__type__:{object:r,boolean:o}},groups:{visibility:{any:"any"},__type__:{object:r}},autoResize:{boolean:o},throttleRedraw:{number:n},clickToUse:{boolean:o},end:{number:n,date:s,string:i,moment:a},format:{minorLabels:{millisecond:{string:i,undefined:"undefined"},second:{string:i,undefined:"undefined"},minute:{string:i,undefined:"undefined"},hour:{string:i,undefined:"undefined"},weekday:{string:i,undefined:"undefined"},day:{string:i,undefined:"undefined"},month:{string:i,undefined:"undefined"},year:{string:i,undefined:"undefined"},__type__:{object:r}},majorLabels:{millisecond:{string:i,undefined:"undefined"},second:{string:i,undefined:"undefined"},minute:{string:i,undefined:"undefined"},hour:{string:i,undefined:"undefined"},weekday:{string:i,undefined:"undefined"},day:{string:i,undefined:"undefined"},month:{string:i,undefined:"undefined"},year:{string:i,undefined:"undefined"},__type__:{object:r}},__type__:{object:r}},moment:{function:"function"},height:{string:i,number:n},hiddenDates:{start:{date:s,number:n,string:i,moment:a},end:{date:s,number:n,string:i,moment:a},repeat:{string:i},__type__:{object:r,array:"array"}},locale:{string:i},locales:{__any__:{any:"any"},__type__:{object:r}},max:{date:s,number:n,string:i,moment:a},maxHeight:{number:n,string:i},maxMinorChars:{number:n},min:{date:s,number:n,string:i,moment:a},minHeight:{number:n,string:i},moveable:{boolean:o},multiselect:{boolean:o},orientation:{string:i},showCurrentTime:{boolean:o},showMajorLabels:{boolean:o},showMinorLabels:{boolean:o},start:{date:s,number:n,string:i,moment:a},timeAxis:{scale:{string:i,undefined:"undefined"},step:{number:n,undefined:"undefined"},__type__:{object:r}},width:{string:i,number:n},zoomable:{boolean:o},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:n},zoomMin:{number:n},zIndex:{number:n},__type__:{object:r}},e.configureOptions={global:{sort:!0,sampling:!0,stack:!1,shaded:{enabled:!1,orientation:["zero","top","bottom","group"]},style:["line","bar","points"],barChart:{width:[50,5,100,5],minWidth:[50,5,100,5],sideBySide:!1,align:["left","center","right"]},interpolation:{enabled:!0,parametrization:["centripetal","chordal","uniform"]},drawPoints:{enabled:!0,size:[6,2,30,1],style:["square","circle"]},dataAxis:{showMinorLabels:!0,showMajorLabels:!0,icons:!1,width:[40,0,200,1],visible:!0,alignZeros:!0,left:{title:{text:"",style:""}},right:{title:{text:"",style:""}}},legend:{enabled:!1,icons:!0,left:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]},right:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]}},autoResize:!0,clickToUse:!1,end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",month:"YYYY",year:""}},height:"",locale:"",max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!0,orientation:["both","bottom","top"],showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,start:"",width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1],zIndex:0}}},function(t,i,e){i.util=e(1),i.DOMutil=e(88),i.DataSet=e(89),i.DataView=e(93),i.Queue=e(92),i.Network=e(159),i.network={Images:e(160),dotparser:e(228),gephiParser:e(229),allOptions:e(224)},i.network.convertDot=function(t){return i.network.dotparser.DOTToGraph(t)},i.network.convertGephi=function(t,e){return i.network.gephiParser.parseGephi(t,e)},i.moment=e(82),i.Hammer=e(112),i.keycharm=e(115)},function(t,l,e){var n=i(e(160)),s=i(e(161)),r=i(e(162)),u=i(e(195)),c=i(e(204)),p=i(e(213)),f=i(e(216)),m=i(e(217)),g=i(e(218)),v=i(e(219)),y=i(e(221)),b=i(e(222)),_=i(e(223)),w=i(e(118)),o=e(126),x=i(o),a=e(224),k=i(e(225));function i(t){return t&&t.__esModule?t:{default:t}}e(227);var O=e(99),h=e(1),S=(e(89),e(93),e(228)),M=e(229),D=e(143),C=e(230);function d(t,e,i){var o=this;if(!(this instanceof d))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:C,clickToUse:!1},h.extend(this.options,this.defaultOptions),this.body={container:t,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this),once:this.once.bind(this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}}},this.bindEventListeners(),this.images=new n.default(function(){return o.body.emitter.emit("_requestRedraw")}),this.groups=new s.default,this.canvas=new m.default(this.body),this.selectionHandler=new y.default(this.body,this.canvas),this.interactionHandler=new v.default(this.body,this.canvas,this.selectionHandler),this.view=new g.default(this.body,this.canvas),this.renderer=new f.default(this.body,this.canvas),this.physics=new c.default(this.body),this.layoutEngine=new b.default(this.body),this.clustering=new p.default(this.body),this.manipulation=new _.default(this.body,this.canvas,this.selectionHandler),this.nodesHandler=new r.default(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new u.default(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new k.default(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(i),this.setData(e)}O(d.prototype),d.prototype.setOptions=function(t){var e,i=this;void 0!==t&&(!0===x.default.validate(t,a.allOptions)&&console.log("%cErrors have been found in the supplied options object.",o.printStyle),h.selectiveDeepExtend(["locale","locales","clickToUse"],this.options,t),t=this.layoutEngine.setOptions(t.layout,t),this.canvas.setOptions(t),this.groups.setOptions(t.groups),this.nodesHandler.setOptions(t.nodes),this.edgesHandler.setOptions(t.edges),this.physics.setOptions(t.physics),this.manipulation.setOptions(t.manipulation,t,this.options),this.interactionHandler.setOptions(t.interaction),this.renderer.setOptions(t.interaction),this.selectionHandler.setOptions(t.interaction),void 0!==t.groups&&this.body.emitter.emit("refreshNodes"),"configure"in t&&(this.configurator||(this.configurator=new w.default(this,this.body.container,a.configureOptions,this.canvas.pixelRatio)),this.configurator.setOptions(t.configure)),this.configurator&&!0===this.configurator.options.enabled&&(h.deepExtend((e={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}}).nodes,this.nodesHandler.options),h.deepExtend(e.edges,this.edgesHandler.options),h.deepExtend(e.layout,this.layoutEngine.options),h.deepExtend(e.interaction,this.selectionHandler.options),h.deepExtend(e.interaction,this.renderer.options),h.deepExtend(e.interaction,this.interactionHandler.options),h.deepExtend(e.manipulation,this.manipulation.options),h.deepExtend(e.physics,this.physics.options),h.deepExtend(e.global,this.canvas.options),h.deepExtend(e.global,this.options),this.configurator.setModuleOptions(e)),void 0!==t.clickToUse?!0===t.clickToUse?void 0===this.activator&&(this.activator=new D(this.canvas.frame),this.activator.on("change",function(){i.body.emitter.emit("activate")})):(void 0!==this.activator&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation"))},d.prototype._updateVisibleIndices=function(){var t,e,i=this.body.nodes,o=this.body.edges;for(t in this.body.nodeIndices=[],this.body.edgeIndices=[],i)i.hasOwnProperty(t)&&!1===i[t].options.hidden&&this.body.nodeIndices.push(i[t].id);for(e in o)o.hasOwnProperty(e)&&!1===o[e].options.hidden&&this.body.edgeIndices.push(o[e].id)},d.prototype.bindEventListeners=function(){var t=this;this.body.emitter.on("_dataChanged",function(){t._updateVisibleIndices(),t.body.emitter.emit("_requestRedraw"),t.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",function(){t._updateValueRange(t.body.nodes),t._updateValueRange(t.body.edges),t.body.emitter.emit("startSimulation"),t.body.emitter.emit("_requestRedraw")})},d.prototype.setData=function(t){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),t&&t.dot&&(t.nodes||t.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');var e;return this.setOptions(t&&t.options),t&&t.dot?(console.log("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);"),e=S.DOTToGraph(t.dot),void this.setData(e)):t&&t.gephi?(console.log("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);"),e=M.parseGephi(t.gephi),void this.setData(e)):(this.nodesHandler.setData(t&&t.nodes,!0),this.edgesHandler.setData(t&&t.edges,!0),this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),void this.body.emitter.emit("initPhysics"))},d.prototype.destroy=function(){for(var t in this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images,this.body.nodes)delete this.body.nodes[t];for(var e in this.body.edges)delete this.body.edges[e];h.recursiveDOMDelete(this.body.container)},d.prototype._updateValueRange=function(t){var e,i,o=void 0,n=void 0,s=0;for(e in t)!t.hasOwnProperty(e)||void 0!==(i=t[e].getValue())&&(o=void 0===o?i:Math.min(i,o),n=void 0===n?i:Math.max(i,n),s+=i);if(void 0!==o&&void 0!==n)for(e in t)t.hasOwnProperty(e)&&t[e].setValueRange(o,n,s)},d.prototype.isActive=function(){return!this.activator||this.activator.active},d.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)},d.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)},d.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)},d.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)},d.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)},d.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)},d.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)},d.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)},d.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)},d.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)},d.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)},d.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)},d.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)},d.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)},d.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)},d.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)},d.prototype.editNodeMode=function(){return console.log("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)},d.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)},d.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)},d.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)},d.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)},d.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)},d.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)},d.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)},d.prototype.getConnectedNodes=function(t){return void 0!==this.body.nodes[t]?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)},d.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)},d.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)},d.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)},d.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)},d.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)},d.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)},d.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodes.apply(this.selectionHandler,arguments)},d.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdges.apply(this.selectionHandler,arguments)},d.prototype.getNodeAt=function(){var t=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return void 0!==t&&void 0!==t.id?t.id:t},d.prototype.getEdgeAt=function(){var t=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return void 0!==t&&void 0!==t.id?t.id:t},d.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)},d.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)},d.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.redraw()},d.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)},d.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)},d.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)},d.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)},d.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)},d.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)},d.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)},d.prototype.getOptionsFromConfigurator=function(){var t={};return t=this.configurator?this.configurator.getOptions.apply(this.configurator):t},t.exports=d},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o=n(i(119));function n(t){return t&&t.__esModule?t:{default:t}}function s(t){(0,o.default)(this,s),this.images={},this.imageBroken={},this.callback=t}(0,n(i(120)).default)(s,[{key:"_addImageToCache",value:function(t,e){0===e.width&&(document.body.appendChild(e),e.width=e.offsetWidth,e.height=e.offsetHeight,document.body.removeChild(e)),this.images[t]=e}},{key:"_tryloadBrokenUrl",value:function(t,e,i){var o=this;void 0!==t&&void 0!==e&&void 0!==i&&(i.onerror=function(){console.error("Could not load brokenImage:",e),o._addImageToCache(t,new Image)},i.src=e)}},{key:"_redrawWithImage",value:function(t){this.callback&&this.callback(t)}},{key:"load",value:function(t,e,i){var o=this,n=this.images[t];if(n)return n;var s=new Image;return s.onload=function(){o._addImageToCache(t,s),o._redrawWithImage(s)},s.onerror=function(){console.error("Could not load image:",t),o._tryloadBrokenUrl(t,e,s)},s.src=t,s}}]),e.default=s},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o=s(i(119)),n=s(i(120));function s(t){return t&&t.__esModule?t:{default:t}}var r=i(1),i=((0,n.default)(a,[{key:"setOptions",value:function(t){var e,i=["useDefaultGroups"];if(void 0!==t)for(var o in t)t.hasOwnProperty(o)&&-1===i.indexOf(o)&&(e=t[o],this.add(o,e))}},{key:"clear",value:function(){this.groups={},this.groupsArray=[]}},{key:"get",value:function(t){var e,i=this.groups[t];return void 0===i&&(!1===this.options.useDefaultGroups&&0<this.groupsArray.length?(e=this.groupIndex%this.groupsArray.length,this.groupIndex++,(i={}).color=this.groups[this.groupsArray[e]]):(e=this.defaultIndex%this.defaultGroups.length,this.defaultIndex++,(i={}).color=this.defaultGroups[e]),this.groups[t]=i),i}},{key:"add",value:function(t,e){return this.groups[t]=e,this.groupsArray.push(t),e}}]),a);function a(){(0,o.default)(this,a),this.clear(),this.defaultIndex=0,this.groupsArray=[],this.groupIndex=0,this.defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},r.extend(this.options,this.defaultOptions)}e.default=i},function(l,t,e){Object.defineProperty(t,"__esModule",{value:!0});var s=o(e(119)),i=o(e(120)),n=o(e(163)),r=o(e(164));function o(t){return t&&t.__esModule?t:{default:t}}var a=e(1),h=e(89),u=e(93),e=((0,i.default)(d,[{key:"bindEventListeners",value:function(){var i=this;this.body.emitter.on("refreshNodes",this.refresh.bind(this)),this.body.emitter.on("refresh",this.refresh.bind(this)),this.body.emitter.on("destroy",function(){a.forEach(i.nodesListeners,function(t,e){i.body.data.nodes&&i.body.data.nodes.off(e,t)}),delete i.body.functions.createNode,delete i.nodesListeners.add,delete i.nodesListeners.update,delete i.nodesListeners.remove,delete i.nodesListeners})}},{key:"setOptions",value:function(t){if(void 0!==(this.nodeOptions=t)){if(n.default.parseOptions(this.options,t),void 0!==t.shape)for(var e in this.body.nodes)this.body.nodes.hasOwnProperty(e)&&this.body.nodes[e].updateShape();if(void 0!==t.font)for(var i in r.default.parseOptions(this.options.font,t),this.body.nodes)this.body.nodes.hasOwnProperty(i)&&(this.body.nodes[i].updateLabelModule(),this.body.nodes[i]._reset());if(void 0!==t.size)for(var o in this.body.nodes)this.body.nodes.hasOwnProperty(o)&&this.body.nodes[o]._reset();void 0===t.hidden&&void 0===t.physics||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(t){var i,e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],o=this.body.data.nodes;if(t instanceof h||t instanceof u)this.body.data.nodes=t;else if(Array.isArray(t))this.body.data.nodes=new h,this.body.data.nodes.add(t);else{if(t)throw new TypeError("Array or DataSet expected");this.body.data.nodes=new h}o&&a.forEach(this.nodesListeners,function(t,e){o.off(e,t)}),this.body.nodes={},this.body.data.nodes&&(a.forEach((i=this).nodesListeners,function(t,e){i.body.data.nodes.on(e,t)}),t=this.body.data.nodes.getIds(),this.add(t,!0)),!1===e&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(t){for(var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],i=[],o=0;o<t.length;o++){var n=t[o],s=this.body.data.nodes.get(n),s=this.create(s);i.push(s),this.body.nodes[n]=s}this.layoutEngine.positionInitially(i),!1===e&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(t,e){for(var i=this.body.nodes,o=!1,n=0;n<t.length;n++){var s=t[n],r=i[s],a=e[n];void 0!==r?o=r.setOptions(a):(o=!0,r=this.create(a),i[s]=r)}!0===o?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(t){for(var e=this.body.nodes,i=0;i<t.length;i++)delete e[t[i]];this.body.emitter.emit("_dataChanged")}},{key:"create",value:function(t){return new(1<arguments.length&&void 0!==arguments[1]?arguments[1]:n.default)(t,this.body,this.images,this.groups,this.options,this.defaultOptions,this.nodeOptions)}},{key:"refresh",value:function(){var t,e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],i=this.body.nodes;for(t in i){var o=void 0,n=(i.hasOwnProperty(t)&&(o=i[t]),this.body.data.nodes._data[t]);void 0!==o&&void 0!==n&&(!0===e&&o.setOptions({x:null,y:null}),o.setOptions({fixed:!1}),o.setOptions(n))}}},{key:"getPositions",value:function(t){var e,i={};if(void 0!==t)if(!0===Array.isArray(t))for(var o,n=0;n<t.length;n++)void 0!==this.body.nodes[t[n]]&&(o=this.body.nodes[t[n]],i[t[n]]={x:Math.round(o.x),y:Math.round(o.y)});else void 0!==this.body.nodes[t]&&(e=this.body.nodes[t],i[t]={x:Math.round(e.x),y:Math.round(e.y)});else for(var s=0;s<this.body.nodeIndices.length;s++){var r=this.body.nodes[this.body.nodeIndices[s]];i[this.body.nodeIndices[s]]={x:Math.round(r.x),y:Math.round(r.y)}}return i}},{key:"storePositions",value:function(){var t,e,i=[],o=this.body.data.nodes.getDataSet();for(t in o._data)o._data.hasOwnProperty(t)&&(e=this.body.nodes[t],o._data[t].x==Math.round(e.x)&&o._data[t].y==Math.round(e.y)||i.push({id:e.id,x:Math.round(e.x),y:Math.round(e.y)}));o.update(i)}},{key:"getBoundingBox",value:function(t){if(void 0!==this.body.nodes[t])return this.body.nodes[t].shape.boundingBox}},{key:"getConnectedNodes",value:function(t){var e=[];if(void 0!==this.body.nodes[t])for(var i=this.body.nodes[t],o={},n=0;n<i.edges.length;n++){var s=i.edges[n];s.toId==i.id?void 0===o[s.fromId]&&(e.push(s.fromId),o[s.fromId]=!0):s.fromId==i.id&&void 0===o[s.toId]&&(e.push(s.toId),o[s.toId]=!0)}return e}},{key:"getConnectedEdges",value:function(t){var e=[];if(void 0!==this.body.nodes[t])for(var i=this.body.nodes[t],o=0;o<i.edges.length;o++)e.push(i.edges[o].id);else console.log("NodeId provided for getConnectedEdges does not exist. Provided: ",t);return e}},{key:"moveNode",value:function(t,e,i){var o=this;void 0!==this.body.nodes[t]?(this.body.nodes[t].x=Number(e),this.body.nodes[t].y=Number(i),setTimeout(function(){o.body.emitter.emit("startSimulation")},0)):console.log("Node id supplied to moveNode does not exist. Provided: ",t)}}]),d);function d(t,e,i,o){var n=this;(0,s.default)(this,d),this.body=t,this.images=e,this.groups=i,this.layoutEngine=o,this.body.functions.createNode=this.create.bind(this),this.nodesListeners={add:function(t,e){n.add(e.items)},update:function(t,e){n.update(e.items,e.data)},remove:function(t,e){n.remove(e.items)}},this.options={},this.defaultOptions={borderWidth:1,borderWidthSelected:2,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(t,e,i,o){return e===t?.5:Math.max(0,(o-t)*(1/(e-t)))}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1},size:25,title:void 0,value:void 0,x:void 0,y:void 0},a.extend(this.options,this.defaultOptions),this.bindEventListeners()}t.default=e},function(r,t,e){Object.defineProperty(t,"__esModule",{value:!0});var i=s(e(62)),a=s(e(119)),o=s(e(120)),h=s(e(164)),u=s(e(169)),c=s(e(180)),p=s(e(182)),f=s(e(183)),m=s(e(184)),g=s(e(186)),n=s(e(187)),v=s(e(188)),y=s(e(189)),b=s(e(190)),_=s(e(191)),w=s(e(192)),x=s(e(193)),k=s(e(194));s(e(126));function s(t){return t&&t.__esModule?t:{default:t}}var d=e(1),e=((0,o.default)(l,[{key:"attachEdge",value:function(t){-1===this.edges.indexOf(t)&&this.edges.push(t)}},{key:"detachEdge",value:function(t){t=this.edges.indexOf(t);-1!=t&&this.edges.splice(t,1)}},{key:"setOptions",value:function(t){var e,i=this.options.shape;if(t){if(void 0!==t.id&&(this.id=t.id),void 0===this.id)throw"Node must have an id";if(void 0!==t.x&&(null===t.x?(this.x=void 0,this.predefinedPosition=!1):(this.x=parseInt(t.x),this.predefinedPosition=!0)),void 0!==t.y&&(null===t.y?(this.y=void 0,this.predefinedPosition=!1):(this.y=parseInt(t.y),this.predefinedPosition=!0)),void 0!==t.size&&(this.baseSize=t.size),void 0!==t.value&&(t.value=parseFloat(t.value)),("number"==typeof t.group||"string"==typeof t.group&&""!=t.group)&&(e=this.grouplist.get(t.group),d.deepExtend(this.options,e),this.options.color=d.parseColor(this.options.color)),l.parseOptions(this.options,t,!0,this.globalOptions),this.choosify(t),void 0!==this.options.image){if(!this.imagelist)throw"No imagelist provided";"string"==typeof this.options.image?this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id):(this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id))}return this.updateLabelModule(t),this.updateShape(i),this.labelModule.propagateFonts(this.nodeOptions,t,this.defaultOptions),void 0!==t.hidden||void 0!==t.physics}}},{key:"choosify",value:function(t){this.chooser=!0;var t=[t,this.options,this.defaultOptions],e=d.topMost(t,"chosen");"boolean"==typeof e?this.chooser=e:"object"===(void 0===e?"undefined":(0,i.default)(e))&&("boolean"!=typeof(e=d.topMost(t,["chosen","node"]))&&"function"!=typeof e||(this.chooser=e))}},{key:"getFormattingValues",value:function(){var t={color:this.options.color.background,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};return this.selected||this.hover?!0===this.chooser?this.selected?(t.borderWidth*=2,t.color=this.options.color.highlight.background,t.borderColor=this.options.color.highlight.border,t.shadow=this.options.shadow.enabled):this.hover&&(t.color=this.options.color.hover.background,t.borderColor=this.options.color.hover.border,t.shadow=this.options.shadow.enabled):"function"==typeof this.chooser&&(this.chooser(t,this.options.id,this.selected,this.hover),!1===t.shadow&&(t.shadowColor===this.options.shadow.color&&t.shadowSize===this.options.shadow.size&&t.shadowX===this.options.shadow.x&&t.shadowY===this.options.shadow.y||(t.shadow=!0))):t.shadow=this.options.shadow.enabled,t}},{key:"updateLabelModule",value:function(t){void 0!==this.options.label&&null!==this.options.label||(this.options.label=""),this.labelModule.setOptions(this.options,!0),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize),this.labelModule.constrain(this.nodeOptions,t,this.defaultOptions),this.labelModule.choosify(this.nodeOptions,t,this.defaultOptions)}},{key:"updateShape",value:function(t){if(t===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new u.default(this.options,this.body,this.labelModule);break;case"circle":this.shape=new c.default(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new p.default(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"database":this.shape=new f.default(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new m.default(this.options,this.body,this.labelModule);break;case"dot":this.shape=new g.default(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new n.default(this.options,this.body,this.labelModule);break;case"icon":this.shape=new v.default(this.options,this.body,this.labelModule);break;case"image":this.shape=new y.default(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new b.default(this.options,this.body,this.labelModule);break;case"star":this.shape=new _.default(this.options,this.body,this.labelModule);break;case"text":this.shape=new w.default(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new x.default(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new k.default(this.options,this.body,this.labelModule);break;default:this.shape=new n.default(this.options,this.body,this.labelModule)}this._reset()}},{key:"select",value:function(){this.selected=!0,this._reset()}},{key:"unselect",value:function(){this.selected=!1,this._reset()}},{key:"_reset",value:function(){this.shape.width=void 0,this.shape.height=void 0}},{key:"getTitle",value:function(){return this.options.title}},{key:"distanceToBorder",value:function(t,e){return this.shape.distanceToBorder(t,e)}},{key:"isFixed",value:function(){return this.options.fixed.x&&this.options.fixed.y}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(t,e,i){void 0!==this.options.value?(t=this.options.scaling.customScalingFunction(t,e,i,this.options.value),e=this.options.scaling.max-this.options.scaling.min,!0===this.options.scaling.label.enabled&&(i=this.options.scaling.label.max-this.options.scaling.label.min,this.options.font.size=this.options.scaling.label.min+t*i),this.options.size=this.options.scaling.min+t*e):(this.options.size=this.baseSize,this.options.font.size=this.baseFontSize),this.updateLabelModule()}},{key:"draw",value:function(t){var e=this.getFormattingValues();this.shape.draw(t,this.x,this.y,this.selected,this.hover,e)}},{key:"updateBoundingBox",value:function(t){this.shape.updateBoundingBox(this.x,this.y,t)}},{key:"resize",value:function(t){var e=this.getFormattingValues();this.shape.resize(t,this.selected,this.hover,e)}},{key:"isOverlappingWith",value:function(t){return this.shape.left<t.right&&this.shape.left+this.shape.width>t.left&&this.shape.top<t.bottom&&this.shape.top+this.shape.height>t.top}},{key:"isBoundingBoxOverlappingWith",value:function(t){return this.shape.boundingBox.left<t.right&&this.shape.boundingBox.right>t.left&&this.shape.boundingBox.top<t.bottom&&this.shape.boundingBox.bottom>t.top}}],[{key:"parseOptions",value:function(t,e){var i,o=2<arguments.length&&void 0!==arguments[2]&&arguments[2],n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};d.selectiveNotDeepExtend(["color","font","fixed","shadow"],t,e,o),d.mergeOptions(t,e,"shadow",o,n),void 0!==e.color&&null!==e.color?(i=d.parseColor(e.color),d.fillIfDefined(t.color,i)):!0===o&&null===e.color&&(t.color=d.bridgeObject(n.color)),void 0!==e.fixed&&null!==e.fixed&&("boolean"==typeof e.fixed?(t.fixed.x=e.fixed,t.fixed.y=e.fixed):(void 0!==e.fixed.x&&"boolean"==typeof e.fixed.x&&(t.fixed.x=e.fixed.x),void 0!==e.fixed.y&&"boolean"==typeof e.fixed.y&&(t.fixed.y=e.fixed.y))),void 0!==e.font&&null!==e.font?h.default.parseOptions(t.font,e):!0===o&&null===e.font&&(t.font=d.bridgeObject(n.font)),void 0!==e.scaling&&d.mergeOptions(t.scaling,e.scaling,"label",o,n.scaling)}}]),l);function l(t,e,i,o,n,s,r){(0,a.default)(this,l),this.options=d.bridgeObject(n),this.globalOptions=n,this.defaultOptions=s,this.nodeOptions=r,this.body=e,this.edges=[],this.id=void 0,this.imagelist=i,this.grouplist=o,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new h.default(this.body,this.options,!1),this.setOptions(t)}t.default=e},function(h,t,e){Object.defineProperty(t,"__esModule",{value:!0});var f=s(e(165)),p=s(e(2)),n=s(e(62)),o=s(e(119)),i=s(e(120));function s(t){return t&&t.__esModule?t:{default:t}}var r=e(1),e=((0,i.default)(a,[{key:"setOptions",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];this.elementOptions=t,this.fontOptions=r.deepExtend({},t.font,!0),void 0!==t.label&&(this.labelDirty=!0),void 0!==t.font&&(a.parseOptions(this.fontOptions,t,e),"string"==typeof t.font?this.baseSize=this.fontOptions.size:"object"===(0,n.default)(t.font)&&void 0!==t.font.size&&(this.baseSize=t.font.size))}},{key:"constrain",value:function(t,e,i){this.fontOptions.constrainWidth=!1,this.fontOptions.maxWdt=-1,this.fontOptions.minWdt=-1;var e=[e,t,i],t=r.topMost(e,"widthConstraint"),i=("number"==typeof t?(this.fontOptions.maxWdt=Number(t),this.fontOptions.minWdt=Number(t)):"object"===(void 0===t?"undefined":(0,n.default)(t))&&("number"==typeof(i=r.topMost(e,["widthConstraint","maximum"]))&&(this.fontOptions.maxWdt=Number(i)),"number"==typeof(t=r.topMost(e,["widthConstraint","minimum"]))&&(this.fontOptions.minWdt=Number(t))),this.fontOptions.constrainHeight=!1,this.fontOptions.minHgt=-1,this.fontOptions.valign="middle",r.topMost(e,"heightConstraint"));"number"==typeof i?this.fontOptions.minHgt=Number(i):"object"===(void 0===i?"undefined":(0,n.default)(i))&&("number"==typeof(t=r.topMost(e,["heightConstraint","minimum"]))&&(this.fontOptions.minHgt=Number(t)),"string"==typeof(i=r.topMost(e,["heightConstraint","valign"]))&&("top"!==i&&"bottom"!==i||(this.fontOptions.valign=i)))}},{key:"choosify",value:function(t,e,i){this.fontOptions.chooser=!0;e=[e,t,i],t=r.topMost(e,"chosen");"boolean"==typeof t?this.fontOptions.chooser=t:"object"===(void 0===t?"undefined":(0,n.default)(t))&&("boolean"!=typeof(i=r.topMost(e,["chosen","label"]))&&"function"!=typeof i||(this.fontOptions.chooser=i))}},{key:"adjustSizes",value:function(t){var e=t?t.right+t.left:0,e=(this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=e,this.fontOptions.minWdt-=e),t?t.top+t.bottom:0);this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=e)}},{key:"propagateFonts",value:function(t,e,i){if(this.fontOptions.multi){var o=!0,n=!1,s=void 0;try{for(var l,r=(0,p.default)(["bold","ital","boldital","mono"]);!(o=(l=r.next()).done);o=!0){var a,u,c,h=l.value,d=void 0;"string"==typeof(d=t.font?t.font[h]:d)?(a=d.split(" "),this.fontOptions[h].size=a[0].replace("px",""),this.fontOptions[h].face=a[1],this.fontOptions[h].color=a[2],this.fontOptions[h].vadjust=this.fontOptions.vadjust,this.fontOptions[h].mod=i.font[h].mod):(d&&d.hasOwnProperty("face")?this.fontOptions[h].face=d.face:e.font&&e.font[h]&&e.font[h].hasOwnProperty("face")?this.fontOptions[h].face=e.font[h].face:"mono"===h?this.fontOptions[h].face=i.font[h].face:e.font&&e.font.hasOwnProperty("face")?this.fontOptions[h].face=e.font.face:this.fontOptions[h].face=this.fontOptions.face,d&&d.hasOwnProperty("color")?this.fontOptions[h].color=d.color:e.font&&e.font[h]&&e.font[h].hasOwnProperty("color")?this.fontOptions[h].color=e.font[h].color:e.font&&e.font.hasOwnProperty("color")?this.fontOptions[h].color=e.font.color:this.fontOptions[h].color=this.fontOptions.color,d&&d.hasOwnProperty("mod")?this.fontOptions[h].mod=d.mod:e.font&&e.font[h]&&e.font[h].hasOwnProperty("mod")?this.fontOptions[h].mod=e.font[h].mod:e.font&&e.font.hasOwnProperty("mod")?this.fontOptions[h].mod=e.font.mod:this.fontOptions[h].mod=i.font[h].mod,d&&d.hasOwnProperty("size")?this.fontOptions[h].size=d.size:e.font&&e.font[h]&&e.font[h].hasOwnProperty("size")?this.fontOptions[h].size=e.font[h].size:this.fontOptions[h].face===i.font[h].face&&this.fontOptions.face===i.font.face?(u=this.fontOptions.size/Number(i.font.size),this.fontOptions[h].size=i.font[h].size*u):e.font&&e.font.hasOwnProperty("size")?this.fontOptions[h].size=e.font.size:this.fontOptions[h].size=this.fontOptions.size,d&&d.hasOwnProperty("vadjust")?this.fontOptions[h].vadjust=d.vadjust:e.font&&e.font[h]&&e.font[h].hasOwnProperty("vadjust")?this.fontOptions[h].vadjust=e.font[h].vadjust:this.fontOptions[h].face===i.font[h].face&&this.fontOptions.face===i.font.face?(c=this.fontOptions.size/Number(i.font.size),this.fontOptions[h].vadjust=i.font[h].vadjust*Math.round(c)):e.font&&e.font.hasOwnProperty("vadjust")?this.fontOptions[h].vadjust=e.font.vadjust:this.fontOptions[h].vadjust=this.fontOptions.vadjust),this.fontOptions[h].size=Number(this.fontOptions[h].size),this.fontOptions[h].vadjust=Number(this.fontOptions[h].vadjust)}}catch(t){n=!0,s=t}finally{try{!o&&r.return&&r.return()}finally{if(n)throw s}}}}},{key:"draw",value:function(t,e,i,o,n){var s,r=5<arguments.length&&void 0!==arguments[5]?arguments[5]:"middle";void 0!==this.elementOptions.label&&(s=this.fontOptions.size*this.body.view.scale,this.elementOptions.label&&s<this.elementOptions.scaling.label.drawThreshold-1||(this.calculateLabelSize(t,o,n,e,i,r),this._drawBackground(t),this._drawText(t,o,n,e,i,r)))}},{key:"_drawBackground",value:function(t){if(void 0!==this.fontOptions.background&&"none"!==this.fontOptions.background){t.fillStyle=this.fontOptions.background;if(this.isEdgeLabel)switch(this.fontOptions.align){case"middle":t.fillRect(.5*-this.size.width,.5*-this.size.height,this.size.width,this.size.height);break;case"top":t.fillRect(.5*-this.size.width,-(this.size.height+2),this.size.width,this.size.height);break;case"bottom":t.fillRect(.5*-this.size.width,2,this.size.width,this.size.height);break;default:t.fillRect(this.size.left,this.size.top-1,this.size.width,this.size.height)}else t.fillRect(this.size.left,this.size.top-1,this.size.width,this.size.height)}}},{key:"_drawText",value:function(t,d,l,e,u){var i=5<arguments.length&&void 0!==arguments[5]?arguments[5]:"middle",c=this.fontOptions.size*this.body.view.scale,o=(c>=this.elementOptions.scaling.label.maxVisible&&(Number(this.elementOptions.scaling.label.maxVisible),this.body.view.scale),this.size.yLine),i=this._setAlignment(t,e,o,i),i=(0,f.default)(i,2);e=i[0],o=i[1],t.textAlign="left",e-=this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&("top"===this.fontOptions.valign&&(o-=(this.size.height-this.size.labelHeight)/2),"bottom"===this.fontOptions.valign&&(o+=(this.size.height-this.size.labelHeight)/2));for(var n=0;n<this.lineCount;n++)if(this.lines[n]&&this.lines[n].blocks){var s=0;this.isEdgeLabel||"center"===this.fontOptions.align?s+=(this.size.width-this.lines[n].width)/2:"right"===this.fontOptions.align&&(s+=this.size.width-this.lines[n].width);for(var r=0;r<this.lines[n].blocks.length;r++){var a=this.lines[n].blocks[r],h=(t.font=a.font,this._getColor(a.color,c,a.strokeColor)),h=(0,f.default)(h,2),p=h[0],h=h[1];0<a.strokeWidth&&(t.lineWidth=a.strokeWidth,t.strokeStyle=h,t.lineJoin="round"),t.fillStyle=p,0<a.strokeWidth&&t.strokeText(a.text,e+s,o+a.vadjust),t.fillText(a.text,e+s,o+a.vadjust),s+=a.width}o+=this.lines[n].height}}},{key:"_setAlignment",value:function(t,e,i,o){return this.isEdgeLabel&&"horizontal"!==this.fontOptions.align&&!1===this.pointToSelf?(i=e=0,"top"===this.fontOptions.align?(t.textBaseline="alphabetic",i-=4):"bottom"===this.fontOptions.align?(t.textBaseline="hanging",i+=4):t.textBaseline="middle"):t.textBaseline=o,[e,i]}},{key:"_getColor",value:function(t,e,i){t=t||"#000000",i=i||"#ffffff";return e<=this.elementOptions.scaling.label.drawThreshold&&(e=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-e))),t=r.overrideOpacity(t,e),i=r.overrideOpacity(i,e)),[t,i]}},{key:"getTextSize",value:function(t){return this._processLabel(t,1<arguments.length&&void 0!==arguments[1]&&arguments[1],2<arguments.length&&void 0!==arguments[2]&&arguments[2]),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}},{key:"calculateLabelSize",value:function(t,e,i){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,n=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,s=5<arguments.length&&void 0!==arguments[5]?arguments[5]:"middle";!0===this.labelDirty&&this._processLabel(t,e,i),this.size.left=o-.5*this.size.width,this.size.top=n-.5*this.size.height,this.size.yLine=n+.5*(1-this.lineCount)*this.fontOptions.size,"hanging"===s&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4),this.labelDirty=!1}},{key:"decodeMarkupSystem",value:function(t){var e="none";return"markdown"===t||"md"===t?e="markdown":!0!==t&&"html"!==t||(e="html"),e}},{key:"splitBlocks",value:function(t,e){e=this.decodeMarkupSystem(e);return"none"===e?[{text:t,mod:"normal"}]:"markdown"===e?this.splitMarkdownBlocks(t):"html"===e?this.splitHtmlBlocks(t):void 0}},{key:"splitMarkdownBlocks",value:function(t){for(var e=[],i={bold:!1,ital:!1,mono:!1,beginable:!0,spacing:!1,position:0,buffer:"",modStack:[],mod:function(){return 0===this.modStack.length?"normal":this.modStack[0]},modName:function(){return 0===this.modStack.length?"normal":"mono"===this.modStack[0]?"mono":i.bold&&i.ital?"boldital":i.bold?"bold":i.ital?"ital":void 0},emitBlock:function(){this.spacing&&(this.add(" "),this.spacing=!1),0<this.buffer.length&&(e.push({text:this.buffer,mod:this.modName()}),this.buffer="")},add:function(t){" "===t&&(i.spacing=!0),i.spacing&&(this.buffer+=" ",this.spacing=!1)," "!=t&&(this.buffer+=t)}};i.position<t.length;){var o=t.charAt(i.position);/[ \t]/.test(o)?(i.mono?i.add(o):i.spacing=!0,i.beginable=!0):/\\/.test(o)?i.position<t.length+1&&(i.position++,o=t.charAt(i.position),/ \t/.test(o)?i.spacing=!0:(i.add(o),i.beginable=!1)):i.mono||i.bold||!i.beginable&&!i.spacing||!/\*/.test(o)?i.mono||i.ital||!i.beginable&&!i.spacing||!/\_/.test(o)?!i.mono&&(i.beginable||i.spacing)&&/`/.test(o)?(i.emitBlock(),i.mono=!0,i.modStack.unshift("mono")):!i.mono&&"bold"===i.mod()&&/\*/.test(o)?i.position===t.length-1||/[.,_` \t\n]/.test(t.charAt(i.position+1))?(i.emitBlock(),i.bold=!1,i.modStack.shift()):i.add(o):!i.mono&&"ital"===i.mod()&&/\_/.test(o)?i.position===t.length-1||/[.,*` \t\n]/.test(t.charAt(i.position+1))?(i.emitBlock(),i.ital=!1,i.modStack.shift()):i.add(o):i.mono&&"mono"===i.mod()&&/`/.test(o)?i.position===t.length-1||/[.,*_ \t\n]/.test(t.charAt(i.position+1))?(i.emitBlock(),i.mono=!1,i.modStack.shift()):i.add(o):(i.add(o),i.beginable=!1):(i.emitBlock(),i.ital=!0,i.modStack.unshift("ital")):(i.emitBlock(),i.bold=!0,i.modStack.unshift("bold")),i.position++}return i.emitBlock(),e}},{key:"splitHtmlBlocks",value:function(t){for(var e=[],i={bold:!1,ital:!1,mono:!1,spacing:!1,position:0,buffer:"",modStack:[],mod:function(){return 0===this.modStack.length?"normal":this.modStack[0]},modName:function(){return 0===this.modStack.length?"normal":"mono"===this.modStack[0]?"mono":i.bold&&i.ital?"boldital":i.bold?"bold":i.ital?"ital":void 0},emitBlock:function(){this.spacing&&(this.add(" "),this.spacing=!1),0<this.buffer.length&&(e.push({text:this.buffer,mod:this.modName()}),this.buffer="")},add:function(t){" "===t&&(i.spacing=!0),i.spacing&&(this.buffer+=" ",this.spacing=!1)," "!=t&&(this.buffer+=t)}};i.position<t.length;){var o=t.charAt(i.position);/[ \t]/.test(o)?i.mono?i.add(o):i.spacing=!0:/</.test(o)?i.mono||i.bold||!/<b>/.test(t.substr(i.position,3))?i.mono||i.ital||!/<i>/.test(t.substr(i.position,3))?!i.mono&&/<code>/.test(t.substr(i.position,6))?(i.emitBlock(),i.mono=!0,i.modStack.unshift("mono"),i.position+=5):!i.mono&&"bold"===i.mod()&&/<\/b>/.test(t.substr(i.position,4))?(i.emitBlock(),i.bold=!1,i.modStack.shift(),i.position+=3):!i.mono&&"ital"===i.mod()&&/<\/i>/.test(t.substr(i.position,4))?(i.emitBlock(),i.ital=!1,i.modStack.shift(),i.position+=3):"mono"===i.mod()&&/<\/code>/.test(t.substr(i.position,7))?(i.emitBlock(),i.mono=!1,i.modStack.shift(),i.position+=6):i.add(o):(i.emitBlock(),i.ital=!0,i.modStack.unshift("ital"),i.position+=2):(i.emitBlock(),i.bold=!0,i.modStack.unshift("bold"),i.position+=2):/&/.test(o)?/&lt;/.test(t.substr(i.position,4))?(i.add("<"),i.position+=3):/&amp;/.test(t.substr(i.position,5))?(i.add("&"),i.position+=4):i.add("&"):i.add(o),i.position++}return i.emitBlock(),e}},{key:"getFormattingValues",value:function(t,e,i,o){var n={color:("normal"===o?this.fontOptions:this.fontOptions[o]).color,size:("normal"===o?this.fontOptions:this.fontOptions[o]).size,face:("normal"===o?this.fontOptions:this.fontOptions[o]).face,mod:"normal"===o?"":this.fontOptions[o].mod,vadjust:("normal"===o?this.fontOptions:this.fontOptions[o]).vadjust,strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};return"normal"===o?(e||i)&&(!0===this.fontOptions.chooser&&this.elementOptions.labelHighlightBold?n.mod="bold":"function"==typeof this.fontOptions.chooser&&this.fontOptions.chooser(t,n,this.elementOptions.id,e,i)):(e||i)&&"function"==typeof this.fontOptions.chooser&&this.fontOptions.chooser(t,n,this.elementOptions.id,e,i),t.font=(n.mod+" "+n.size+"px "+n.face).replace(/"/g,""),n.font=t.font,n.height=n.size,n}},{key:"differentState",value:function(t,e){return t!==this.fontOptions.selectedState&&e!==this.fontOptions.hoverState}},{key:"_processLabel",value:function(t,l,u){var e=0,i=0,o=[],n=0;if(o.add=function(t,e,i,o,n,s,r,a,h,d){this.length==t&&(this[t]={width:0,height:0,blocks:[]}),this[t].blocks.push({text:e,font:i,color:o,width:n,height:s,vadjust:r,mod:a,strokeWidth:h,strokeColor:d})},o.accumulate=function(t,e,i){this[t].width+=e,this[t].height=i>this[t].height?i:this[t].height},o.addAndAccumulate=function(t,e,i,o,n,s,r,a,h,d){this.add(t,e,i,o,n,s,r,a,h,d),this.accumulate(t,n,s)},void 0!==this.elementOptions.label){var c=String(this.elementOptions.label).split("\n"),p=c.length;if(this.elementOptions.font.multi)for(var f=0;f<p;f++){var s=this.splitBlocks(c[f],this.elementOptions.font.multi),m=0,r=0;if(s)if(0!=s.length)for(var a=0;a<s.length;a++)if(0<this.fontOptions.maxWdt)for(var h=this.getFormattingValues(t,l,u,s[a].mod),g=s[a].text.split(" "),v=!0,y="",b={width:0},_=0;_<g.length;){var w=v?"":" ",x=b;m+(b=t.measureText(y+w+g[_])).width>this.fontOptions.maxWdt&&0!=x.width?(r=h.height>r?h.height:r,o.add(n,y,h.font,h.color,x.width,h.height,h.vadjust,s[a].mod,h.strokeWidth,h.strokeColor),o.accumulate(n,x.width,r),v=!(y=""),m=0,e=o[n].width>e?o[n].width:e,i+=o[n].height,n++):(y=y+w+g[_],_===g.length-1&&(r=h.height>r?h.height:r,m+=b.width,o.add(n,y,h.font,h.color,b.width,h.height,h.vadjust,s[a].mod,h.strokeWidth,h.strokeColor),o.accumulate(n,b.width,r),a===s.length-1&&(e=o[n].width>e?o[n].width:e,i+=o[n].height,n++)),_++,v=!1)}else{var k=this.getFormattingValues(t,l,u,s[a].mod),O=t.measureText(s[a].text);o.addAndAccumulate(n,s[a].text,k.font,k.color,O.width,k.height,k.vadjust,s[a].mod,k.strokeWidth,k.strokeColor),e=o[n].width>e?o[n].width:e,s.length-1===a&&(i+=o[n].height,n++)}else{var S=this.getFormattingValues(t,l,u,"normal");o.addAndAccumulate(n,"",S.font,S.color,0,S.size,S.vadjust,"normal",S.strokeWidth,S.strokeColor),i+=o[n].height,n++}}else for(var M=0;M<p;M++){var d=this.getFormattingValues(t,l,u,"normal");if(0<this.fontOptions.maxWdt)for(var D=c[M].split(" "),C="",T={width:0},E=0;E<D.length;){var P=""===C?"":" ",I=T;(T=t.measureText(C+P+D[E])).width>this.fontOptions.maxWdt&&0!=I.width?(o.addAndAccumulate(n,C,d.font,d.color,I.width,d.size,d.vadjust,"normal",d.strokeWidth,d.strokeColor),e=o[n].width>e?o[n].width:e,i+=o[n].height,C="",n++):(C=C+P+D[E],E===D.length-1&&(o.addAndAccumulate(n,C,d.font,d.color,T.width,d.size,d.vadjust,"normal",d.strokeWidth,d.strokeColor),e=o[n].width>e?o[n].width:e,i+=o[n].height,n++),E++)}else{var N=c[M],R=t.measureText(N);o.addAndAccumulate(n,N,d.font,d.color,R.width,d.size,d.vadjust,"normal",d.strokeWidth,d.strokeColor),e=o[n].width>e?o[n].width:e,i+=o[n].height,n++}}}0<this.fontOptions.minWdt&&e<this.fontOptions.minWdt&&(e=this.fontOptions.minWdt),this.size.labelHeight=i,0<this.fontOptions.minHgt&&i<this.fontOptions.minHgt&&(i=this.fontOptions.minHgt),this.lines=o,this.lineCount=o.length,this.size.width=e,this.size.height=i,this.selectedState=l,this.hoverState=u}}],[{key:"parseOptions",value:function(t,e){var i,o=2<arguments.length&&void 0!==arguments[2]&&arguments[2];"string"==typeof e.font?(i=e.font.split(" "),t.size=i[0].replace("px",""),t.face=i[1],t.color=i[2],t.vadjust=0):"object"===(0,n.default)(e.font)&&r.fillIfDefined(t,e.font,o),t.size=Number(t.size),t.vadjust=Number(t.vadjust)}}]),a);function a(t,e){var i=2<arguments.length&&void 0!==arguments[2]&&arguments[2];(0,o.default)(this,a),this.body=t,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(e),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=i}t.default=e},function(t,e,i){e.__esModule=!0;var h=o(i(166)),d=o(i(2));function o(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){if(Array.isArray(t))return t;if((0,h.default)(Object(t))){var i=e,o=[],n=!0,e=!1,s=void 0;try{for(var r,a=(0,d.default)(t);!(n=(r=a.next()).done)&&(o.push(r.value),!i||o.length!==i);n=!0);}catch(t){e=!0,s=t}finally{try{!n&&a.return&&a.return()}finally{if(e)throw s}}return o}throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(t,e,i){t.exports={default:i(167),__esModule:!0}},function(t,e,i){i(4),i(50),t.exports=i(168)},function(t,e,i){var o=i(54),n=i(47)("iterator"),s=i(8);t.exports=i(17).isIterable=function(t){t=Object(t);return void 0!==t[n]||"@@iterator"in t||s.hasOwnProperty(o(t))}},function(d,t,e){Object.defineProperty(t,"__esModule",{value:!0});var o=a(e(170)),n=a(e(119)),i=a(e(120)),s=a(e(173)),r=a(e(174)),e=a(e(179));function a(t){return t&&t.__esModule?t:{default:t}}function h(t,e,i){(0,n.default)(this,h);t=(0,s.default)(this,(h.__proto__||(0,o.default)(h)).call(this,t,e,i));return t._setMargins(i),t}e=e.default,(0,r.default)(h,e),(0,i.default)(h,[{key:"resize",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.selected,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.hover;void 0!==this.width&&!this.labelModule.differentState(e,i)||(this.textSize=this.labelModule.getTextSize(t,e,i),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=this.width/2)}},{key:"draw",value:function(t,e,i,o,n,s){this.resize(t,o,n),this.left=e-this.width/2,this.top=i-this.height/2,t.strokeStyle=s.borderColor,t.lineWidth=s.borderWidth,t.lineWidth/=this.body.view.scale,t.lineWidth=Math.min(this.width,t.lineWidth),t.fillStyle=s.color,t.roundRect(this.left,this.top,this.width,this.height,s.borderRadius),this.enableShadow(t,s),t.fill(),this.disableShadow(t,s),t.save(),0<s.borderWidth&&(this.enableBorderDashes(t,s),t.stroke(),this.disableBorderDashes(t,s)),t.restore(),this.updateBoundingBox(e,i,t,o,n),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,o,n)}},{key:"updateBoundingBox",value:function(t,e,i,o,n){this.resize(i,o,n),this.left=t-this.width/2,this.top=e-this.height/2;i=this.options.shapeProperties.borderRadius;this.boundingBox.left=this.left-i,this.boundingBox.top=this.top-i,this.boundingBox.bottom=this.top+this.height+i,this.boundingBox.right=this.left+this.width+i}},{key:"distanceToBorder",value:function(t,e){this.resize(t);t=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(e)),Math.abs(this.height/2/Math.sin(e)))+t}}]),t.default=h},function(t,e,i){t.exports={default:i(171),__esModule:!0}},function(t,e,i){i(172),t.exports=i(17).Object.getPrototypeOf},function(t,e,i){var o=i(49),n=i(48);i(61)("getPrototypeOf",function(){return function(t){return n(o(t))}})},function(t,e,i){e.__esModule=!0;var i=i(62),o=(i=i)&&i.__esModule?i:{default:i};e.default=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":(0,o.default)(e))&&"function"!=typeof e?t:e}},function(t,e,i){e.__esModule=!0;var o=r(i(175)),n=r(i(55)),s=r(i(62));function r(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":(0,s.default)(e)));t.prototype=(0,n.default)(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(o.default?(0,o.default)(t,e):t.__proto__=e)}},function(t,e,i){t.exports={default:i(176),__esModule:!0}},function(t,e,i){i(177),t.exports=i(17).Object.setPrototypeOf},function(t,e,i){var o=i(15);o(o.S,"Object",{setPrototypeOf:i(178).set})},function(t,e,n){function s(t,e){if(o(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")}var i=n(23),o=n(22);t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,i,o){try{(o=n(18)(Function.call,n(78).f(Object.prototype,"__proto__").set,2))(t,[]),i=!(t instanceof Array)}catch(t){i=!0}return function(t,e){return s(t,e),i?t.__proto__=e:o(t,e),t}}({},!1):void 0),check:s}},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o=s(i(62)),n=s(i(119));function s(t){return t&&t.__esModule?t:{default:t}}function r(t,e,i){(0,n.default)(this,r),this.body=e,this.labelModule=i,this.setOptions(t),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.boundingBox={top:0,left:0,right:0,bottom:0}}(0,s(i(120)).default)(r,[{key:"setOptions",value:function(t){this.options=t}},{key:"_setMargins",value:function(t){this.margin={},this.options.margin&&("object"==(0,o.default)(this.options.margin)?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),t.adjustSizes(this.margin)}},{key:"_distanceToBorder",value:function(t,e){var i=this.options.borderWidth;return this.resize(t),Math.min(Math.abs(this.width/2/Math.cos(e)),Math.abs(this.height/2/Math.sin(e)))+i}},{key:"enableShadow",value:function(t,e){e.shadow&&(t.shadowColor=e.shadowColor,t.shadowBlur=e.shadowSize,t.shadowOffsetX=e.shadowX,t.shadowOffsetY=e.shadowY)}},{key:"disableShadow",value:function(t,e){e.shadow&&(t.shadowColor="rgba(0,0,0,0)",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0)}},{key:"enableBorderDashes",value:function(t,e){var i;!1!==e.borderDashes&&(void 0!==t.setLineDash?(i=e.borderDashes,t.setLineDash(i=!0===i?[5,15]:i)):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,e.borderDashes=!1))}},{key:"disableBorderDashes",value:function(t,e){!1!==e.borderDashes&&(void 0!==t.setLineDash?t.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,e.borderDashes=!1))}}]),e.default=r},function(d,t,e){Object.defineProperty(t,"__esModule",{value:!0});var o=a(e(170)),n=a(e(119)),i=a(e(120)),s=a(e(173)),r=a(e(174)),e=a(e(181));function a(t){return t&&t.__esModule?t:{default:t}}function h(t,e,i){(0,n.default)(this,h);t=(0,s.default)(this,(h.__proto__||(0,o.default)(h)).call(this,t,e,i));return t._setMargins(i),t}e=e.default,(0,r.default)(h,e),(0,i.default)(h,[{key:"resize",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.selected,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.hover;3<arguments.length&&void 0!==arguments[3]||this.options.size;void 0!==this.width&&!this.labelModule.differentState(e,i)||(this.textSize=this.labelModule.getTextSize(t,e,i),t=Math.max(this.textSize.width+this.margin.right+this.margin.left,this.textSize.height+this.margin.top+this.margin.bottom),this.options.size=t/2,this.width=t,this.height=t,this.radius=this.width/2)}},{key:"draw",value:function(t,e,i,o,n,s){this.resize(t,o,n),this.left=e-this.width/2,this.top=i-this.height/2,this._drawRawCircle(t,e,i,o,n,s),this.boundingBox.top=i-s.size,this.boundingBox.left=e-s.size,this.boundingBox.right=e+s.size,this.boundingBox.bottom=i+s.size,this.updateBoundingBox(e,i),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,i,o,n)}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size}},{key:"distanceToBorder",value:function(t,e){return this.resize(t),.5*this.width}}]),t.default=h},function(d,t,e){Object.defineProperty(t,"__esModule",{value:!0});var o=a(e(170)),n=a(e(119)),i=a(e(120)),s=a(e(173)),r=a(e(174)),e=a(e(179));function a(t){return t&&t.__esModule?t:{default:t}}e=e.default,(0,r.default)(h,e),(0,i.default)(h,[{key:"setOptions",value:function(t,e,i){this.options=t,this.setImages(e,i)}},{key:"setImages",value:function(t,e){t&&(this.imageObj=t,e&&(this.imageObjAlt=e))}},{key:"switchImages",value:function(t){var e;(t&&!this.selected||!t&&this.selected)&&(e=this.imageObj,this.imageObj=this.imageObjAlt,this.imageObjAlt=e),this.selected=t}},{key:"_resizeImage",value:function(){var t,e,i,o=!1;this.imageObj.width&&this.imageObj.height?!1===this.imageLoaded&&(o=this.imageLoaded=!0):this.imageLoaded=!1,this.width&&this.height&&!0!==o||(this.imageObj.width&&this.imageObj.height&&(e=t=0),e=!1===this.options.shapeProperties.useImageSize?this.imageObj.width>this.imageObj.height?(i=this.imageObj.width/this.imageObj.height,t=2*this.options.size*i||this.imageObj.width,2*this.options.size||this.imageObj.height):(i=this.imageObj.width&&this.imageObj.height?this.imageObj.height/this.imageObj.width:1,t=2*this.options.size,2*this.options.size*i):(t=this.imageObj.width,this.imageObj.height),this.width=t,this.height=e,this.radius=.5*this.width)}},{key:"_drawRawCircle",value:function(t,e,i,o,n,s){var r=s.borderWidth/this.body.view.scale;t.lineWidth=Math.min(this.width,r),t.strokeStyle=s.borderColor,t.fillStyle=s.color,t.circle(e,i,s.size),this.enableShadow(t,s),t.fill(),this.disableShadow(t,s),t.save(),0<r&&(this.enableBorderDashes(t,s),t.stroke(),this.disableBorderDashes(t,s)),t.restore()}},{key:"_drawImageAtPosition",value:function(t,e){if(0!=this.imageObj.width){t.globalAlpha=1,this.enableShadow(t,e);var i=this.imageObj.width/this.width/this.body.view.scale;if(2<i&&!0===this.options.shapeProperties.interpolation){for(var o=this.imageObj.width,n=this.imageObj.height,s=document.createElement("canvas"),r=(s.width=o,s.height=o,s.getContext("2d")),a=(i*=.5,r.drawImage(this.imageObj,0,0,o*=.5,n*=.5),0),h=1;2<i&&h<4;)r.drawImage(s,a,0,o,n,a+o,0,o/2,n/2),a+=o,i*=.5,o*=.5,n*=.5,h+=1;t.drawImage(s,a,0,o,n,this.left,this.top,this.width,this.height)}else t.drawImage(this.imageObj,this.left,this.top,this.width,this.height);this.disableShadow(t,e)}}},{key:"_drawImageLabel",value:function(t,e,i,o,n){var s,r=0;void 0!==this.height&&(r=.5*this.height,1<=(s=this.labelModule.getTextSize(t,o,n)).lineCount&&(r+=s.height/2)),s=i+r,this.options.label&&(this.labelOffset=r),this.labelModule.draw(t,e,s,o,n,"hanging")}}]);r=h;function h(t,e,i){(0,n.default)(this,h);t=(0,s.default)(this,(h.__proto__||(0,o.default)(h)).call(this,t,e,i));return t.labelOffset=0,t.imageLoaded=!1,t.selected=!1,t}t.default=r},function(d,t,e){Object.defineProperty(t,"__esModule",{value:!0});var s=n(e(170)),r=n(e(119)),i=n(e(120)),a=n(e(173)),o=n(e(174)),e=n(e(181));function n(t){return t&&t.__esModule?t:{default:t}}function h(t,e,i,o,n){(0,r.default)(this,h);t=(0,a.default)(this,(h.__proto__||(0,s.default)(h)).call(this,t,e,i));return t.setImages(o,n),t._swapToImageResizeWhenImageLoaded=!0,t}e=e.default,(0,o.default)(h,e),(0,i.default)(h,[{key:"resize",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.selected,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.hover;void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height||this.labelModule.differentState(e,i)?(e=2*this.options.size,this.width=e,this.height=e,this._swapToImageResizeWhenImageLoaded=!0,this.radius=.5*this.width):(this._swapToImageResizeWhenImageLoaded&&(this.width=void 0,this.height=void 0,this._swapToImageResizeWhenImageLoaded=!1),this._resizeImage())}},{key:"draw",value:function(t,e,i,o,n,s){this.imageObjAlt&&this.switchImages(o),this.resize(),this.left=e-this.width/2,this.top=i-this.height/2;Math.min(.5*this.height,.5*this.width);this._drawRawCircle(t,e,i,o,n,s),t.save(),t.clip(),this._drawImageAtPosition(t,s),t.restore(),this._drawImageLabel(t,e,i,o,n),this.updateBoundingBox(e,i)}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size,this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}},{key:"distanceToBorder",value:function(t,e){return this.resize(t),.5*this.width}}]),t.default=h},function(d,t,e){Object.defineProperty(t,"__esModule",{value:!0});var o=a(e(170)),n=a(e(119)),i=a(e(120)),s=a(e(173)),r=a(e(174)),e=a(e(179));function a(t){return t&&t.__esModule?t:{default:t}}function h(t,e,i){(0,n.default)(this,h);t=(0,s.default)(this,(h.__proto__||(0,o.default)(h)).call(this,t,e,i));return t._setMargins(i),t}e=e.default,(0,r.default)(h,e),(0,i.default)(h,[{key:"resize",value:function(t,e,i){void 0!==this.width&&!this.labelModule.differentState(e,i)||(this.textSize=this.labelModule.getTextSize(t,e,i),t=this.textSize.width+this.margin.right+this.margin.left,this.width=t,this.height=t,this.radius=this.width/2)}},{key:"draw",value:function(t,e,i,o,n,s){this.resize(t,o,n),this.left=e-this.width/2,this.top=i-this.height/2;var r=s.borderWidth/this.body.view.scale;t.lineWidth=Math.min(this.width,r),t.strokeStyle=s.borderColor,t.fillStyle=s.color,t.database(e-this.width/2,i-this.height/2,this.width,this.height),this.enableShadow(t,s),t.fill(),this.disableShadow(t,s),t.save(),0<r&&(this.enableBorderDashes(t,s),t.stroke(),this.disableBorderDashes(t,s)),t.restore(),this.updateBoundingBox(e,i,t,o,n),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,o,n)}},{key:"updateBoundingBox",value:function(t,e,i,o,n){this.resize(i,o,n),this.left=t-.5*this.width,this.top=e-.5*this.height,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),t.default=h},function(d,t,e){Object.defineProperty(t,"__esModule",{value:!0});var o=a(e(170)),n=a(e(119)),i=a(e(120)),s=a(e(173)),r=a(e(174)),e=a(e(185));function a(t){return t&&t.__esModule?t:{default:t}}function h(t,e,i){return(0,n.default)(this,h),(0,s.default)(this,(h.__proto__||(0,o.default)(h)).call(this,t,e,i))}e=e.default,(0,r.default)(h,e),(0,i.default)(h,[{key:"resize",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.selected,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.hover;this._resizeShape(e,i,arguments[3])}},{key:"draw",value:function(t,e,i,o,n,s){this._drawShape(t,"diamond",4,e,i,o,n,s)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),t.default=h},function(d,t,e){Object.defineProperty(t,"__esModule",{value:!0});var o=a(e(170)),n=a(e(119)),i=a(e(120)),s=a(e(173)),r=a(e(174)),e=a(e(179));function a(t){return t&&t.__esModule?t:{default:t}}function h(t,e,i){return(0,n.default)(this,h),(0,s.default)(this,(h.__proto__||(0,o.default)(h)).call(this,t,e,i))}e=e.default,(0,r.default)(h,e),(0,i.default)(h,[{key:"_resizeShape",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.selected,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.hover,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{size:this.options.size};void 0!==this.width&&!this.labelModule.differentState(t,e)||(t=2*i.size,this.width=t,this.height=t,this.radius=.5*this.width)}},{key:"_drawShape",value:function(t,e,i,o,n,s,r,a){this._resizeShape(s,r,a),this.left=o-this.width/2,this.top=n-this.height/2;var h=a.borderWidth/this.body.view.scale;t.lineWidth=Math.min(this.width,h),t.strokeStyle=a.borderColor,t.fillStyle=a.color,t[e](o,n,a.size),this.enableShadow(t,a),t.fill(),this.disableShadow(t,a),t.save(),0<h&&(this.enableBorderDashes(t,a),t.stroke(),this.disableBorderDashes(t,a)),t.restore(),void 0!==this.options.label&&(e=n+.5*this.height+3,this.labelModule.draw(t,o,e,s,r,"hanging")),this.updateBoundingBox(o,n)}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size,void 0!==this.options.label&&0<this.labelModule.size.width&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+3))}}]),t.default=h},function(d,t,e){Object.defineProperty(t,"__esModule",{value:!0});var o=a(e(170)),n=a(e(119)),i=a(e(120)),s=a(e(173)),r=a(e(174)),e=a(e(185));function a(t){return t&&t.__esModule?t:{default:t}}function h(t,e,i){return(0,n.default)(this,h),(0,s.default)(this,(h.__proto__||(0,o.default)(h)).call(this,t,e,i))}e=e.default,(0,r.default)(h,e),(0,i.default)(h,[{key:"resize",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.selected,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.hover;this._resizeShape(e,i,arguments[3])}},{key:"draw",value:function(t,e,i,o,n,s){this._drawShape(t,"circle",2,e,i,o,n,s)}},{key:"distanceToBorder",value:function(t,e){return this.resize(t),this.options.size}}]),t.default=h},function(d,t,e){Object.defineProperty(t,"__esModule",{value:!0});var o=a(e(170)),n=a(e(119)),i=a(e(120)),s=a(e(173)),r=a(e(174)),e=a(e(179));function a(t){return t&&t.__esModule?t:{default:t}}function h(t,e,i){return(0,n.default)(this,h),(0,s.default)(this,(h.__proto__||(0,o.default)(h)).call(this,t,e,i))}e=e.default,(0,r.default)(h,e),(0,i.default)(h,[{key:"resize",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.selected,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.hover;void 0!==this.width&&!this.labelModule.differentState(e,i)||(t=this.labelModule.getTextSize(t,e,i),this.height=2*t.height,this.width=t.width+this.height,this.radius=.5*this.width)}},{key:"draw",value:function(t,e,i,o,n,s){this.resize(t,o,n),this.left=e-.5*this.width,this.top=i-.5*this.height;var r=s.borderWidth/this.body.view.scale;t.lineWidth=Math.min(this.width,r),t.strokeStyle=s.borderColor,t.fillStyle=s.color,t.ellipse(this.left,this.top,this.width,this.height),this.enableShadow(t,s),t.fill(),this.disableShadow(t,s),t.save(),0<r&&(this.enableBorderDashes(t,s),t.stroke(),this.disableBorderDashes(t,s)),t.restore(),this.updateBoundingBox(e,i,t,o,n),this.labelModule.draw(t,e,i,o,n)}},{key:"updateBoundingBox",value:function(t,e,i,o,n){this.resize(i,o,n),this.left=t-.5*this.width,this.top=e-.5*this.height,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"distanceToBorder",value:function(t,e){this.resize(t);var t=.5*this.width,i=.5*this.height,o=Math.sin(e)*t,e=Math.cos(e)*i;return t*i/Math.sqrt(o*o+e*e)}}]),t.default=h},function(d,t,e){Object.defineProperty(t,"__esModule",{value:!0});var o=a(e(170)),n=a(e(119)),i=a(e(120)),s=a(e(173)),r=a(e(174)),e=a(e(179));function a(t){return t&&t.__esModule?t:{default:t}}function h(t,e,i){(0,n.default)(this,h);t=(0,s.default)(this,(h.__proto__||(0,o.default)(h)).call(this,t,e,i));return t._setMargins(i),t}e=e.default,(0,r.default)(h,e),(0,i.default)(h,[{key:"resize",value:function(t,e,i){void 0!==this.width&&!this.labelModule.differentState(e,i)||(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(t,e,i,o,n,s){this.resize(t,o,n),this.options.icon.size=this.options.icon.size||50,this.left=e-this.width/2,this.top=i-this.height/2,this._icon(t,e,i,o,n,s),void 0!==this.options.label&&this.labelModule.draw(t,this.left+this.iconSize.width/2+this.margin.left,i+this.height/2+5,o),this.updateBoundingBox(e,i)}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-.5*this.options.icon.size,this.boundingBox.left=t-.5*this.options.icon.size,this.boundingBox.right=t+.5*this.options.icon.size,this.boundingBox.bottom=e+.5*this.options.icon.size,void 0!==this.options.label&&0<this.labelModule.size.width&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5))}},{key:"_icon",value:function(t,e,i,o,n,s){var r=Number(this.options.icon.size);void 0!==this.options.icon.code?(t.font=(o?"bold ":"")+r+"px "+this.options.icon.face,t.fillStyle=this.options.icon.color||"black",t.textAlign="center",t.textBaseline="middle",this.enableShadow(t,s),t.fillText(this.options.icon.code,e,i),this.disableShadow(t,s)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),t.default=h},function(d,t,e){Object.defineProperty(t,"__esModule",{value:!0});var s=n(e(170)),r=n(e(119)),i=n(e(120)),a=n(e(173)),o=n(e(174)),e=n(e(181));function n(t){return t&&t.__esModule?t:{default:t}}function h(t,e,i,o,n){(0,r.default)(this,h);t=(0,a.default)(this,(h.__proto__||(0,s.default)(h)).call(this,t,e,i));return t.setImages(o,n),t}e=e.default,(0,o.default)(h,e),(0,i.default)(h,[{key:"resize",value:function(){this._resizeImage()}},{key:"draw",value:function(t,e,i,o,n,s){var r,a;this.imageObjAlt&&this.switchImages(o),this.selected=o,this.resize(),this.left=e-this.width/2,this.top=i-this.height/2,!0===this.options.shapeProperties.useBorderWithImage&&(r=this.options.borderWidth,a=this.options.borderWidthSelected||2*this.options.borderWidth,a=(o?a:r)/this.body.view.scale,t.lineWidth=Math.min(this.width,a),t.beginPath(),t.strokeStyle=(o?this.options.color.highlight:n?this.options.color.hover:this.options.color).border,t.fillStyle=(o?this.options.color.highlight:n?this.options.color.hover:this.options.color).background,t.rect(this.left-.5*t.lineWidth,this.top-.5*t.lineWidth,this.width+t.lineWidth,this.height+t.lineWidth),t.fill(),t.save(),0<a&&(this.enableBorderDashes(t,s),t.stroke(),this.disableBorderDashes(t,s)),t.restore(),t.closePath()),this._drawImageAtPosition(t,s),this._drawImageLabel(t,e,i,o,n),this.updateBoundingBox(e,i)}},{key:"updateBoundingBox",value:function(t,e){this.resize(),this.left=t-this.width/2,this.top=e-this.height/2,this.boundingBox.top=this.top,this.boundingBox.left=this.left,this.boundingBox.right=this.left+this.width,this.boundingBox.bottom=this.top+this.height,void 0!==this.options.label&&0<this.labelModule.size.width&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),t.default=h},function(d,t,e){Object.defineProperty(t,"__esModule",{value:!0});var o=a(e(170)),n=a(e(119)),i=a(e(120)),s=a(e(173)),r=a(e(174)),e=a(e(185));function a(t){return t&&t.__esModule?t:{default:t}}function h(t,e,i){return(0,n.default)(this,h),(0,s.default)(this,(h.__proto__||(0,o.default)(h)).call(this,t,e,i))}e=e.default,(0,r.default)(h,e),(0,i.default)(h,[{key:"resize",value:function(){this._resizeShape()}},{key:"draw",value:function(t,e,i,o,n,s){this._drawShape(t,"square",2,e,i,o,n,s)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),t.default=h},function(d,t,e){Object.defineProperty(t,"__esModule",{value:!0});var o=a(e(170)),n=a(e(119)),i=a(e(120)),s=a(e(173)),r=a(e(174)),e=a(e(185));function a(t){return t&&t.__esModule?t:{default:t}}function h(t,e,i){return(0,n.default)(this,h),(0,s.default)(this,(h.__proto__||(0,o.default)(h)).call(this,t,e,i))}e=e.default,(0,r.default)(h,e),(0,i.default)(h,[{key:"resize",value:function(t,e,i,o){this._resizeShape(e,i,o)}},{key:"draw",value:function(t,e,i,o,n,s){this._drawShape(t,"star",4,e,i,o,n,s)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),t.default=h},function(d,t,e){Object.defineProperty(t,"__esModule",{value:!0});var o=a(e(170)),n=a(e(119)),i=a(e(120)),s=a(e(173)),r=a(e(174)),e=a(e(179));function a(t){return t&&t.__esModule?t:{default:t}}function h(t,e,i){(0,n.default)(this,h);t=(0,s.default)(this,(h.__proto__||(0,o.default)(h)).call(this,t,e,i));return t._setMargins(i),t}e=e.default,(0,r.default)(h,e),(0,i.default)(h,[{key:"resize",value:function(t,e,i){void 0!==this.width&&!this.labelModule.differentState(e,i)||(this.textSize=this.labelModule.getTextSize(t,e,i),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(t,e,i,o,n,s){this.resize(t,o,n),this.left=e-this.width/2,this.top=i-this.height/2,this.enableShadow(t,s),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,o,n),this.disableShadow(t,s),this.updateBoundingBox(e,i,t,o,n)}},{key:"updateBoundingBox",value:function(t,e,i,o,n){this.resize(i,o,n),this.left=t-this.width/2,this.top=e-this.height/2,this.boundingBox.top=this.top,this.boundingBox.left=this.left,this.boundingBox.right=this.left+this.width,this.boundingBox.bottom=this.top+this.height}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),t.default=h},function(d,t,e){Object.defineProperty(t,"__esModule",{value:!0});var o=a(e(170)),n=a(e(119)),i=a(e(120)),s=a(e(173)),r=a(e(174)),e=a(e(185));function a(t){return t&&t.__esModule?t:{default:t}}function h(t,e,i){return(0,n.default)(this,h),(0,s.default)(this,(h.__proto__||(0,o.default)(h)).call(this,t,e,i))}e=e.default,(0,r.default)(h,e),(0,i.default)(h,[{key:"resize",value:function(t){this._resizeShape()}},{key:"draw",value:function(t,e,i,o,n,s){this._drawShape(t,"triangle",3,e,i,o,n,s)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),t.default=h},function(d,t,e){Object.defineProperty(t,"__esModule",{value:!0});var o=a(e(170)),n=a(e(119)),i=a(e(120)),s=a(e(173)),r=a(e(174)),e=a(e(185));function a(t){return t&&t.__esModule?t:{default:t}}function h(t,e,i){return(0,n.default)(this,h),(0,s.default)(this,(h.__proto__||(0,o.default)(h)).call(this,t,e,i))}e=e.default,(0,r.default)(h,e),(0,i.default)(h,[{key:"resize",value:function(t){this._resizeShape()}},{key:"draw",value:function(t,e,i,o,n,s){this._drawShape(t,"triangleDown",3,e,i,o,n,s)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),t.default=h},function(l,t,e){Object.defineProperty(t,"__esModule",{value:!0});var n=o(e(119)),i=o(e(120)),s=o(e(196)),r=o(e(164));function o(t){return t&&t.__esModule?t:{default:t}}var a=e(1),h=e(89),u=e(93),e=((0,i.default)(d,[{key:"bindEventListeners",value:function(){var s=this;this.body.emitter.on("_forceDisableDynamicCurves",function(t){"dynamic"===t&&(t="continuous");var e,i,o,n=!1;for(e in s.body.edges)s.body.edges.hasOwnProperty(e)&&(i=s.body.edges[e],void 0===(o=s.body.data.edges._data[e])||void 0!==(o=o.smooth)&&!0===o.enabled&&"dynamic"===o.type&&(void 0===t?i.setOptions({smooth:!1}):i.setOptions({smooth:{type:t}}),n=!0));!0===n&&s.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",function(){s.reconnectEdges()}),this.body.emitter.on("refreshEdges",this.refresh.bind(this)),this.body.emitter.on("refresh",this.refresh.bind(this)),this.body.emitter.on("destroy",function(){a.forEach(s.edgesListeners,function(t,e){s.body.data.edges&&s.body.data.edges.off(e,t)}),delete s.body.functions.createEdge,delete s.edgesListeners.add,delete s.edgesListeners.update,delete s.edgesListeners.remove,delete s.edgesListeners})}},{key:"setOptions",value:function(t){if(void 0!==(this.edgeOptions=t)){s.default.parseOptions(this.options,t);var e=!1;if(void 0!==t.smooth)for(var i in this.body.edges)this.body.edges.hasOwnProperty(i)&&(e=this.body.edges[i].updateEdgeType()||e);if(void 0!==t.font)for(var o in r.default.parseOptions(this.options.font,t),this.body.edges)this.body.edges.hasOwnProperty(o)&&this.body.edges[o].updateLabelModule();void 0===t.hidden&&void 0===t.physics&&!0!==e||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(t){var i=this,e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],o=this.body.data.edges;if(t instanceof h||t instanceof u)this.body.data.edges=t;else if(Array.isArray(t))this.body.data.edges=new h,this.body.data.edges.add(t);else{if(t)throw new TypeError("Array or DataSet expected");this.body.data.edges=new h}o&&a.forEach(this.edgesListeners,function(t,e){o.off(e,t)}),this.body.edges={},this.body.data.edges&&(a.forEach(this.edgesListeners,function(t,e){i.body.data.edges.on(e,t)}),t=this.body.data.edges.getIds(),this.add(t,!0)),!1===e&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(t){for(var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],i=this.body.edges,o=this.body.data.edges,n=0;n<t.length;n++){var s=t[n],r=i[s],r=(r&&r.disconnect(),o.get(s,{showInternalIds:!0}));i[s]=this.create(r)}!1===e&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(t){for(var e=this.body.edges,i=this.body.data.edges,o=!1,n=0;n<t.length;n++){var s=t[n],r=i.get(s),a=e[s];void 0!==a?(a.disconnect(),o=a.setOptions(r)||o,a.connect()):(this.body.edges[s]=this.create(r),o=!0)}!0===o?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(t){for(var e=this.body.edges,i=0;i<t.length;i++){var o=t[i],n=e[o];void 0!==n&&(n.cleanup(),n.disconnect(),delete e[o])}this.body.emitter.emit("_dataChanged")}},{key:"refresh",value:function(){var t,e=this.body.edges;for(t in e){var i=void 0,o=(e.hasOwnProperty(t)&&(i=e[t]),this.body.data.edges._data[t]);void 0!==i&&void 0!==o&&i.setOptions(o)}}},{key:"create",value:function(t){return new s.default(t,this.body,this.options,this.defaultOptions,this.edgeOptions)}},{key:"reconnectEdges",value:function(){var t,e,i=this.body.nodes,o=this.body.edges;for(t in i)i.hasOwnProperty(t)&&(i[t].edges=[]);for(t in o)o.hasOwnProperty(t)&&((e=o[t]).from=null,e.to=null,e.connect())}},{key:"getConnectedNodes",value:function(t){var e=[];return void 0!==this.body.edges[t]&&((t=this.body.edges[t]).fromId&&e.push(t.fromId),t.toId&&e.push(t.toId)),e}}]),d);function d(t,e,i){var o=this;(0,n.default)(this,d),this.body=t,this.images=e,this.groups=i,this.body.functions.createEdge=this.create.bind(this),this.edgesListeners={add:function(t,e){o.add(e.items)},update:function(t,e){o.update(e.items)},remove:function(t,e){o.remove(e.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(t,e,i,o){return e===t?.5:Math.max(0,(o-t)*(1/(e-t)))}},selectionWidth:1.5,selfReferenceSize:20,shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},a.extend(this.options,this.defaultOptions),this.bindEventListeners()}t.default=e},function(l,t,e){Object.defineProperty(t,"__esModule",{value:!0});var u=i(e(90)),s=i(e(55)),r=i(e(62)),c=i(e(119)),p=i(e(120)),a=i(e(164)),o=i(e(197)),n=i(e(201)),f=i(e(202)),m=i(e(203));function i(t){return t&&t.__esModule?t:{default:t}}var h=e(1),e=((0,p.default)(d,[{key:"setOptions",value:function(t){var e;if(t)return d.parseOptions(this.options,t,!0,this.globalOptions),void 0!==t.id&&(this.id=t.id),void 0!==t.from&&(this.fromId=t.from),void 0!==t.to&&(this.toId=t.to),void 0!==t.title&&(this.title=t.title),void 0!==t.value&&(t.value=parseFloat(t.value)),this.choosify(t),this.updateLabelModule(t),this.labelModule.propagateFonts(this.edgeOptions,t,this.defaultOptions),e=this.updateEdgeType(),this._setInteractionWidths(),this.connect(),void 0!==t.hidden||void 0!==t.physics||e}},{key:"choosify",value:function(t){this.chooser=!0;var t=[t,this.options,this.defaultOptions],e=h.topMost(t,"chosen");"boolean"==typeof e?this.chooser=e:"object"===(void 0===e?"undefined":(0,r.default)(e))&&("boolean"!=typeof(e=h.topMost(t,["chosen","edge"]))&&"function"!=typeof e||(this.chooser=e))}},{key:"getFormattingValues",value:function(){var t=!0===this.options.arrows.to||!0===this.options.arrows.to.enabled,e=!0===this.options.arrows.from||!0===this.options.arrows.from.enabled,i=!0===this.options.arrows.middle||!0===this.options.arrows.middle.enabled,o=this.options.color.inherit,t={toArrow:t,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,middleArrow:i,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,fromArrow:e,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,arrowStrikethrough:this.options.arrowStrikethrough,color:o?void 0:this.options.color.color,inheritsColor:o,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width};return this.selected||this.hover?!0===this.chooser?this.selected?("function"==typeof(i=this.options.selectionWidth)?t.width=i(t.width):"number"==typeof i&&(t.width+=i),t.width=Math.max(t.width,.3/this.body.view.scale),t.color=this.options.color.highlight,t.shadow=this.options.shadow.enabled):this.hover&&("function"==typeof(e=this.options.hoverWidth)?t.width=e(t.width):"number"==typeof e&&(t.width+=e),t.width=Math.max(t.width,.3/this.body.view.scale),t.color=this.options.color.hover,t.shadow=this.options.shadow.enabled):"function"==typeof this.chooser&&(this.chooser(t,this.options.id,this.selected,this.hover),void 0!==t.color&&(t.inheritsColor=!1),!1===t.shadow&&(t.shadowColor===this.options.shadow.color&&t.shadowSize===this.options.shadow.size&&t.shadowX===this.options.shadow.x&&t.shadowY===this.options.shadow.y||(t.shadow=!0))):(t.shadow=this.options.shadow.enabled,t.width=Math.max(t.width,.3/this.body.view.scale)),t}},{key:"updateLabelModule",value:function(t){this.labelModule.setOptions(this.options,!0),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize),this.labelModule.constrain(this.edgeOptions,t,this.defaultOptions),this.labelModule.choosify(this.edgeOptions,t,this.defaultOptions)}},{key:"updateEdgeType",value:function(){var t=this.options.smooth,e=!1,i=!0;return void 0!==this.edgeType&&!0===(i=this.edgeType instanceof n.default&&!0===t.enabled&&"dynamic"===t.type||this.edgeType instanceof o.default&&!0===t.enabled&&"cubicBezier"===t.type||this.edgeType instanceof f.default&&!0===t.enabled&&"dynamic"!==t.type&&"cubicBezier"!==t.type||this.edgeType instanceof m.default&&!1===t.type.enabled?!1:i)&&(e=this.cleanup()),!0===i?!0===t.enabled?"dynamic"===t.type?(e=!0,this.edgeType=new n.default(this.options,this.body,this.labelModule)):"cubicBezier"===t.type?this.edgeType=new o.default(this.options,this.body,this.labelModule):this.edgeType=new f.default(this.options,this.body,this.labelModule):this.edgeType=new m.default(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),e}},{key:"connect",value:function(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=void 0!==this.from&&void 0!==this.to,!0===this.connected?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}},{key:"disconnect",value:function(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}},{key:"getTitle",value:function(){return this.title}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(t,e,i){void 0!==this.options.value?(t=this.options.scaling.customScalingFunction(t,e,i,this.options.value),e=this.options.scaling.max-this.options.scaling.min,!0===this.options.scaling.label.enabled&&(i=this.options.scaling.label.max-this.options.scaling.label.min,this.options.font.size=this.options.scaling.label.min+t*i),this.options.width=this.options.scaling.min+t*e):(this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize),this._setInteractionWidths(),this.updateLabelModule()}},{key:"_setInteractionWidths",value:function(){"function"==typeof this.options.hoverWidth?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,"function"==typeof this.options.selectionWidth?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}},{key:"draw",value:function(t){var e,i,o=this.getFormattingValues();o.hidden||(e=this.edgeType.getViaNode(),i={},this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,o.fromArrow&&(i.from=this.edgeType.getArrowData(t,"from",e,this.selected,this.hover,o),!1===o.arrowStrikethrough&&(this.edgeType.fromPoint=i.from.core)),o.toArrow&&(i.to=this.edgeType.getArrowData(t,"to",e,this.selected,this.hover,o),!1===o.arrowStrikethrough&&(this.edgeType.toPoint=i.to.core)),o.middleArrow&&(i.middle=this.edgeType.getArrowData(t,"middle",e,this.selected,this.hover,o)),this.edgeType.drawLine(t,o,this.selected,this.hover,e),this.drawArrows(t,i,o),this.drawLabel(t,e))}},{key:"drawArrows",value:function(t,e,i){i.fromArrow&&this.edgeType.drawArrowHead(t,i,this.selected,this.hover,e.from),i.middleArrow&&this.edgeType.drawArrowHead(t,i,this.selected,this.hover,e.middle),i.toArrow&&this.edgeType.drawArrowHead(t,i,this.selected,this.hover,e.to)}},{key:"drawLabel",value:function(t,e){var i,o,n,s,r;void 0!==this.options.label&&(i=this.from,s=this.to,o=this.from.selected||this.to.selected||this.selected,i.id!=s.id?(this.labelModule.pointToSelf=!1,r=this.edgeType.getPoint(.5,e),t.save(),"horizontal"!==this.options.font.align&&(this.labelModule.calculateLabelSize(t,o,this.hover,r.x,r.y),t.translate(r.x,this.labelModule.size.yLine),this._rotateForLabelAlignment(t)),this.labelModule.draw(t,r.x,r.y,o,this.hover),t.restore()):(this.labelModule.pointToSelf=!0,s=this.options.selfReferenceSize,e=i.shape.width>i.shape.height?(n=i.x+.5*i.shape.width,i.y-s):(n=i.x+s,i.y-.5*i.shape.height),r=this._pointOnCircle(n,e,s,.125),this.labelModule.draw(t,r.x,r.y,o,this.hover)))}},{key:"isOverlappingWith",value:function(t){var e,i,o,n,s;return!!this.connected&&(e=this.from.x,i=this.from.y,o=this.to.x,n=this.to.y,s=t.left,t=t.top,this.edgeType.getDistanceToEdge(e,i,o,n,s,t)<10)}},{key:"_rotateForLabelAlignment",value:function(t){var e=this.from.y-this.to.y,i=this.from.x-this.to.x,e=Math.atan2(e,i);(e<-1&&i<0||0<e&&i<0)&&(e+=Math.PI),t.rotate(e)}},{key:"_pointOnCircle",value:function(t,e,i,o){o=2*o*Math.PI;return{x:t+i*Math.cos(o),y:e-i*Math.sin(o)}}},{key:"select",value:function(){this.selected=!0}},{key:"unselect",value:function(){this.selected=!1}},{key:"cleanup",value:function(){return this.edgeType.cleanup()}}],[{key:"parseOptions",value:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]&&arguments[2],o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};if(h.selectiveDeepExtend(["arrowStrikethrough","id","from","hidden","hoverWidth","label","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","to","title","value","width"],t,e,i),h.mergeOptions(t,e,"smooth",i,o),h.mergeOptions(t,e,"shadow",i,o),void 0!==e.dashes&&null!==e.dashes?t.dashes=e.dashes:!0===i&&null===e.dashes&&(t.dashes=(0,s.default)(o.dashes)),void 0!==e.scaling&&null!==e.scaling?(void 0!==e.scaling.min&&(t.scaling.min=e.scaling.min),void 0!==e.scaling.max&&(t.scaling.max=e.scaling.max),h.mergeOptions(t.scaling,e.scaling,"label",i,o.scaling)):!0===i&&null===e.scaling&&(t.scaling=(0,s.default)(o.scaling)),void 0!==e.arrows&&null!==e.arrows)if("string"==typeof e.arrows){var n=e.arrows.toLowerCase();t.arrows.to.enabled=-1!=n.indexOf("to"),t.arrows.middle.enabled=-1!=n.indexOf("middle"),t.arrows.from.enabled=-1!=n.indexOf("from")}else{if("object"!==(0,r.default)(e.arrows))throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+(0,u.default)(e.arrows));h.mergeOptions(t.arrows,e.arrows,"to",i,o.arrows),h.mergeOptions(t.arrows,e.arrows,"middle",i,o.arrows),h.mergeOptions(t.arrows,e.arrows,"from",i,o.arrows)}else!0===i&&null===e.arrows&&(t.arrows=(0,s.default)(o.arrows));void 0!==e.color&&null!==e.color?(t.color=h.deepExtend({},t.color,!0),h.isString(e.color)?(t.color.color=e.color,t.color.highlight=e.color,t.color.hover=e.color,t.color.inherit=!1):(n=!1,void 0!==e.color.color&&(t.color.color=e.color.color,n=!0),void 0!==e.color.highlight&&(t.color.highlight=e.color.highlight,n=!0),void 0!==e.color.hover&&(t.color.hover=e.color.hover,n=!0),void 0!==e.color.inherit&&(t.color.inherit=e.color.inherit),void 0!==e.color.opacity&&(t.color.opacity=Math.min(1,Math.max(0,e.color.opacity))),void 0===e.color.inherit&&!0===n&&(t.color.inherit=!1))):!0===i&&null===e.color&&(t.color=h.bridgeObject(o.color)),void 0!==e.font&&null!==e.font?a.default.parseOptions(t.font,e):!0===i&&null===e.font&&(t.font=h.bridgeObject(o.font))}}]),d);function d(t,e,i,o,n){if((0,c.default)(this,d),void 0===e)throw"No body provided";this.options=h.bridgeObject(i),this.globalOptions=i,this.defaultOptions=o,this.edgeOptions=n,this.body=e,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new a.default(this.body,this.options,!0),this.setOptions(t)}t.default=e},function(l,t,e){Object.defineProperty(t,"__esModule",{value:!0});var h=a(e(165)),o=a(e(170)),n=a(e(119)),i=a(e(120)),s=a(e(173)),r=a(e(174)),e=a(e(198));function a(t){return t&&t.__esModule?t:{default:t}}function d(t,e,i){return(0,n.default)(this,d),(0,s.default)(this,(d.__proto__||(0,o.default)(d)).call(this,t,e,i))}e=e.default,(0,r.default)(d,e),(0,i.default)(d,[{key:"_line",value:function(t,e,i){var o=i[0],n=i[1];t.beginPath(),t.moveTo(this.fromPoint.x,this.fromPoint.y),void 0===i||void 0===o.x?t.lineTo(this.toPoint.x,this.toPoint.y):t.bezierCurveTo(o.x,o.y,n.x,n.y,this.toPoint.x,this.toPoint.y),this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}},{key:"_getViaCoordinates",value:function(){var t=this.from.x-this.to.x,e=this.from.y-this.to.y,i=void 0,o=void 0,n=void 0,s=void 0,r=this.options.smooth.roundness,n=(Math.abs(t)>Math.abs(e)||!0===this.options.smooth.forceDirection||"horizontal"===this.options.smooth.forceDirection)&&"vertical"!==this.options.smooth.forceDirection?(o=this.from.y,s=this.to.y,i=this.from.x-r*t,this.to.x+r*t):(o=this.from.y-r*e,s=this.to.y+r*e,i=this.from.x,this.to.x);return[{x:i,y:o},{x:n,y:s}]}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_findBorderPosition",value:function(t,e){return this._findBorderPositionBezier(t,e)}},{key:"_getDistanceToEdge",value:function(t,e,i,o,n,s){var r=6<arguments.length&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates(),r=(0,h.default)(r,2),a=r[0],r=r[1];return this._getDistanceToBezierEdge(t,e,i,o,n,s,a,r)}},{key:"getPoint",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),e=(0,h.default)(e,2),i=e[0],e=e[1],o=[];return o[0]=Math.pow(1-t,3),o[1]=3*t*Math.pow(1-t,2),o[2]=3*Math.pow(t,2)*(1-t),o[3]=Math.pow(t,3),{x:o[0]*this.fromPoint.x+o[1]*i.x+o[2]*e.x+o[3]*this.toPoint.x,y:o[0]*this.fromPoint.y+o[1]*i.y+o[2]*e.y+o[3]*this.toPoint.y}}}]),t.default=d},function(d,t,e){Object.defineProperty(t,"__esModule",{value:!0});var o=a(e(170)),n=a(e(119)),i=a(e(120)),s=a(e(173)),r=a(e(174)),e=a(e(199));function a(t){return t&&t.__esModule?t:{default:t}}e=e.default,(0,r.default)(h,e),(0,i.default)(h,[{key:"_getDistanceToBezierEdge",value:function(t,e,l,u,c,p,i,o){for(var n,s,r,a=1e9,h=void 0,f=t,m=e,d=[0,0,0,0],h=1;h<10;h++)s=.1*h,d[0]=Math.pow(1-s,3),d[1]=3*s*Math.pow(1-s,2),d[2]=3*Math.pow(s,2)*(1-s),d[3]=Math.pow(s,3),s=d[0]*t+d[1]*i.x+d[2]*o.x+d[3]*l,r=d[0]*e+d[1]*i.y+d[2]*o.y+d[3]*u,0<h&&(a=(n=this._getDistanceToLine(f,m,s,r,c,p))<a?n:a),f=s,m=r;return a}}]);r=h;function h(t,e,i){return(0,n.default)(this,h),(0,s.default)(this,(h.__proto__||(0,o.default)(h)).call(this,t,e,i))}t.default=r},function(d,t,e){Object.defineProperty(t,"__esModule",{value:!0});var o=a(e(170)),n=a(e(119)),i=a(e(120)),s=a(e(173)),r=a(e(174)),e=a(e(200));function a(t){return t&&t.__esModule?t:{default:t}}e=e.default,(0,r.default)(h,e),(0,i.default)(h,[{key:"_findBorderPositionBezier",value:function(t,d){var l=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this._getViaCoordinates(),e=0,i=0,o=1,n=this.to,s=!1;for(t.id===this.from.id&&(n=this.from,s=!0);i<=o&&e<10;){var r=.5*(i+o),a=this.getPoint(r,l),h=Math.atan2(n.y-a.y,n.x-a.x),h=n.distanceToBorder(d,h)-Math.sqrt(Math.pow(a.x-n.x,2)+Math.pow(a.y-n.y,2));if(Math.abs(h)<.2)break;h<0?!1===s?i=r:o=r:!1===s?o=r:i=r,e++}return a.t=r,a}},{key:"_getDistanceToBezierEdge",value:function(t,e,l,u,c,p,i){for(var o,n,s,r=1e9,a=void 0,h=t,d=e,a=1;a<10;a++)s=.1*a,n=Math.pow(1-s,2)*t+2*s*(1-s)*i.x+Math.pow(s,2)*l,s=Math.pow(1-s,2)*e+2*s*(1-s)*i.y+Math.pow(s,2)*u,0<a&&(r=(o=this._getDistanceToLine(h,d,n,s,c,p))<r?o:r),h=n,d=s;return r}}]);r=h;function h(t,e,i){return(0,n.default)(this,h),(0,s.default)(this,(h.__proto__||(0,o.default)(h)).call(this,t,e,i))}t.default=r},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var f=s(i(165)),o=s(i(119)),n=s(i(120));function s(t){return t&&t.__esModule?t:{default:t}}var r=i(1),i=((0,n.default)(a,[{key:"connect",value:function(){this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to]}},{key:"cleanup",value:function(){return!1}},{key:"setOptions",value:function(t){this.options=t,this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],this.id=this.options.id}},{key:"drawLine",value:function(t,e,i,o,n){t.strokeStyle=this.getColor(t,e,i,o),t.lineWidth=e.width,!1!==e.dashes?this._drawDashedLine(t,e,n):this._drawLine(t,e,n)}},{key:"_drawLine",value:function(t,e,i,o,n){this.from!=this.to?this._line(t,e,i,o,n):(i=this._getCircleData(t),n=(o=(0,f.default)(i,3))[0],i=o[1],o=o[2],this._circle(t,e,n,i,o))}},{key:"_drawDashedLine",value:function(t,e,i,o,n){t.lineCap="round";var s,r,a=[5,5];!0===Array.isArray(e.dashes)&&(a=e.dashes),void 0!==t.setLineDash?(t.save(),t.setLineDash(a),t.lineDashOffset=0,this.from!=this.to?this._line(t,e,i):(i=this._getCircleData(t),r=(i=(0,f.default)(i,3))[0],s=i[1],i=i[2],this._circle(t,e,r,s,i)),t.setLineDash([0]),t.lineDashOffset=0,t.restore()):(this.from!=this.to?t.dashedLine(this.from.x,this.from.y,this.to.x,this.to.y,a):(r=this._getCircleData(t),i=(s=(0,f.default)(r,3))[0],a=s[1],r=s[2],this._circle(t,e,i,a,r)),this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e))}},{key:"findBorderPosition",value:function(t,e,i){return this.from!=this.to?this._findBorderPosition(t,e,i):this._findBorderPositionCircle(t,e,i)}},{key:"findBorderPositions",value:function(t){var e,i,o,n={},s={};return s=this.from!=this.to?(n=this._findBorderPosition(this.from,t),this._findBorderPosition(this.to,t)):(e=this._getCircleData(t),i=(e=(0,f.default)(e,3))[0],o=e[1],e[2],n=this._findBorderPositionCircle(this.from,t,{x:i,y:o,low:.25,high:.6,direction:-1}),this._findBorderPositionCircle(this.from,t,{x:i,y:o,low:.6,high:.8,direction:1})),{from:n,to:s}}},{key:"_getCircleData",value:function(t){var e=void 0,i=void 0,o=this.from,n=this.options.selfReferenceSize;return void 0!==t&&void 0===o.shape.width&&o.shape.resize(t),i=o.shape.width>o.shape.height?(e=o.x+.5*o.shape.width,o.y-n):(e=o.x+n,o.y-.5*o.shape.height),[e,i,n]}},{key:"_pointOnCircle",value:function(t,e,i,o){o=2*o*Math.PI;return{x:t+i*Math.cos(o),y:e-i*Math.sin(o)}}},{key:"_findBorderPositionCircle",value:function(t,e,i){for(var o,l=i.x,u=i.y,n=i.low,s=i.high,r=i.direction,a=0,c=this.options.selfReferenceSize,h=void 0,d=.5*(n+s);n<=s&&a<10&&(h=this._pointOnCircle(l,u,c,d=.5*(n+s)),o=Math.atan2(t.y-h.y,t.x-h.x),o=t.distanceToBorder(e,o)-Math.sqrt(Math.pow(h.x-t.x,2)+Math.pow(h.y-t.y,2)),!(Math.abs(o)<.05));)0<o?0<r?n=d:s=d:0<r?s=d:n=d,a++;return h.t=d,h}},{key:"getLineWidth",value:function(t,e){return!0===t?Math.max(this.selectionWidth,.3/this.body.view.scale):!0===e?Math.max(this.hoverWidth,.3/this.body.view.scale):Math.max(this.options.width,.3/this.body.view.scale)}},{key:"getColor",value:function(t,e,i,o){return!1===e.inheritsColor?r.overrideOpacity(e.color,e.opacity):"both"===e.inheritsColor&&this.from.id!==this.to.id?(t=t.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y),s=n=void 0,n=this.from.options.color.highlight.border,s=this.to.options.color.highlight.border,!1===this.from.selected&&!1===this.to.selected?(n=r.overrideOpacity(this.from.options.color.border,e.opacity),s=r.overrideOpacity(this.to.options.color.border,e.opacity)):!0===this.from.selected&&!1===this.to.selected?s=this.to.options.color.border:!1===this.from.selected&&!0===this.to.selected&&(n=this.from.options.color.border),t.addColorStop(0,n),t.addColorStop(1,s),t):"to"===e.inheritsColor?r.overrideOpacity(this.to.options.color.border,e.opacity):r.overrideOpacity(this.from.options.color.border,e.opacity);var n,s}},{key:"_circle",value:function(t,e,i,o,n){this.enableShadow(t,e),t.beginPath(),t.arc(i,o,n,0,2*Math.PI,!1),t.stroke(),this.disableShadow(t,e)}},{key:"getDistanceToEdge",value:function(t,e,i,o,n,s,r,a){var h=0;return h=this.from!=this.to?this._getDistanceToEdge(t,e,i,o,n,s,r):(t=this._getCircleData(void 0),i=(e=(0,f.default)(t,3))[0],o=e[1],r=e[2],t=i-n,e=o-s,Math.abs(Math.sqrt(t*t+e*e)-r)),this.labelModule.size.left<n&&this.labelModule.size.left+this.labelModule.size.width>n&&this.labelModule.size.top<s&&this.labelModule.size.top+this.labelModule.size.height>s?0:h}},{key:"_getDistanceToLine",value:function(t,e,i,o,n,s){var i=i-t,o=o-e,r=((n-t)*i+(s-e)*o)/(i*i+o*o);1<r?r=1:r<0&&(r=0);t=t+r*i-n,i=e+r*o-s;return Math.sqrt(t*t+i*i)}},{key:"getArrowData",value:function(t,e,i,l,u,o){var n=void 0,s=void 0,r=void 0,a=void 0,h=void 0,d=void 0,c=void 0,p=o.width,c="from"===e?(r=this.from,a=this.to,h=.1,d=o.fromArrowScale,o.fromArrowType):"to"===e?(r=this.to,a=this.from,h=-.1,d=o.toArrowScale,o.toArrowType):(r=this.to,a=this.from,d=o.middleArrowScale,o.middleArrowType),h=(r!=a?"middle"!==e?!0===this.options.smooth.enabled?(s=this.findBorderPosition(r,t,{via:i}),o=this.getPoint(Math.max(0,Math.min(1,s.t+h)),i),n=Math.atan2(s.y-o.y,s.x-o.x)):(n=Math.atan2(r.y-a.y,r.x-a.x),s=this.findBorderPosition(r,t)):(n=Math.atan2(r.y-a.y,r.x-a.x),s=this.getPoint(.5,i)):(h=this._getCircleData(t),r=(o=(0,f.default)(h,3))[0],a=o[1],i=o[2],n="from"===e?-2*(s=this.findBorderPosition(this.from,t,{x:r,y:a,low:.25,high:.6,direction:-1})).t*Math.PI+1.5*Math.PI+.1*Math.PI:"to"===e?-2*(s=this.findBorderPosition(this.from,t,{x:r,y:a,low:.6,high:1,direction:1})).t*Math.PI+1.5*Math.PI-1.1*Math.PI:(s=this._pointOnCircle(r,a,i,.175),3.9269908169872414)),15*d+3*p);return{point:s,core:{x:s.x-.9*h*Math.cos(n),y:s.y-.9*h*Math.sin(n)},angle:n,length:h,type:c}}},{key:"drawArrowHead",value:function(t,e,i,o,n){t.strokeStyle=this.getColor(t,e,i,o),t.fillStyle=t.strokeStyle,t.lineWidth=e.width,n.type&&"circle"===n.type.toLowerCase()?t.circleEndpoint(n.point.x,n.point.y,n.angle,n.length):t.arrowEndpoint(n.point.x,n.point.y,n.angle,n.length),this.enableShadow(t,e),t.fill(),this.disableShadow(t,e)}},{key:"enableShadow",value:function(t,e){!0===e.shadow&&(t.shadowColor=e.shadowColor,t.shadowBlur=e.shadowSize,t.shadowOffsetX=e.shadowX,t.shadowOffsetY=e.shadowY)}},{key:"disableShadow",value:function(t,e){!0===e.shadow&&(t.shadowColor="rgba(0,0,0,0)",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0)}}]),a);function a(t,e,i){(0,o.default)(this,a),this.body=e,this.labelModule=i,this.options={},this.setOptions(t),this.colorDirty=!0,this.color={},this.selectionWidth=2,this.hoverWidth=1.5,this.fromPoint=this.from,this.toPoint=this.to}e.default=i},function(l,t,e){Object.defineProperty(t,"__esModule",{value:!0});var h=a(e(165)),n=a(e(170)),s=a(e(119)),i=a(e(120)),r=a(e(173)),o=a(e(174)),e=a(e(199));function a(t){return t&&t.__esModule?t:{default:t}}function d(t,e,i){(0,s.default)(this,d);var o=(0,r.default)(this,(d.__proto__||(0,n.default)(d)).call(this,t,e,i));return o._boundFunction=function(){o.positionBezierNode()},o.body.emitter.on("_repositionBezierNodes",o._boundFunction),o}e=e.default,(0,o.default)(d,e),(0,i.default)(d,[{key:"setOptions",value:function(t){var e=!1;this.options.physics!==t.physics&&(e=!0),this.options=t,this.id=this.options.id,this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],this.setupSupportNode(),this.connect(),!0===e&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}},{key:"connect",value:function(){this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],void 0===this.from||void 0===this.to||!1===this.options.physics||this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}},{key:"cleanup",value:function(){return this.body.emitter.off("_repositionBezierNodes",this._boundFunction),void 0!==this.via&&(delete this.body.nodes[this.via.id],!(this.via=void 0))}},{key:"setupSupportNode",value:function(){var t,e;void 0===this.via&&(t="edgeId:"+this.id,e=this.body.functions.createNode({id:t,shape:"circle",physics:!0,hidden:!0}),this.body.nodes[t]=e,this.via=e,this.via.parentEdgeId=this.id,this.positionBezierNode())}},{key:"positionBezierNode",value:function(){void 0!==this.via&&void 0!==this.from&&void 0!==this.to?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):void 0!==this.via&&(this.via.x=0,this.via.y=0)}},{key:"_line",value:function(t,e,i){t.beginPath(),t.moveTo(this.fromPoint.x,this.fromPoint.y),void 0===i.x?t.lineTo(this.toPoint.x,this.toPoint.y):t.quadraticCurveTo(i.x,i.y,this.toPoint.x,this.toPoint.y),this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}},{key:"getViaNode",value:function(){return this.via}},{key:"getPoint",value:function(t){var e,i,o,n,s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.via,r=void 0,a=void 0;return a=this.from===this.to?(o=this._getCircleData(this.from),e=(o=(0,h.default)(o,3))[0],i=o[1],o=o[2],n=2*Math.PI*(1-t),r=e+o*Math.sin(n),i+o-o*(1-Math.cos(n))):(r=Math.pow(1-t,2)*this.fromPoint.x+2*t*(1-t)*s.x+Math.pow(t,2)*this.toPoint.x,Math.pow(1-t,2)*this.fromPoint.y+2*t*(1-t)*s.y+Math.pow(t,2)*this.toPoint.y),{x:r,y:a}}},{key:"_findBorderPosition",value:function(t,e){return this._findBorderPositionBezier(t,e,this.via)}},{key:"_getDistanceToEdge",value:function(t,e,i,o,n,s){return this._getDistanceToBezierEdge(t,e,i,o,n,s,this.via)}}]),t.default=d},function(d,t,e){Object.defineProperty(t,"__esModule",{value:!0});var o=a(e(170)),n=a(e(119)),i=a(e(120)),s=a(e(173)),r=a(e(174)),e=a(e(199));function a(t){return t&&t.__esModule?t:{default:t}}e=e.default,(0,r.default)(h,e),(0,i.default)(h,[{key:"_line",value:function(t,e,i){t.beginPath(),t.moveTo(this.fromPoint.x,this.fromPoint.y),void 0===i.x?t.lineTo(this.toPoint.x,this.toPoint.y):t.quadraticCurveTo(i.x,i.y,this.toPoint.x,this.toPoint.y),this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_getViaCoordinates",value:function(){var t,e,i=void 0,o=void 0,n=this.options.smooth.roundness,s=this.options.smooth.type,r=Math.abs(this.from.x-this.to.x),a=Math.abs(this.from.y-this.to.y);return"discrete"===s||"diagonalCross"===s?Math.abs(this.from.x-this.to.x)<=Math.abs(this.from.y-this.to.y)?(this.from.y>=this.to.y?this.from.x<=this.to.x?(i=this.from.x+n*a,o=this.from.y-n*a):this.from.x>this.to.x&&(i=this.from.x-n*a,o=this.from.y-n*a):this.from.y<this.to.y&&(this.from.x<=this.to.x?(i=this.from.x+n*a,o=this.from.y+n*a):this.from.x>this.to.x&&(i=this.from.x-n*a,o=this.from.y+n*a)),"discrete"===s&&(i=r<n*a?this.from.x:i)):Math.abs(this.from.x-this.to.x)>Math.abs(this.from.y-this.to.y)&&(this.from.y>=this.to.y?this.from.x<=this.to.x?(i=this.from.x+n*r,o=this.from.y-n*r):this.from.x>this.to.x&&(i=this.from.x-n*r,o=this.from.y-n*r):this.from.y<this.to.y&&(this.from.x<=this.to.x?(i=this.from.x+n*r,o=this.from.y+n*r):this.from.x>this.to.x&&(i=this.from.x-n*r,o=this.from.y+n*r)),"discrete"===s&&(o=a<n*r?this.from.y:o)):"straightCross"===s?Math.abs(this.from.x-this.to.x)<=Math.abs(this.from.y-this.to.y)?(i=this.from.x,o=this.from.y<this.to.y?this.to.y-(1-n)*a:this.to.y+(1-n)*a):Math.abs(this.from.x-this.to.x)>Math.abs(this.from.y-this.to.y)&&(i=this.from.x<this.to.x?this.to.x-(1-n)*r:this.to.x+(1-n)*r,o=this.from.y):"horizontal"===s?(i=this.from.x<this.to.x?this.to.x-(1-n)*r:this.to.x+(1-n)*r,o=this.from.y):"vertical"===s?(i=this.from.x,o=this.from.y<this.to.y?this.to.y-(1-n)*a:this.to.y+(1-n)*a):"curvedCW"===s?(r=this.to.x-this.from.x,a=this.from.y-this.to.y,t=Math.sqrt(r*r+a*a),e=Math.PI,e=(Math.atan2(a,r)+(.5*n+.5)*e)%(2*e),i=this.from.x+(.5*n+.5)*t*Math.sin(e),o=this.from.y+(.5*n+.5)*t*Math.cos(e)):"curvedCCW"===s?(r=this.to.x-this.from.x,a=this.from.y-this.to.y,t=Math.sqrt(r*r+a*a),e=Math.PI,s=(Math.atan2(a,r)+(.5*-n+.5)*e)%(2*e),i=this.from.x+(.5*n+.5)*t*Math.sin(s),o=this.from.y+(.5*n+.5)*t*Math.cos(s)):Math.abs(this.from.x-this.to.x)<=Math.abs(this.from.y-this.to.y)?this.from.y>=this.to.y?this.from.x<=this.to.x?(i=this.from.x+n*a,o=this.from.y-n*a,i=this.to.x<i?this.to.x:i):this.from.x>this.to.x&&(i=this.from.x-n*a,o=this.from.y-n*a,i=this.to.x>i?this.to.x:i):this.from.y<this.to.y&&(this.from.x<=this.to.x?(i=this.from.x+n*a,o=this.from.y+n*a,i=this.to.x<i?this.to.x:i):this.from.x>this.to.x&&(i=this.from.x-n*a,o=this.from.y+n*a,i=this.to.x>i?this.to.x:i)):Math.abs(this.from.x-this.to.x)>Math.abs(this.from.y-this.to.y)&&(this.from.y>=this.to.y?this.from.x<=this.to.x?(i=this.from.x+n*r,o=this.from.y-n*r,o=this.to.y>o?this.to.y:o):this.from.x>this.to.x&&(i=this.from.x-n*r,o=this.from.y-n*r,o=this.to.y>o?this.to.y:o):this.from.y<this.to.y&&(this.from.x<=this.to.x?(i=this.from.x+n*r,o=this.from.y+n*r,o=this.to.y<o?this.to.y:o):this.from.x>this.to.x&&(i=this.from.x-n*r,o=this.from.y+n*r,o=this.to.y<o?this.to.y:o))),{x:i,y:o}}},{key:"_findBorderPosition",value:function(t,e){return this._findBorderPositionBezier(t,e,(2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).via)}},{key:"_getDistanceToEdge",value:function(t,e,i,o,n,s){var r=6<arguments.length&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(t,e,i,o,n,s,r)}},{key:"getPoint",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates();return{x:Math.pow(1-t,2)*this.fromPoint.x+2*t*(1-t)*e.x+Math.pow(t,2)*this.toPoint.x,y:Math.pow(1-t,2)*this.fromPoint.y+2*t*(1-t)*e.y+Math.pow(t,2)*this.toPoint.y}}}]);r=h;function h(t,e,i){return(0,n.default)(this,h),(0,s.default)(this,(h.__proto__||(0,o.default)(h)).call(this,t,e,i))}t.default=r},function(d,t,e){Object.defineProperty(t,"__esModule",{value:!0});var o=a(e(170)),n=a(e(119)),i=a(e(120)),s=a(e(173)),r=a(e(174)),e=a(e(200));function a(t){return t&&t.__esModule?t:{default:t}}function h(t,e,i){return(0,n.default)(this,h),(0,s.default)(this,(h.__proto__||(0,o.default)(h)).call(this,t,e,i))}e=e.default,(0,r.default)(h,e),(0,i.default)(h,[{key:"_line",value:function(t,e){t.beginPath(),t.moveTo(this.fromPoint.x,this.fromPoint.y),t.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}},{key:"getViaNode",value:function(){}},{key:"getPoint",value:function(t){return{x:(1-t)*this.fromPoint.x+t*this.toPoint.x,y:(1-t)*this.fromPoint.y+t*this.toPoint.y}}},{key:"_findBorderPosition",value:function(t,e){var i=this.to,o=this.from,n=(t.id===this.from.id&&(i=this.from,o=this.to),Math.atan2(i.y-o.y,i.x-o.x)),s=i.x-o.x,r=i.y-o.y,s=Math.sqrt(s*s+r*r),r=(s-t.distanceToBorder(e,n))/s,t={};return t.x=(1-r)*o.x+r*i.x,t.y=(1-r)*o.y+r*i.y,t}},{key:"_getDistanceToEdge",value:function(t,e,i,o,n,s){return this._getDistanceToLine(t,e,i,o,n,s)}}]),t.default=h},function(l,t,e){Object.defineProperty(t,"__esModule",{value:!0});var s=a(e(58)),i=a(e(119)),o=a(e(120)),n=a(e(205)),u=a(e(206)),c=a(e(207)),r=a(e(208)),p=a(e(209)),f=a(e(210)),m=a(e(211)),g=a(e(212));function a(t){return t&&t.__esModule?t:{default:t}}var h=e(1),e=((0,o.default)(d,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("initPhysics",function(){t.initPhysics()}),this.body.emitter.on("_layoutFailed",function(){t.layoutFailed=!0}),this.body.emitter.on("resetPhysics",function(){t.stopSimulation(),t.ready=!1}),this.body.emitter.on("disablePhysics",function(){t.physicsEnabled=!1,t.stopSimulation()}),this.body.emitter.on("restorePhysics",function(){t.setOptions(t.options),!0===t.ready&&t.startSimulation()}),this.body.emitter.on("startSimulation",function(){!0===t.ready&&t.startSimulation()}),this.body.emitter.on("stopSimulation",function(){t.stopSimulation()}),this.body.emitter.on("destroy",function(){t.stopSimulation(!1),t.body.emitter.off()}),this.body.emitter.on("_dataChanged",function(){t.updatePhysicsData()})}},{key:"setOptions",value:function(t){void 0!==t&&(!1===t?(this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation()):(this.physicsEnabled=!0,h.selectiveNotDeepExtend(["stabilization"],this.options,t),h.mergeOptions(this.options,t,"stabilization"),void 0===t.enabled&&(this.options.enabled=!0),!1===this.options.enabled&&(this.physicsEnabled=!1,this.stopSimulation()),this.timestep=this.options.timestep)),this.init()}},{key:"init",value:function(){var t;"forceAtlas2Based"===this.options.solver?(t=this.options.forceAtlas2Based,this.nodesSolver=new m.default(this.body,this.physicsBody,t),this.edgesSolver=new r.default(this.body,this.physicsBody,t),this.gravitySolver=new g.default(this.body,this.physicsBody,t)):("repulsion"===this.options.solver?(t=this.options.repulsion,this.nodesSolver=new u.default(this.body,this.physicsBody,t),this.edgesSolver=new r.default(this.body,this.physicsBody,t)):"hierarchicalRepulsion"===this.options.solver?(t=this.options.hierarchicalRepulsion,this.nodesSolver=new c.default(this.body,this.physicsBody,t),this.edgesSolver=new p.default(this.body,this.physicsBody,t)):(t=this.options.barnesHut,this.nodesSolver=new n.default(this.body,this.physicsBody,t),this.edgesSolver=new r.default(this.body,this.physicsBody,t)),this.gravitySolver=new f.default(this.body,this.physicsBody,t)),this.modelOptions=t}},{key:"initPhysics",value:function(){!0===this.physicsEnabled&&!0===this.options.enabled?!0===this.options.stabilization.enabled?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}},{key:"startSimulation",value:function(){!0===this.physicsEnabled&&!0===this.options.enabled?(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),void 0===this.viewFunction&&(this.viewFunction=this.simulationStep.bind(this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))):this.body.emitter.emit("_redraw")}},{key:"stopSimulation",value:function(){var t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];(this.stabilized=!0)===t&&this._emitStabilized(),void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),!(this.viewFunction=void 0)===t&&this.body.emitter.emit("_stopRendering"))}},{key:"simulationStep",value:function(){var t=Date.now();this.physicsTick(),(Date.now()-t<.4*this.simulationInterval||!0===this.runDoubleSpeed)&&!1===this.stabilized&&(this.physicsTick(),this.runDoubleSpeed=!0),!0===this.stabilized&&this.stopSimulation()}},{key:"_emitStabilized",value:function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.stabilizationIterations;(1<this.stabilizationIterations||!0===this.startedStabilization)&&setTimeout(function(){t.body.emitter.emit("stabilized",{iterations:e}),t.startedStabilization=!1,t.stabilizationIterations=0},0)}},{key:"physicsTick",value:function(){!1===this.startedStabilization&&(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0),!1===this.stabilized&&(!0===this.adaptiveTimestep&&!0===this.adaptiveTimestepEnabled?(this.adaptiveCounter%this.adaptiveInterval==0?(this.timestep=2*this.timestep,this.calculateForces(),this.moveNodes(),this.revert(),this.timestep=.5*this.timestep,this.calculateForces(),this.moveNodes(),this.calculateForces(),this.moveNodes(),!0===this._evaluateStepQuality()?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))):(this.calculateForces(),this.moveNodes()),this.adaptiveCounter+=1):(this.timestep=this.options.timestep,this.calculateForces(),this.moveNodes()),!0===this.stabilized&&this.revert(),this.stabilizationIterations++)}},{key:"updatePhysicsData",value:function(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];var t,e,i=this.body.nodes,o=this.body.edges;for(t in i)i.hasOwnProperty(t)&&!0===i[t].options.physics&&this.physicsBody.physicsNodeIndices.push(i[t].id);for(e in o)o.hasOwnProperty(e)&&!0===o[e].options.physics&&this.physicsBody.physicsEdgeIndices.push(o[e].id);for(var n,s=0;s<this.physicsBody.physicsNodeIndices.length;s++){var r=this.physicsBody.physicsNodeIndices[s];this.physicsBody.forces[r]={x:0,y:0},void 0===this.physicsBody.velocities[r]&&(this.physicsBody.velocities[r]={x:0,y:0})}for(n in this.physicsBody.velocities)void 0===i[n]&&delete this.physicsBody.velocities[n]}},{key:"revert",value:function(){var t=(0,s.default)(this.previousStates),e=this.body.nodes,i=this.physicsBody.velocities;this.referenceState={};for(var o=0;o<t.length;o++){var n=t[o];void 0!==e[n]?!0===e[n].options.physics&&(this.referenceState[n]={positions:{x:e[n].x,y:e[n].y}},i[n].x=this.previousStates[n].vx,i[n].y=this.previousStates[n].vy,e[n].x=this.previousStates[n].x,e[n].y=this.previousStates[n].y):delete this.previousStates[n]}}},{key:"_evaluateStepQuality",value:function(){var t,e,i,o=this.body.nodes,n=this.referenceState;for(i in this.referenceState)if(this.referenceState.hasOwnProperty(i)&&void 0!==o[i]&&(t=o[i].x-n[i].positions.x,e=o[i].y-n[i].positions.y,.3<Math.sqrt(Math.pow(t,2)+Math.pow(e,2))))return!1;return!0}},{key:"moveNodes",value:function(){for(var t=this.physicsBody.physicsNodeIndices,e=this.options.maxVelocity||1e9,i=0,o=0,n=0;n<t.length;n++){var s=t[n],s=this._performStep(s,e),i=Math.max(i,s);o+=s}this.adaptiveTimestepEnabled=o/t.length<5,this.stabilized=i<this.options.minVelocity}},{key:"_performStep",value:function(t,e){var i,o=this.body.nodes[t],n=this.timestep,s=this.physicsBody.forces,r=this.physicsBody.velocities;return!(this.previousStates[t]={x:o.x,y:o.y,vx:r[t].x,vy:r[t].y})===o.options.fixed.x?(i=this.modelOptions.damping*r[t].x,i=(s[t].x-i)/o.options.mass,r[t].x+=i*n,r[t].x=Math.abs(r[t].x)>e?0<r[t].x?e:-e:r[t].x,o.x+=r[t].x*n):(s[t].x=0,r[t].x=0),!1===o.options.fixed.y?(i=this.modelOptions.damping*r[t].y,i=(s[t].y-i)/o.options.mass,r[t].y+=i*n,r[t].y=Math.abs(r[t].y)>e?0<r[t].y?e:-e:r[t].y,o.y+=r[t].y*n):(s[t].y=0,r[t].y=0),Math.sqrt(Math.pow(r[t].x,2)+Math.pow(r[t].y,2))}},{key:"calculateForces",value:function(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve()}},{key:"_freezeNodes",value:function(){var t,e=this.body.nodes;for(t in e)e.hasOwnProperty(t)&&e[t].x&&e[t].y&&(this.freezeCache[t]={x:e[t].options.fixed.x,y:e[t].options.fixed.y},e[t].options.fixed.x=!0,e[t].options.fixed.y=!0)}},{key:"_restoreFrozenNodes",value:function(){var t,e=this.body.nodes;for(t in e)e.hasOwnProperty(t)&&void 0!==this.freezeCache[t]&&(e[t].options.fixed.x=this.freezeCache[t].x,e[t].options.fixed.y=this.freezeCache[t].y);this.freezeCache={}}},{key:"stabilize",value:function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.options.stabilization.iterations;"number"!=typeof e&&(console.log("The stabilize method needs a numeric amount of iterations. Switching to default: ",this.options.stabilization.iterations),e=this.options.stabilization.iterations),0!==this.physicsBody.physicsNodeIndices.length?(this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=e,!0===this.options.stabilization.onlyDynamicEdges&&this._freezeNodes(),this.stabilizationIterations=0,setTimeout(function(){return t._stabilizationBatch()},0)):this.ready=!0}},{key:"_stabilizationBatch",value:function(){!1===this.startedStabilization&&(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0);for(var t=0;!1===this.stabilized&&t<this.options.stabilization.updateInterval&&this.stabilizationIterations<this.targetIterations;)this.physicsTick(),t++;!1===this.stabilized&&this.stabilizationIterations<this.targetIterations?(this.body.emitter.emit("stabilizationProgress",{iterations:this.stabilizationIterations,total:this.targetIterations}),setTimeout(this._stabilizationBatch.bind(this),0)):this._finalizeStabilization()}},{key:"_finalizeStabilization",value:function(){this.body.emitter.emit("_allowRedraw"),!0===this.options.stabilization.fit&&this.body.emitter.emit("fit"),!0===this.options.stabilization.onlyDynamicEdges&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),!0===this.stabilized?this._emitStabilized():this.startSimulation(),this.ready=!0}},{key:"_drawForces",value:function(t){for(var e=0;e<this.physicsBody.physicsNodeIndices.length;e++){var i=this.body.nodes[this.physicsBody.physicsNodeIndices[e]],o=this.physicsBody.forces[this.physicsBody.physicsNodeIndices[e]],n=Math.sqrt(Math.pow(o.x,2)+Math.pow(o.x,2)),s=Math.min(Math.max(5,n),15),r=3*s,n=h.HSVToHex((180-180*Math.min(1,Math.max(0,.03*n)))/360,1,1),s=(t.lineWidth=s,t.strokeStyle=n,t.beginPath(),t.moveTo(i.x,i.y),t.lineTo(i.x+20*o.x,i.y+20*o.y),t.stroke(),Math.atan2(o.y,o.x));t.fillStyle=n,t.arrowEndpoint(i.x+20*o.x+Math.cos(s)*r,i.y+20*o.y+Math.sin(s)*r,s,r),t.fill()}}}]),d);function d(t){(0,i.default)(this,d),this.body=t,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0},h.extend(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}t.default=e},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o=n(i(119));function n(t){return t&&t.__esModule?t:{default:t}}(0,n(i(120)).default)(s,[{key:"setOptions",value:function(t){this.options=t,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}},{key:"seededRandom",value:function(){var t=1e4*Math.sin(this.randomSeed++);return t-Math.floor(t)}},{key:"solve",value:function(){if(0!==this.options.gravitationalConstant&&0<this.physicsBody.physicsNodeIndices.length){var t,e=this.body.nodes,i=this.physicsBody.physicsNodeIndices,o=i.length,n=this._formBarnesHutTree(e,i);this.barnesHutTree=n;for(var s=0;s<o;s++)0<(t=e[i[s]]).options.mass&&(this._getForceContribution(n.root.children.NW,t),this._getForceContribution(n.root.children.NE,t),this._getForceContribution(n.root.children.SW,t),this._getForceContribution(n.root.children.SE,t))}}},{key:"_getForceContribution",value:function(t,e){var i,o,n;0<t.childrenCount&&(n=o=i=void 0,i=t.centerOfMass.x-e.x,o=t.centerOfMass.y-e.y,(n=Math.sqrt(i*i+o*o))*t.calcSize>this.thetaInversed?this._calculateForces(n,i,o,e,t):4===t.childrenCount?(this._getForceContribution(t.children.NW,e),this._getForceContribution(t.children.NE,e),this._getForceContribution(t.children.SW,e),this._getForceContribution(t.children.SE,e)):t.children.data.id!=e.id&&this._calculateForces(n,i,o,e,t))}},{key:"_calculateForces",value:function(t,e,i,o,n){0===t&&(e=t=.1),this.overlapAvoidanceFactor<1&&o.shape.radius&&(t=Math.max(.1+this.overlapAvoidanceFactor*o.shape.radius,t-o.shape.radius));n=this.options.gravitationalConstant*n.mass*o.options.mass/Math.pow(t,3),t=i*n;this.physicsBody.forces[o.id].x+=e*n,this.physicsBody.forces[o.id].y+=t}},{key:"_formBarnesHutTree",value:function(t,e){for(var l,u=e.length,i=t[e[0]].x,o=t[e[0]].y,n=t[e[0]].x,s=t[e[0]].y,r=1;r<u;r++){var a=t[e[r]].x,h=t[e[r]].y;0<t[e[r]].options.mass&&(a<i&&(i=a),n<a&&(n=a),h<o&&(o=h),s<h&&(s=h))}var d=Math.abs(n-i)-Math.abs(s-o),d=(0<d?(o-=.5*d,s+=.5*d):(i+=.5*d,n-=.5*d),Math.max(1e-5,Math.abs(n-i))),c=.5*d,p=.5*(i+n),f=.5*(o+s),m={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:p-c,maxX:p+c,minY:f-c,maxY:f+c},size:d,calcSize:1/d,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(m.root);for(var g=0;g<u;g++)0<(l=t[e[g]]).options.mass&&this._placeInTree(m.root,l);return m}},{key:"_updateBranchMass",value:function(t,e){var i=t.mass+e.options.mass,o=1/i,o=(t.centerOfMass.x=t.centerOfMass.x*t.mass+e.x*e.options.mass,t.centerOfMass.x*=o,t.centerOfMass.y=t.centerOfMass.y*t.mass+e.y*e.options.mass,t.centerOfMass.y*=o,t.mass=i,Math.max(Math.max(e.height,e.radius),e.width));t.maxWidth=t.maxWidth<o?o:t.maxWidth}},{key:"_placeInTree",value:function(t,e,i){1==i&&void 0!==i||this._updateBranchMass(t,e),t.children.NW.range.maxX>e.x?t.children.NW.range.maxY>e.y?this._placeInRegion(t,e,"NW"):this._placeInRegion(t,e,"SW"):t.children.NW.range.maxY>e.y?this._placeInRegion(t,e,"NE"):this._placeInRegion(t,e,"SE")}},{key:"_placeInRegion",value:function(t,e,i){switch(t.children[i].childrenCount){case 0:t.children[i].children.data=e,t.children[i].childrenCount=1,this._updateBranchMass(t.children[i],e);break;case 1:t.children[i].children.data.x===e.x&&t.children[i].children.data.y===e.y?(e.x+=this.seededRandom(),e.y+=this.seededRandom()):(this._splitBranch(t.children[i]),this._placeInTree(t.children[i],e));break;case 4:this._placeInTree(t.children[i],e)}}},{key:"_splitBranch",value:function(t){var e=null;1===t.childrenCount&&(e=t.children.data,t.mass=0,t.centerOfMass.x=0,t.centerOfMass.y=0),t.childrenCount=4,t.children.data=null,this._insertRegion(t,"NW"),this._insertRegion(t,"NE"),this._insertRegion(t,"SW"),this._insertRegion(t,"SE"),null!=e&&this._placeInTree(t,e)}},{key:"_insertRegion",value:function(t,e){var i=void 0,o=void 0,n=void 0,s=void 0,r=.5*t.size;switch(e){case"NW":i=t.range.minX,o=t.range.minX+r,n=t.range.minY,s=t.range.minY+r;break;case"NE":i=t.range.minX+r,o=t.range.maxX,n=t.range.minY,s=t.range.minY+r;break;case"SW":i=t.range.minX,o=t.range.minX+r,n=t.range.minY+r,s=t.range.maxY;break;case"SE":i=t.range.minX+r,o=t.range.maxX,n=t.range.minY+r,s=t.range.maxY}t.children[e]={centerOfMass:{x:0,y:0},mass:0,range:{minX:i,maxX:o,minY:n,maxY:s},size:.5*t.size,calcSize:2*t.calcSize,children:{data:null},maxWidth:0,level:t.level+1,childrenCount:0}}},{key:"_debug",value:function(t,e){void 0!==this.barnesHutTree&&(t.lineWidth=1,this._drawBranch(this.barnesHutTree.root,t,e))}},{key:"_drawBranch",value:function(t,e,i){void 0===i&&(i="#FF0000"),4===t.childrenCount&&(this._drawBranch(t.children.NW,e),this._drawBranch(t.children.NE,e),this._drawBranch(t.children.SE,e),this._drawBranch(t.children.SW,e)),e.strokeStyle=i,e.beginPath(),e.moveTo(t.range.minX,t.range.minY),e.lineTo(t.range.maxX,t.range.minY),e.stroke(),e.beginPath(),e.moveTo(t.range.maxX,t.range.minY),e.lineTo(t.range.maxX,t.range.maxY),e.stroke(),e.beginPath(),e.moveTo(t.range.maxX,t.range.maxY),e.lineTo(t.range.minX,t.range.maxY),e.stroke(),e.beginPath(),e.moveTo(t.range.minX,t.range.maxY),e.lineTo(t.range.minX,t.range.minY),e.stroke()}}]);i=s;function s(t,e,i){(0,o.default)(this,s),this.body=t,this.physicsBody=e,this.barnesHutTree,this.setOptions(i),this.randomSeed=5}e.default=i},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o=n(i(119));function n(t){return t&&t.__esModule?t:{default:t}}function s(t,e,i){(0,o.default)(this,s),this.body=t,this.physicsBody=e,this.setOptions(i)}(0,n(i(120)).default)(s,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,e,i,o,n,l=this.body.nodes,s=this.physicsBody.physicsNodeIndices,r=this.physicsBody.forces,a=this.options.nodeDistance,u=-2/3/a,h=0;h<s.length-1;h++)for(var d=l[s[h]],c=h+1;c<s.length;c++)t=(n=l[s[c]]).x-d.x,i=n.y-d.y,0===(e=Math.sqrt(t*t+i*i))&&(t=e=.1*Math.random()),e<2*a&&(o=e<.5*a?1:u*e+4/3,i=i*(o/=e),r[d.id].x-=e=t*o,r[d.id].y-=i,r[n.id].x+=e,r[n.id].y+=i)}}]),e.default=s},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o=n(i(119));function n(t){return t&&t.__esModule?t:{default:t}}function s(t,e,i){(0,o.default)(this,s),this.body=t,this.physicsBody=e,this.setOptions(i)}(0,n(i(120)).default)(s,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,e,l=this.body.nodes,i=this.physicsBody.physicsNodeIndices,o=this.physicsBody.forces,u=this.options.nodeDistance,n=0;n<i.length-1;n++)for(t=l[i[n]],e=n+1;e<i.length;e++){var s,r,a,h,d=l[i[e]];t.level===d.level&&(s=d.x-t.x,r=d.y-t.y,h=(a=Math.sqrt(s*s+r*r))<u?-Math.pow(.05*a,2)+Math.pow(.05*u,2):0,0===a?a=.01:h/=a,a=r*h,o[t.id].x-=r=s*h,o[t.id].y-=a,o[d.id].x+=r,o[d.id].y+=a)}}}]),e.default=s},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o=n(i(119));function n(t){return t&&t.__esModule?t:{default:t}}(0,n(i(120)).default)(s,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,e,i,o,n=void 0,s=this.physicsBody.physicsEdgeIndices,r=this.body.edges,a=0;a<s.length;a++)!0===(t=r[s[a]]).connected&&t.toId!==t.fromId&&void 0!==this.body.nodes[t.toId]&&void 0!==this.body.nodes[t.fromId]&&(void 0!==t.edgeType.via?(n=void 0===t.options.length?this.options.springLength:t.options.length,e=t.to,i=t.edgeType.via,o=t.from,this._calculateSpringForce(e,i,.5*n),this._calculateSpringForce(i,o,.5*n)):(n=void 0===t.options.length?1.5*this.options.springLength:t.options.length,this._calculateSpringForce(t.from,t.to,n)))}},{key:"_calculateSpringForce",value:function(t,e,i){var o=t.x-e.x,n=t.y-e.y,s=Math.max(Math.sqrt(o*o+n*n),.01),i=this.options.springConstant*(i-s)/s,s=o*i,o=n*i;void 0!==this.physicsBody.forces[t.id]&&(this.physicsBody.forces[t.id].x+=s,this.physicsBody.forces[t.id].y+=o),void 0!==this.physicsBody.forces[e.id]&&(this.physicsBody.forces[e.id].x-=s,this.physicsBody.forces[e.id].y-=o)}}]);i=s;function s(t,e,i){(0,o.default)(this,s),this.body=t,this.physicsBody=e,this.setOptions(i)}e.default=i},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o=n(i(119));function n(t){return t&&t.__esModule?t:{default:t}}(0,n(i(120)).default)(s,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,e,i,o,n,l=this.body.edges,u=this.physicsBody.physicsEdgeIndices,s=this.physicsBody.physicsNodeIndices,r=this.physicsBody.forces,a=0;a<s.length;a++){var c=s[a];r[c].springFx=0,r[c].springFy=0}for(var p=0;p<u.length;p++)!0===(t=l[u[p]]).connected&&(o=void 0===t.options.length?this.options.springLength:t.options.length,i=t.from.x-t.to.x,e=t.from.y-t.to.y,n=Math.sqrt(i*i+e*e),i=i*(h=this.options.springConstant*(o-(n=0===n?.01:n))/n),o=e*h,t.to.level!=t.from.level?(void 0!==r[t.toId]&&(r[t.toId].springFx-=i,r[t.toId].springFy-=o),void 0!==r[t.fromId]&&(r[t.fromId].springFx+=i,r[t.fromId].springFy+=o)):(void 0!==r[t.toId]&&(r[t.toId].x-=.5*i,r[t.toId].y-=.5*o),void 0!==r[t.fromId]&&(r[t.fromId].x+=.5*i,r[t.fromId].y+=.5*o)));for(var h=1,f=0;f<s.length;f++){var d=s[f],m=Math.min(h,Math.max(-h,r[d].springFx)),g=Math.min(h,Math.max(-h,r[d].springFy));r[d].x+=m,r[d].y+=g}for(var v=0,y=0,b=0;b<s.length;b++){var _=s[b];v+=r[_].x,y+=r[_].y}for(var w=v/s.length,x=y/s.length,k=0;k<s.length;k++){var O=s[k];r[O].x-=w,r[O].y-=x}}}]);i=s;function s(t,e,i){(0,o.default)(this,s),this.body=t,this.physicsBody=e,this.setOptions(i)}e.default=i},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o=n(i(119));function n(t){return t&&t.__esModule?t:{default:t}}function s(t,e,i){(0,o.default)(this,s),this.body=t,this.physicsBody=e,this.setOptions(i)}(0,n(i(120)).default)(s,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t=this.body.nodes,e=this.physicsBody.physicsNodeIndices,i=this.physicsBody.forces,o=0;o<e.length;o++){var n,s=-(n=t[e[o]]).x,r=-n.y,a=Math.sqrt(s*s+r*r);this._calculateForces(a,s,r,i,n)}}},{key:"_calculateForces",value:function(t,e,i,o,n){t=0===t?0:this.options.centralGravity/t;o[n.id].x=e*t,o[n.id].y=i*t}}]),e.default=s},function(d,t,e){Object.defineProperty(t,"__esModule",{value:!0});var o=a(e(170)),n=a(e(119)),i=a(e(120)),s=a(e(173)),r=a(e(174)),e=a(e(205));function a(t){return t&&t.__esModule?t:{default:t}}e=e.default,(0,r.default)(h,e),(0,i.default)(h,[{key:"_calculateForces",value:function(t,e,i,o,n){0===t&&(e=t=.1*Math.random()),this.overlapAvoidanceFactor<1&&o.shape.radius&&(t=Math.max(.1+this.overlapAvoidanceFactor*o.shape.radius,t-o.shape.radius));var s=o.edges.length+1,n=this.options.gravitationalConstant*n.mass*o.options.mass*s/Math.pow(t,2),s=i*n;this.physicsBody.forces[o.id].x+=e*n,this.physicsBody.forces[o.id].y+=s}}]);r=h;function h(t,e,i){return(0,n.default)(this,h),(0,s.default)(this,(h.__proto__||(0,o.default)(h)).call(this,t,e,i))}t.default=r},function(d,t,e){Object.defineProperty(t,"__esModule",{value:!0});var o=a(e(170)),n=a(e(119)),i=a(e(120)),s=a(e(173)),r=a(e(174)),e=a(e(210));function a(t){return t&&t.__esModule?t:{default:t}}function h(t,e,i){return(0,n.default)(this,h),(0,s.default)(this,(h.__proto__||(0,o.default)(h)).call(this,t,e,i))}e=e.default,(0,r.default)(h,e),(0,i.default)(h,[{key:"_calculateForces",value:function(t,e,i,o,n){0<t&&(t=n.edges.length+1,t=this.options.centralGravity*t*n.options.mass,o[n.id].x=e*t,o[n.id].y=i*t)}}]),t.default=h},function(a,t,e){Object.defineProperty(t,"__esModule",{value:!0});var y=n(e(58)),r=n(e(62)),i=n(e(119)),o=n(e(120)),D=n(e(214)),v=n(e(215));function n(t){return t&&t.__esModule?t:{default:t}}var C=e(1),e=((0,o.default)(s,[{key:"clusterByHubsize",value:function(t,e){void 0===t?t=this._getHubSize():"object"===(void 0===t?"undefined":(0,r.default)(t))&&(e=this._checkOptions(t),t=this._getHubSize());for(var i=[],o=0;o<this.body.nodeIndices.length;o++){var n=this.body.nodes[this.body.nodeIndices[o]];n.edges.length>=t&&i.push(n.id)}for(var s=0;s<i.length;s++)this.clusterByConnection(i[s],e,!0);this.body.emitter.emit("_dataChanged")}},{key:"cluster",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if(void 0===t.joinCondition)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");for(var t=this._checkOptions(t),i={},o={},n=0;n<this.body.nodeIndices.length;n++){var s=this.body.nodeIndices[n],r=this.body.nodes[s],d=D.default.cloneOptions(r);if(!0===t.joinCondition(d)){i[s]=this.body.nodes[s];for(var a=0;a<r.edges.length;a++){var h=r.edges[a];void 0===this.clusteredEdges[h.id]&&(o[h.id]=h)}}}this._cluster(i,o,t,e)}},{key:"clusterByEdgeCount",value:function(d,t){for(var l=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],e=(t=this._checkOptions(t),[]),i={},o=void 0,u=void 0,c=void 0,p=0;p<this.body.nodeIndices.length;p++){var n,s={},r={};if(void 0===i[n=this.body.nodeIndices[p]]){for(var c=0,f=this.body.nodes[n],u=[],m=0;m<f.edges.length;m++)o=f.edges[m],void 0===this.clusteredEdges[o.id]&&(o.toId!==o.fromId&&c++,u.push(o));if(c===d){for(var g=!0,v=0;v<u.length;v++){var o=u[v],a=this._getConnectedId(o,n);if(void 0===t.joinCondition)r[o.id]=o,s[n]=this.body.nodes[n],s[a]=this.body.nodes[a],i[n]=!0;else{a=D.default.cloneOptions(this.body.nodes[n]);if(!0!==t.joinCondition(a)){g=!1;break}r[o.id]=o,s[n]=this.body.nodes[n],i[n]=!0}}0<(0,y.default)(s).length&&0<(0,y.default)(r).length&&!0===g&&e.push({nodes:s,edges:r})}}}for(var h=0;h<e.length;h++)this._cluster(e[h].nodes,e[h].edges,t,!1);!0===l&&this.body.emitter.emit("_dataChanged")}},{key:"clusterOutliers",value:function(t){this.clusterByEdgeCount(1,t,!(1<arguments.length&&void 0!==arguments[1])||arguments[1])}},{key:"clusterBridges",value:function(t){this.clusterByEdgeCount(2,t,!(1<arguments.length&&void 0!==arguments[1])||arguments[1])}},{key:"clusterByConnection",value:function(t,e){var d=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];if(void 0===t)throw new Error("No nodeId supplied to clusterByConnection!");if(void 0===this.body.nodes[t])throw new Error("The nodeId given to clusterByConnection does not exist!");var i=this.body.nodes[t],o=(void 0===(e=this._checkOptions(e,i)).clusterNodeProperties.x&&(e.clusterNodeProperties.x=i.x),void 0===e.clusterNodeProperties.y&&(e.clusterNodeProperties.y=i.y),void 0===e.clusterNodeProperties.fixed&&(e.clusterNodeProperties.fixed={},e.clusterNodeProperties.fixed.x=i.options.fixed.x,e.clusterNodeProperties.fixed.y=i.options.fixed.y),{}),n={},s=i.id,l=D.default.cloneOptions(i);o[s]=i;for(var u=0;u<i.edges.length;u++){var r,c,a=i.edges[u];void 0===this.clusteredEdges[a.id]&&(r=this._getConnectedId(a,s),void 0===this.clusteredNodes[r]&&(r!==s?void 0===e.joinCondition?(n[a.id]=a,o[r]=this.body.nodes[r]):(c=D.default.cloneOptions(this.body.nodes[r]),!0===e.joinCondition(l,c)&&(n[a.id]=a,o[r]=this.body.nodes[r])):n[a.id]=a))}var p=(0,y.default)(o).map(function(t){return o[t].id});for(h in o)for(var h=o[h],f=0;f<h.edges.length;f++){var m=h.edges[f];-1<p.indexOf(this._getConnectedId(m,h.id))&&(n[m.id]=m)}this._cluster(o,n,e,d)}},{key:"_createClusterEdges",value:function(t,l,u,c){for(var e,i=void 0,o=void 0,p=void 0,f=(0,y.default)(t),n=[],s=0;s<f.length;s++)for(var m,g=t[m=f[s]],r=0;r<g.edges.length;r++)e=g.edges[r],void 0===this.clusteredEdges[e.id]&&(e.toId==e.fromId?l[e.id]=e:p=e.toId==m?(i=u.id,o=e.fromId):(i=e.toId,o=u.id,i),void 0===t[p]&&n.push({edge:e,fromId:o,toId:i}));for(var a=0;a<n.length;a++){var h=n[a].edge,d=D.default.cloneOptions(h,"edge"),d=(C.deepExtend(d,c),d.from=n[a].fromId,d.to=n[a].toId,d.id="clusterEdge:"+C.randomUUID(),this.body.functions.createEdge(d));d.clusteringEdgeReplacingId=h.id,this.body.edges[h.id].edgeReplacedById=d.id,(this.body.edges[d.id]=d).connect(),this._backupEdgeOptions(h),h.setOptions({physics:!1,hidden:!0})}}},{key:"_checkOptions",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return void 0===t.clusterEdgeProperties&&(t.clusterEdgeProperties={}),void 0===t.clusterNodeProperties&&(t.clusterNodeProperties={}),t}},{key:"_cluster",value:function(t,e,i){var d=!(3<arguments.length&&void 0!==arguments[3])||arguments[3];if(0!=(0,y.default)(t).length&&(1!=(0,y.default)(t).length||1==i.clusterNodeProperties.allowSingleNodeCluster)){for(var l in t)if(t.hasOwnProperty(l)&&void 0!==this.clusteredNodes[l])return;var o=C.deepExtend({},i.clusterNodeProperties);if(void 0!==i.processProperties){var n,u,c=[];for(n in t)t.hasOwnProperty(n)&&(u=D.default.cloneOptions(t[n]),c.push(u));var s,p,f=[];for(s in e)e.hasOwnProperty(s)&&"clusterEdge:"!==s.substr(0,12)&&(p=D.default.cloneOptions(e[s],"edge"),f.push(p));if(!(o=i.processProperties(o,c,f)))throw new Error("The processProperties function does not return properties!")}void 0===o.id&&(o.id="cluster:"+C.randomUUID());var r,m,a,g=o.id,h=(void 0===o.label&&(o.label="cluster"),void 0),h=(void 0===o.x&&(h=this._getClusterPosition(t),o.x=h.x),void 0===o.y&&(void 0===h&&(h=this._getClusterPosition(t)),o.y=h.y),o.id=g,this.body.functions.createNode(o,v.default));for(r in h.isCluster=!0,h.containedNodes=t,h.containedEdges=e,h.clusterEdgeProperties=i.clusterEdgeProperties,this.body.nodes[o.id]=h,this._createClusterEdges(t,e,o,i.clusterEdgeProperties),e)e.hasOwnProperty(r)&&void 0!==this.body.edges[r]&&(m=this.body.edges[r],this._backupEdgeOptions(m),m.setOptions({physics:!1,hidden:!0}));for(a in t)t.hasOwnProperty(a)&&(this.clusteredNodes[a]={clusterId:o.id,node:this.body.nodes[a]},this.body.nodes[a].setOptions({hidden:!0,physics:!1}));!(o.id=void 0)===d&&this.body.emitter.emit("_dataChanged")}}},{key:"_backupEdgeOptions",value:function(t){void 0===this.clusteredEdges[t.id]&&(this.clusteredEdges[t.id]={physics:t.options.physics,hidden:t.options.hidden})}},{key:"_restoreEdge",value:function(t){var e=this.clusteredEdges[t.id];void 0!==e&&(t.setOptions({physics:e.physics,hidden:e.hidden}),delete this.clusteredEdges[t.id])}},{key:"isCluster",value:function(t){return void 0!==this.body.nodes[t]?!0===this.body.nodes[t].isCluster:(console.log("Node does not exist."),!1)}},{key:"_getClusterPosition",value:function(t){for(var e,i=(0,y.default)(t),o=t[i[0]].x,n=t[i[0]].x,s=t[i[0]].y,r=t[i[0]].y,a=1;a<i.length;a++)o=(e=t[i[a]]).x<o?e.x:o,n=e.x>n?e.x:n,s=e.y<s?e.y:s,r=e.y>r?e.y:r;return{x:.5*(o+n),y:.5*(s+r)}}},{key:"openCluster",value:function(t,l){var u=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];if(void 0===t)throw new Error("No clusterNodeId supplied to openCluster.");if(void 0===this.body.nodes[t])throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(void 0!==this.body.nodes[t].containedNodes){var e,c,p,i=this.body.nodes[t],o=i.containedNodes,f=i.containedEdges;if(void 0!==l&&void 0!==l.releaseFunction&&"function"==typeof l.releaseFunction){var m,g,v={},y={x:i.x,y:i.y};for(m in o)o.hasOwnProperty(m)&&(g=this.body.nodes[m],v[m]={x:g.x,y:g.y});var n,b,s=l.releaseFunction(y,v);for(n in o)o.hasOwnProperty(n)&&(b=this.body.nodes[n],void 0!==s[n]&&(b.x=(void 0===s[n].x?i:s[n]).x,b.y=(void 0===s[n].y?i:s[n]).y))}else for(var _ in o)o.hasOwnProperty(_)&&(e=this.body.nodes[_],!1===(e=o[_]).options.fixed.x&&(e.x=i.x),!1===e.options.fixed.y&&(e.y=i.y));for(c in o)o.hasOwnProperty(c)&&((p=this.body.nodes[c]).vx=i.vx,p.vy=i.vy,p.setOptions({hidden:!1,physics:!0}),delete this.clusteredNodes[c]);for(var w=[],x=0;x<i.edges.length;x++)w.push(i.edges[x]);for(var k,O=0;O<w.length;O++){var r,a,S,M,h=w[O],d=this._getConnectedId(h,t);void 0!==this.clusteredNodes[d]?(a=this.body.nodes[this.clusteredNodes[d].clusterId],void 0!==(r=this.body.edges[h.clusteringEdgeReplacingId])&&(delete f[(a.containedEdges[r.id]=r).id],S=r.fromId,M=r.toId,r.toId==d?M=this.clusteredNodes[d].clusterId:S=this.clusteredNodes[d].clusterId,d=D.default.cloneOptions(r,"edge"),C.deepExtend(d,a.clusterEdgeProperties),a="clusterEdge:"+C.randomUUID(),C.deepExtend(d,{from:S,to:M,hidden:!1,physics:!0,id:a}),(S=this.body.functions.createEdge(d)).clusteringEdgeReplacingId=r.id,this.body.edges[a]=S,this.body.edges[a].connect())):void 0!==(M=this.body.edges[h.clusteringEdgeReplacingId])&&this._restoreEdge(M),h.cleanup(),h.disconnect(),delete this.body.edges[h.id]}for(k in f)f.hasOwnProperty(k)&&this._restoreEdge(f[k]);delete this.body.nodes[t],!0===u&&this.body.emitter.emit("_dataChanged")}else console.log("The node:"+t+" is not a cluster.")}},{key:"getNodesInCluster",value:function(t){var e=[];if(!0===this.isCluster(t)){var i,o=this.body.nodes[t].containedNodes;for(i in o)o.hasOwnProperty(i)&&e.push(this.body.nodes[i].id)}return e}},{key:"findNode",value:function(t){for(var e=[],i=0;void 0!==this.clusteredNodes[t]&&i<100;)e.push(this.body.nodes[t].id),t=this.clusteredNodes[t].clusterId,i++;return e.push(this.body.nodes[t].id),e.reverse(),e}},{key:"updateClusteredNode",value:function(t,e){if(void 0===t)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(void 0===e)throw new Error("No newOptions supplied to updateClusteredNode.");if(void 0===this.body.nodes[t])throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[t].setOptions(e),this.body.emitter.emit("_dataChanged")}},{key:"updateEdge",value:function(t,e){if(void 0===t)throw new Error("No startEdgeId supplied to updateEdge.");if(void 0===e)throw new Error("No newOptions supplied to updateEdge.");if(void 0===this.body.edges[t])throw new Error("The startEdgeId supplied to updateEdge does not exist.");for(var i=this.getClusteredEdges(t),o=0;o<i.length;o++)this.body.edges[i[o]].setOptions(e);this.body.emitter.emit("_dataChanged")}},{key:"getClusteredEdges",value:function(t){for(var e=[],i=0;void 0!==t&&void 0!==this.body.edges[t]&&i<100;)e.push(this.body.edges[t].id),t=this.body.edges[t].edgeReplacedById,i++;return e.reverse(),e}},{key:"getBaseEdge",value:function(t){for(var e=t,i=0;void 0!==t&&void 0!==this.body.edges[t]&&i<100;)i++,void 0!==(t=this.body.edges[t].clusteringEdgeReplacingId)&&(e=t);return e}},{key:"_getConnectedId",value:function(t,e){return t.toId!=e?t.toId:(t.fromId,t.fromId)}},{key:"_getHubSize",value:function(){for(var t=0,e=0,i=0,o=0,n=0;n<this.body.nodeIndices.length;n++){var s=this.body.nodes[this.body.nodeIndices[n]];s.edges.length>o&&(o=s.edges.length),t+=s.edges.length,e+=Math.pow(s.edges.length,2),i+=1}t/=i;var r=(e/=i)-Math.pow(t,2),r=Math.sqrt(r),r=Math.floor(t+2*r);return r=o<r?o:r}}]),s);function s(t){var e=this;(0,i.default)(this,s),this.body=t,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},C.extend(this.options,this.defaultOptions),this.body.emitter.on("_resetData",function(){e.clusteredNodes={},e.clusteredEdges={}})}t.default=e},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o=s(i(119)),n=s(i(120));function s(t){return t&&t.__esModule?t:{default:t}}var r=i(1);function a(){(0,o.default)(this,a)}(0,n.default)(a,null,[{key:"getRange",value:function(t){var e,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],o=1e9,n=-1e9,s=1e9,r=-1e9;if(0<i.length)for(var a=0;a<i.length;a++)s>(e=t[i[a]]).shape.boundingBox.left&&(s=e.shape.boundingBox.left),r<e.shape.boundingBox.right&&(r=e.shape.boundingBox.right),o>e.shape.boundingBox.top&&(o=e.shape.boundingBox.top),n<e.shape.boundingBox.bottom&&(n=e.shape.boundingBox.bottom);return 1e9===s&&-1e9===r&&1e9===o&&-1e9===n&&(r=s=n=o=0),{minX:s,maxX:r,minY:o,maxY:n}}},{key:"getRangeCore",value:function(t){var e,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],o=1e9,n=-1e9,s=1e9,r=-1e9;if(0<i.length)for(var a=0;a<i.length;a++)s>(e=t[i[a]]).x&&(s=e.x),r<e.x&&(r=e.x),o>e.y&&(o=e.y),n<e.y&&(n=e.y);return 1e9===s&&-1e9===r&&1e9===o&&-1e9===n&&(r=s=n=o=0),{minX:s,maxX:r,minY:o,maxY:n}}},{key:"findCenter",value:function(t){return{x:.5*(t.maxX+t.minX),y:.5*(t.maxY+t.minY)}}},{key:"cloneOptions",value:function(t,e){var i={};return void 0===e||"node"===e?(r.deepExtend(i,t.options,!0),i.x=t.x,i.y=t.y,i.amountOfConnections=t.edges.length):r.deepExtend(i,t.options,!0),i}}]),e.default=a},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var s=n(i(170)),r=n(i(119)),a=n(i(173)),o=n(i(174)),i=n(i(163));function n(t){return t&&t.__esModule?t:{default:t}}function h(t,e,i,o,n){(0,r.default)(this,h);t=(0,a.default)(this,(h.__proto__||(0,s.default)(h)).call(this,t,e,i,o,n));return t.isCluster=!0,t.containedNodes={},t.containedEdges={},t}i=i.default,(0,o.default)(h,i),e.default=h},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o=s(i(119)),n=s(i(120));function s(t){return t&&t.__esModule?t:{default:t}}"undefined"!=typeof window&&(window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame);var r=i(1),i=((0,n.default)(a,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("dragStart",function(){t.dragging=!0}),this.body.emitter.on("dragEnd",function(){t.dragging=!1}),this.body.emitter.on("_resizeNodes",function(){t._resizeNodes()}),this.body.emitter.on("_redraw",function(){!1===t.renderingActive&&t._redraw()}),this.body.emitter.on("_blockRedraw",function(){t.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",function(){t.allowRedraw=!0,t.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",this._requestRedraw.bind(this)),this.body.emitter.on("_startRendering",function(){t.renderRequests+=1,t.renderingActive=!0,t._startRendering()}),this.body.emitter.on("_stopRendering",function(){--t.renderRequests,t.renderingActive=0<t.renderRequests,t.renderTimer=void 0}),this.body.emitter.on("destroy",function(){t.renderRequests=0,t.allowRedraw=!1,(!(t.renderingActive=!1)===t.requiresTimeout?clearTimeout:cancelAnimationFrame)(t.renderTimer),t.body.emitter.off()})}},{key:"setOptions",value:function(t){void 0!==t&&r.selectiveDeepExtend(["hideEdgesOnDrag","hideNodesOnDrag"],this.options,t)}},{key:"_startRendering",value:function(){!0===this.renderingActive&&void 0===this.renderTimer&&(!0===this.requiresTimeout?this.renderTimer=window.setTimeout(this._renderStep.bind(this),this.simulationInterval):this.renderTimer=window.requestAnimationFrame(this._renderStep.bind(this)))}},{key:"_renderStep",value:function(){!0===this.renderingActive&&(!(this.renderTimer=void 0)===this.requiresTimeout&&this._startRendering(),this._redraw(),!1===this.requiresTimeout&&this._startRendering())}},{key:"redraw",value:function(){this.body.emitter.emit("setSize"),this._redraw()}},{key:"_requestRedraw",value:function(){var t=this;!0!==this.redrawRequested&&!1===this.renderingActive&&!0===this.allowRedraw&&((this.redrawRequested=!0)===this.requiresTimeout?window.setTimeout(function(){t._redraw(!1)},0):window.requestAnimationFrame(function(){t._redraw(!1)}))}},{key:"_redraw",value:function(){var t,e,i,o=0<arguments.length&&void 0!==arguments[0]&&arguments[0];!0===this.allowRedraw&&(this.body.emitter.emit("initRedraw"),this.redrawRequested=!1,t=this.canvas.frame.canvas.getContext("2d"),0!==this.canvas.frame.canvas.width&&0!==this.canvas.frame.canvas.height||this.canvas.setSize(),this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1),t.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0),e=this.canvas.frame.canvas.clientWidth,i=this.canvas.frame.canvas.clientHeight,t.clearRect(0,0,e,i),0!==this.canvas.frame.clientWidth&&(t.save(),t.translate(this.body.view.translation.x,this.body.view.translation.y),t.scale(this.body.view.scale,this.body.view.scale),t.beginPath(),this.body.emitter.emit("beforeDrawing",t),t.closePath(),!1===o&&(!1===this.dragging||!0===this.dragging&&!1===this.options.hideEdgesOnDrag)&&this._drawEdges(t),(!1===this.dragging||!0===this.dragging&&!1===this.options.hideNodesOnDrag)&&this._drawNodes(t,o),t.beginPath(),this.body.emitter.emit("afterDrawing",t),t.closePath(),t.restore(),!0===o&&t.clearRect(0,0,e,i)))}},{key:"_resizeNodes",value:function(){var t,e=this.canvas.frame.canvas.getContext("2d"),i=(void 0===this.pixelRatio&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0),e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale),this.body.nodes),o=void 0;for(t in i)i.hasOwnProperty(t)&&((o=i[t]).resize(e),o.updateBoundingBox(e,o.selected));e.restore()}},{key:"_drawNodes",value:function(t){for(var d=1<arguments.length&&void 0!==arguments[1]&&arguments[1],e=this.body.nodes,i=this.body.nodeIndices,o=void 0,n=[],s=this.canvas.DOMtoCanvas({x:-20,y:-20}),r=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+20,y:this.canvas.frame.canvas.clientHeight+20}),l={top:s.y,left:s.x,bottom:r.y,right:r.x},a=0;a<i.length;a++)(o=e[i[a]]).isSelected()?n.push(i[a]):!0===d||!0===o.isBoundingBoxOverlappingWith(l)?o.draw(t):o.updateBoundingBox(t,o.selected);for(var h=0;h<n.length;h++)(o=e[n[h]]).draw(t)}},{key:"_drawEdges",value:function(t){for(var e=this.body.edges,i=this.body.edgeIndices,o=void 0,n=0;n<i.length;n++)!0===(o=e[i[n]]).connected&&o.draw(t)}},{key:"_determineBrowserMethod",value:function(){var t;"undefined"!=typeof window?(t=navigator.userAgent.toLowerCase(),this.requiresTimeout=!1,(-1!=t.indexOf("msie 9.0")||-1!=t.indexOf("safari")&&t.indexOf("chrome")<=-1)&&(this.requiresTimeout=!0)):this.requiresTimeout=!0}}]),a);function a(t,e){(0,o.default)(this,a),this.body=t,this.canvas=e,this.redrawRequested=!1,this.renderTimer=void 0,this.requiresTimeout=!0,this.renderingActive=!1,this.renderRequests=0,this.pixelRatio=void 0,this.allowRedraw=!0,this.dragging=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideNodesOnDrag:!1},r.extend(this.options,this.defaultOptions),this._determineBrowserMethod(),this.bindEventListeners()}e.default=i},function(d,t,e){Object.defineProperty(t,"__esModule",{value:!0});var i=n(e(119)),o=n(e(120));function n(t){return t&&t.__esModule?t:{default:t}}var s=e(112),r=e(125),a=e(1),e=((0,o.default)(h,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.once("resize",function(t){0!==t.width&&(e.body.view.translation.x=.5*t.width),0!==t.height&&(e.body.view.translation.y=.5*t.height)}),this.body.emitter.on("setSize",this.setSize.bind(this)),this.body.emitter.on("destroy",function(){e.hammerFrame.destroy(),e.hammer.destroy(),e._cleanUp()})}},{key:"setOptions",value:function(t){var e=this;void 0!==t&&a.selectiveDeepExtend(["width","height","autoResize"],this.options,t),!0===this.options.autoResize&&(this._cleanUp(),this.resizeTimer=setInterval(function(){!0===e.setSize()&&e.body.emitter.emit("_requestRedraw")},1e3),this.resizeFunction=this._onResize.bind(this),a.addEventListener(window,"resize",this.resizeFunction))}},{key:"_cleanUp",value:function(){void 0!==this.resizeTimer&&clearInterval(this.resizeTimer),a.removeEventListener(window,"resize",this.resizeFunction),this.resizeFunction=void 0}},{key:"_onResize",value:function(){this.setSize(),this.body.emitter.emit("_redraw")}},{key:"_getCameraState",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.pixelRatio;!0===this.initialized&&(this.cameraState.previousWidth=this.frame.canvas.width/t,this.cameraState.previousHeight=this.frame.canvas.height/t,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/t,y:.5*this.frame.canvas.height/t}))}},{key:"_setCameraState",value:function(){var t,e,i;void 0!==this.cameraState.scale&&0!==this.frame.canvas.clientWidth&&0!==this.frame.canvas.clientHeight&&0!==this.pixelRatio&&0<this.cameraState.previousWidth&&(t=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,e=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight,i=this.cameraState.scale,1!=t&&1!=e?i=.5*this.cameraState.scale*(t+e):1!=t?i=this.cameraState.scale*t:1!=e&&(i=this.cameraState.scale*e),this.body.view.scale=i,e=(t=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight})).x-this.cameraState.position.x,i=t.y-this.cameraState.position.y,this.body.view.translation.x+=e*this.body.view.scale,this.body.view.translation.y+=i*this.body.view.scale)}},{key:"_prepareValue",value:function(t){if("number"==typeof t)return t+"px";if("string"==typeof t){if(-1!==t.indexOf("%")||-1!==t.indexOf("px"))return t;if(-1===t.indexOf("%"))return t+"px"}throw new Error("Could not use the value supplied for width or height:"+t)}},{key:"_create",value:function(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);var t;this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=900,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext?(t=this.frame.canvas.getContext("2d"),this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1),this.frame.canvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)):((t=document.createElement("DIV")).style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerHTML="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(t)),this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}},{key:"_bindHammer",value:function(){var e=this;void 0!==this.hammer&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new s(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:s.DIRECTION_ALL}),r.onTouch(this.hammer,function(t){e.body.eventListeners.onTouch(t)}),this.hammer.on("tap",function(t){e.body.eventListeners.onTap(t)}),this.hammer.on("doubletap",function(t){e.body.eventListeners.onDoubleTap(t)}),this.hammer.on("press",function(t){e.body.eventListeners.onHold(t)}),this.hammer.on("panstart",function(t){e.body.eventListeners.onDragStart(t)}),this.hammer.on("panmove",function(t){e.body.eventListeners.onDrag(t)}),this.hammer.on("panend",function(t){e.body.eventListeners.onDragEnd(t)}),this.hammer.on("pinch",function(t){e.body.eventListeners.onPinch(t)}),this.frame.canvas.addEventListener("mousewheel",function(t){e.body.eventListeners.onMouseWheel(t)}),this.frame.canvas.addEventListener("DOMMouseScroll",function(t){e.body.eventListeners.onMouseWheel(t)}),this.frame.canvas.addEventListener("mousemove",function(t){e.body.eventListeners.onMouseMove(t)}),this.frame.canvas.addEventListener("contextmenu",function(t){e.body.eventListeners.onContext(t)}),this.hammerFrame=new s(this.frame),r.onRelease(this.hammerFrame,function(t){e.body.eventListeners.onRelease(t)})}},{key:"setSize",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.options.width,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.options.height,t=this._prepareValue(t),e=this._prepareValue(e),i=!1,o=this.frame.canvas.width,n=this.frame.canvas.height,s=this.frame.canvas.getContext("2d"),r=this.pixelRatio;return this.pixelRatio=(window.devicePixelRatio||1)/(s.webkitBackingStorePixelRatio||s.mozBackingStorePixelRatio||s.msBackingStorePixelRatio||s.oBackingStorePixelRatio||s.backingStorePixelRatio||1),t!=this.options.width||e!=this.options.height||this.frame.style.width!=t||this.frame.style.height!=e?(this._getCameraState(r),this.frame.style.width=t,this.frame.style.height=e,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=t,this.options.height=e,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},i=!0):(this.frame.canvas.width==Math.round(this.frame.canvas.clientWidth*this.pixelRatio)&&this.frame.canvas.height==Math.round(this.frame.canvas.clientHeight*this.pixelRatio)||this._getCameraState(r),this.frame.canvas.width!=Math.round(this.frame.canvas.clientWidth*this.pixelRatio)&&(this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),i=!0),this.frame.canvas.height!=Math.round(this.frame.canvas.clientHeight*this.pixelRatio)&&(this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),i=!0)),!0===i&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(o/this.pixelRatio),oldHeight:Math.round(n/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,i}},{key:"_XconvertDOMtoCanvas",value:function(t){return(t-this.body.view.translation.x)/this.body.view.scale}},{key:"_XconvertCanvasToDOM",value:function(t){return t*this.body.view.scale+this.body.view.translation.x}},{key:"_YconvertDOMtoCanvas",value:function(t){return(t-this.body.view.translation.y)/this.body.view.scale}},{key:"_YconvertCanvasToDOM",value:function(t){return t*this.body.view.scale+this.body.view.translation.y}},{key:"canvasToDOM",value:function(t){return{x:this._XconvertCanvasToDOM(t.x),y:this._YconvertCanvasToDOM(t.y)}}},{key:"DOMtoCanvas",value:function(t){return{x:this._XconvertDOMtoCanvas(t.x),y:this._YconvertDOMtoCanvas(t.y)}}}]),h);function h(t){(0,i.default)(this,h),this.body=t,this.pixelRatio=1,this.resizeTimer=void 0,this.resizeFunction=this._onResize.bind(this),this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},a.extend(this.options,this.defaultOptions),this.bindEventListeners()}t.default=e},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o=s(i(119)),n=s(i(120)),a=s(i(214));function s(t){return t&&t.__esModule?t:{default:t}}var r=i(1),i=((0,n.default)(h,[{key:"setOptions",value:function(){this.options=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}}},{key:"fit",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{nodes:[]},e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],i=void 0,o=void 0;if(void 0!==t.nodes&&0!==t.nodes.length||(t.nodes=this.body.nodeIndices),!0===e){var n,s=0;for(n in this.body.nodes)this.body.nodes.hasOwnProperty(n)&&!0===this.body.nodes[n].predefinedPosition&&(s+=1);if(s>.5*this.body.nodeIndices.length)return void this.fit(t,!1);i=a.default.getRange(this.body.nodes,t.nodes),o=12.662/(this.body.nodeIndices.length+7.4147)+.0964822;o*=Math.min(this.canvas.frame.canvas.clientWidth/600,this.canvas.frame.canvas.clientHeight/600)}else{this.body.emitter.emit("_resizeNodes"),i=a.default.getRange(this.body.nodes,t.nodes);var e=1.1*Math.abs(i.maxX-i.minX),r=1.1*Math.abs(i.maxY-i.minY),e=this.canvas.frame.canvas.clientWidth/e,r=this.canvas.frame.canvas.clientHeight/r;o=e<=r?e:r}(1<o||0===o)&&(o=1);e={position:a.default.findCenter(i),scale:o,animation:t.animation};this.moveTo(e)}},{key:"focus",value:function(t){var e,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};void 0!==this.body.nodes[t]?(e={x:this.body.nodes[t].x,y:this.body.nodes[t].y},i.position=e,i.lockedOnNode=t,this.moveTo(i)):console.log("Node: "+t+" cannot be found.")}},{key:"moveTo",value:function(t){void 0!==t?(void 0===t.offset&&(t.offset={x:0,y:0}),void 0===t.offset.x&&(t.offset.x=0),void 0===t.offset.y&&(t.offset.y=0),void 0===t.scale&&(t.scale=this.body.view.scale),void 0===t.position&&(t.position=this.getViewPosition()),void 0===t.animation&&(t.animation={duration:0}),!1===t.animation&&(t.animation={duration:0}),!0===t.animation&&(t.animation={}),void 0===t.animation.duration&&(t.animation.duration=1e3),void 0===t.animation.easingFunction&&(t.animation.easingFunction="easeInOutQuad"),this.animateView(t)):t={}}},{key:"animateView",value:function(t){var e,i;void 0!==t&&(this.animationEasingFunction=t.animation.easingFunction,this.releaseNode(),!0===t.locked&&(this.lockedOnNodeId=t.lockedOnNode,this.lockedOnNodeOffset=t.offset),0!=this.easingTime&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=t.scale,this.body.view.scale=this.targetScale,e=(i=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})).x-t.position.x,i=i.y-t.position.y,this.targetTranslation={x:this.sourceTranslation.x+e*this.targetScale+t.offset.x,y:this.sourceTranslation.y+i*this.targetScale+t.offset.y},0===t.animation.duration?null!=this.lockedOnNodeId?(this.viewFunction=this._lockedRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction)):(this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw")):(this.animationSpeed=1/(60*t.animation.duration*.001)||1/60,this.animationEasingFunction=t.animation.easingFunction,this.viewFunction=this._transitionRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")))}},{key:"_lockedRedraw",value:function(){var t=this.body.nodes[this.lockedOnNodeId].x,e=this.body.nodes[this.lockedOnNodeId].y,i=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),t=i.x-t,i=i.y-e,e=this.body.view.translation,t={x:e.x+t*this.body.view.scale+this.lockedOnNodeOffset.x,y:e.y+i*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=t}},{key:"releaseNode",value:function(){void 0!==this.lockedOnNodeId&&void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}},{key:"_transitionRedraw",value:function(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=(this.easingTime+=this.animationSpeed,this.easingTime=!0===t?1:this.easingTime,r.easingFunctions[this.animationEasingFunction](this.easingTime));this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*t,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*t,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*t},1<=this.easingTime&&(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,null!=this.lockedOnNodeId&&(this.viewFunction=this._lockedRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction)),this.body.emitter.emit("animationFinished"))}},{key:"getScale",value:function(){return this.body.view.scale}},{key:"getViewPosition",value:function(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}]),h);function h(t,e){var i=this;(0,o.default)(this,h),this.body=t,this.canvas=e,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",this.fit.bind(this)),this.body.emitter.on("animationFinished",function(){i.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",this.releaseNode.bind(this))}e.default=i},function(h,t,e){Object.defineProperty(t,"__esModule",{value:!0});var o=s(e(119)),i=s(e(120)),n=s(e(220)),m=s(e(132));function s(t){return t&&t.__esModule?t:{default:t}}var r=e(1),e=((0,i.default)(a,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("destroy",function(){clearTimeout(t.popupTimer),delete t.body.functions.getPointer})}},{key:"setOptions",value:function(t){void 0!==t&&(r.selectiveNotDeepExtend(["hideEdgesOnDrag","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,t),r.mergeOptions(this.options,t,"keyboard"),t.tooltip&&(r.extend(this.options.tooltip,t.tooltip),t.tooltip.color&&(this.options.tooltip.color=r.parseColor(t.tooltip.color)))),this.navigationHandler.setOptions(this.options)}},{key:"getPointer",value:function(t){return{x:t.x-r.getAbsoluteLeft(this.canvas.frame.canvas),y:t.y-r.getAbsoluteTop(this.canvas.frame.canvas)}}},{key:"onTouch",value:function(t){50<(new Date).valueOf()-this.touchTime&&(this.drag.pointer=this.getPointer(t.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=(new Date).valueOf())}},{key:"onTap",value:function(t){var e=this.getPointer(t.center),i=this.selectionHandler.options.multiselect&&(t.changedPointers[0].ctrlKey||t.changedPointers[0].metaKey);this.checkSelectionChanges(e,t,i),this.selectionHandler._generateClickEvent("click",t,e)}},{key:"onDoubleTap",value:function(t){var e=this.getPointer(t.center);this.selectionHandler._generateClickEvent("doubleClick",t,e)}},{key:"onHold",value:function(t){var e=this.getPointer(t.center),i=this.selectionHandler.options.multiselect;this.checkSelectionChanges(e,t,i),this.selectionHandler._generateClickEvent("click",t,e),this.selectionHandler._generateClickEvent("hold",t,e)}},{key:"onRelease",value:function(t){var e;10<(new Date).valueOf()-this.touchTime&&(e=this.getPointer(t.center),this.selectionHandler._generateClickEvent("release",t,e),this.touchTime=(new Date).valueOf())}},{key:"onContext",value:function(t){var e=this.getPointer({x:t.clientX,y:t.clientY});this.selectionHandler._generateClickEvent("oncontext",t,e)}},{key:"checkSelectionChanges",value:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]&&arguments[2],o=this.selectionHandler._getSelectedEdgeCount(),d=this.selectionHandler._getSelectedNodeCount(),n=this.selectionHandler.getSelection(),s=void 0,s=!0===i?this.selectionHandler.selectAdditionalOnPoint(t):this.selectionHandler.selectOnPoint(t),i=this.selectionHandler._getSelectedEdgeCount(),r=this.selectionHandler._getSelectedNodeCount(),a=this.selectionHandler.getSelection(),a=this._determineIfDifferent(n,a),l=a.nodesChanged,a=a.edgesChanged,h=!1;0<r-d?(this.selectionHandler._generateClickEvent("selectNode",e,t),h=s=!0):!0===l&&0<r?(this.selectionHandler._generateClickEvent("deselectNode",e,t,n),this.selectionHandler._generateClickEvent("selectNode",e,t),s=h=!0):r-d<0&&(this.selectionHandler._generateClickEvent("deselectNode",e,t,n),s=!0),0<i-o&&!1===h?(this.selectionHandler._generateClickEvent("selectEdge",e,t),s=!0):0<i&&!0===a?(this.selectionHandler._generateClickEvent("deselectEdge",e,t,n),this.selectionHandler._generateClickEvent("selectEdge",e,t),s=!0):i-o<0&&(this.selectionHandler._generateClickEvent("deselectEdge",e,t,n),s=!0),!0===s&&this.selectionHandler._generateClickEvent("select",e,t)}},{key:"_determineIfDifferent",value:function(t,e){for(var i=!1,o=!1,n=0;n<t.nodes.length;n++)-1===e.nodes.indexOf(t.nodes[n])&&(i=!0);for(var s=0;s<e.nodes.length;s++)-1===t.nodes.indexOf(t.nodes[s])&&(i=!0);for(var r=0;r<t.edges.length;r++)-1===e.edges.indexOf(t.edges[r])&&(o=!0);for(var a=0;a<e.edges.length;a++)-1===t.edges.indexOf(t.edges[a])&&(o=!0);return{nodesChanged:i,edgesChanged:o}}},{key:"onDragStart",value:function(t){void 0===this.drag.pointer&&this.onTouch(t);var e=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=r.extend({},this.body.view.translation),(this.drag.nodeId=void 0)!==e&&!0===this.options.dragNodes){this.drag.nodeId=e.id,!1===e.isSelected()&&(this.selectionHandler.unselectAll(),this.selectionHandler.selectObject(e)),this.selectionHandler._generateClickEvent("dragStart",t,this.drag.pointer);var i,o,n,s=this.selectionHandler.selectionObj.nodes;for(i in s)s.hasOwnProperty(i)&&(n={id:(o=s[i]).id,node:o,x:o.x,y:o.y,xFixed:o.options.fixed.x,yFixed:o.options.fixed.y},o.options.fixed.x=!0,o.options.fixed.y=!0,this.drag.selection.push(n))}else this.selectionHandler._generateClickEvent("dragStart",t,this.drag.pointer,void 0,!0)}},{key:"onDrag",value:function(t){var i,o,e,n,s=this;!0!==this.drag.pinched&&(this.body.emitter.emit("unlockNode"),n=this.getPointer(t.center),(e=this.drag.selection)&&e.length&&!0===this.options.dragNodes?(this.selectionHandler._generateClickEvent("dragging",t,n),i=n.x-this.drag.pointer.x,o=n.y-this.drag.pointer.y,e.forEach(function(t){var e=t.node;!1===t.xFixed&&(e.x=s.canvas._XconvertDOMtoCanvas(s.canvas._XconvertCanvasToDOM(t.x)+i)),!1===t.yFixed&&(e.y=s.canvas._YconvertDOMtoCanvas(s.canvas._YconvertCanvasToDOM(t.y)+o))}),this.body.emitter.emit("startSimulation")):!0===this.options.dragView&&(this.selectionHandler._generateClickEvent("dragging",t,n,void 0,!0),void 0!==this.drag.pointer?(e=n.x-this.drag.pointer.x,n=n.y-this.drag.pointer.y,this.body.view.translation={x:this.drag.translation.x+e,y:this.drag.translation.y+n},this.body.emitter.emit("_redraw")):this.onDragStart(t)))}},{key:"onDragEnd",value:function(t){this.drag.dragging=!1;var e=this.drag.selection;e&&e.length?(e.forEach(function(t){t.node.options.fixed.x=t.xFixed,t.node.options.fixed.y=t.yFixed}),this.selectionHandler._generateClickEvent("dragEnd",t,this.getPointer(t.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler._generateClickEvent("dragEnd",t,this.getPointer(t.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}},{key:"onPinch",value:function(t){var e=this.getPointer(t.center),t=(this.drag.pinched=!0,void 0===this.pinch.scale&&(this.pinch.scale=1),this.pinch.scale*t.scale);this.zoom(t,e)}},{key:"zoom",value:function(t,e){var i,o,n,s,r;!0===this.options.zoomView&&(i=this.body.view.scale,o=void(10<(t=t<1e-5?1e-5:t)&&(t=10)),void 0!==this.drag&&!0===this.drag.dragging&&(o=this.canvas.DOMtoCanvas(this.drag.pointer)),s=this.body.view.translation,n=(1-(r=t/i))*e.x+s.x*r,s=(1-r)*e.y+s.y*r,this.body.view.scale=t,this.body.view.translation={x:n,y:s},null!=o&&(r=this.canvas.canvasToDOM(o),this.drag.pointer.x=r.x,this.drag.pointer.y=r.y),this.body.emitter.emit("_requestRedraw"),i<t?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:e}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:e}))}},{key:"onMouseWheel",value:function(t){var e,i,o;!0===this.options.zoomView&&(o=0,t.wheelDelta?o=t.wheelDelta/120:t.detail&&(o=-t.detail/3),0!==o&&(e=this.body.view.scale,i=o/10,o<0&&(i/=1-i),e*=1+i,o=this.getPointer({x:t.clientX,y:t.clientY}),this.zoom(e,o)),t.preventDefault())}},{key:"onMouseMove",value:function(t){var e=this,i=this.getPointer({x:t.clientX,y:t.clientY}),t=!1;void 0!==this.popup&&(!1===this.popup.hidden&&this._checkHidePopup(i),!1===this.popup.hidden&&(t=!0,this.popup.setPosition(i.x+3,i.y-5),this.popup.show())),!1===this.options.keyboard.bindToWindow&&!0===this.options.keyboard.enabled&&this.canvas.frame.focus(),!1===t&&(void 0!==this.popupTimer&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=setTimeout(function(){return e._checkShowPopup(i)},this.options.tooltipDelay))),!0===this.options.hover&&(void 0===(t=this.selectionHandler.getNodeAt(i))&&(t=this.selectionHandler.getEdgeAt(i)),this.selectionHandler.hoverObject(t))}},{key:"_checkShowPopup",value:function(t){var e=this.canvas._XconvertDOMtoCanvas(t.x),i=this.canvas._YconvertDOMtoCanvas(t.y),l={left:e,top:i,right:e,bottom:i},e=void 0===this.popupObj?void 0:this.popupObj.id,i=!1,u="node";if(void 0===this.popupObj){for(var o=this.body.nodeIndices,c=this.body.nodes,p=void 0,n=[],s=0;s<o.length;s++)!0===(p=c[o[s]]).isOverlappingWith(l)&&void 0!==p.getTitle()&&n.push(o[s]);0<n.length&&(this.popupObj=c[n[n.length-1]],i=!0)}if(void 0===this.popupObj&&!1===i){for(var r=this.body.edgeIndices,f=this.body.edges,a=void 0,h=[],d=0;d<r.length;d++)!0===(a=f[r[d]]).isOverlappingWith(l)&&!0===a.connected&&void 0!==a.getTitle()&&h.push(r[d]);0<h.length&&(this.popupObj=f[h[h.length-1]],u="edge")}void 0!==this.popupObj?this.popupObj.id!==e&&(void 0===this.popup&&(this.popup=new m.default(this.canvas.frame)),this.popup.popupTargetType=u,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(t.x+3,t.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):void 0!==this.popup&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}},{key:"_checkHidePopup",value:function(t){var e,i=this.selectionHandler._pointerToPositionObject(t),o=!1;"node"===this.popup.popupTargetType?void 0!==this.body.nodes[this.popup.popupTargetId]&&!0===(o=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(i))&&(o=void 0!==(e=this.selectionHandler.getNodeAt(t))&&e.id===this.popup.popupTargetId):void 0===this.selectionHandler.getNodeAt(t)&&void 0!==this.body.edges[this.popup.popupTargetId]&&(o=this.body.edges[this.popup.popupTargetId].isOverlappingWith(i)),!1===o&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}]),a);function a(t,e,i){(0,o.default)(this,a),this.body=t,this.canvas=e,this.selectionHandler=i,this.navigationHandler=new n.default(t,e),this.body.eventListeners.onTap=this.onTap.bind(this),this.body.eventListeners.onTouch=this.onTouch.bind(this),this.body.eventListeners.onDoubleTap=this.onDoubleTap.bind(this),this.body.eventListeners.onHold=this.onHold.bind(this),this.body.eventListeners.onDragStart=this.onDragStart.bind(this),this.body.eventListeners.onDrag=this.onDrag.bind(this),this.body.eventListeners.onDragEnd=this.onDragEnd.bind(this),this.body.eventListeners.onMouseWheel=this.onMouseWheel.bind(this),this.body.eventListeners.onPinch=this.onPinch.bind(this),this.body.eventListeners.onMouseMove=this.onMouseMove.bind(this),this.body.eventListeners.onRelease=this.onRelease.bind(this),this.body.eventListeners.onContext=this.onContext.bind(this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=this.getPointer.bind(this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0},r.extend(this.options,this.defaultOptions),this.bindEventListeners()}t.default=e},function(d,t,e){Object.defineProperty(t,"__esModule",{value:!0});var o=n(e(119)),i=n(e(120));function n(t){return t&&t.__esModule?t:{default:t}}e(1);var r=e(112),a=e(125),s=e(115),e=((0,i.default)(h,[{key:"setOptions",value:function(t){void 0!==t&&(this.options=t,this.create())}},{key:"create",value:function(){!0===this.options.navigationButtons?!1===this.iconsCreated&&this.loadNavigationElements():!0===this.iconsCreated&&this.cleanNavigation(),this.configureKeyboardBindings()}},{key:"cleanNavigation",value:function(){if(0!=this.navigationHammers.length){for(var t=0;t<this.navigationHammers.length;t++)this.navigationHammers[t].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}},{key:"loadNavigationElements",value:function(){var t=this,e=(this.cleanNavigation(),this.navigationDOM={},["up","down","left","right","zoomIn","zoomOut","zoomExtends"]),i=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(var o=0;o<e.length;o++){this.navigationDOM[e[o]]=document.createElement("div"),this.navigationDOM[e[o]].className="vis-button vis-"+e[o],this.navigationDOM.wrapper.appendChild(this.navigationDOM[e[o]]);var n=new r(this.navigationDOM[e[o]]);"_fit"===i[o]?a.onTouch(n,this._fit.bind(this)):a.onTouch(n,this.bindToRedraw.bind(this,i[o])),this.navigationHammers.push(n)}var s=new r(this.canvas.frame);a.onRelease(s,function(){t._stopMovement()}),this.navigationHammers.push(s),this.iconsCreated=!0}},{key:"bindToRedraw",value:function(t){void 0===this.boundFunctions[t]&&(this.boundFunctions[t]=this[t].bind(this),this.body.emitter.on("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_startRendering"))}},{key:"unbindFromRedraw",value:function(t){void 0!==this.boundFunctions[t]&&(this.body.emitter.off("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[t])}},{key:"_fit",value:function(){700<(new Date).valueOf()-this.touchTime&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=(new Date).valueOf())}},{key:"_stopMovement",value:function(){for(var t in this.boundFunctions)this.boundFunctions.hasOwnProperty(t)&&(this.body.emitter.off("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}},{key:"_moveUp",value:function(){this.body.view.translation.y+=this.options.keyboard.speed.y}},{key:"_moveDown",value:function(){this.body.view.translation.y-=this.options.keyboard.speed.y}},{key:"_moveLeft",value:function(){this.body.view.translation.x+=this.options.keyboard.speed.x}},{key:"_moveRight",value:function(){this.body.view.translation.x-=this.options.keyboard.speed.x}},{key:"_zoomIn",value:function(){var t=this.body.view.scale,e=this.body.view.scale*(1+this.options.keyboard.speed.zoom),i=this.body.view.translation,t=e/t,o=(1-t)*this.canvas.canvasViewCenter.x+i.x*t,i=(1-t)*this.canvas.canvasViewCenter.y+i.y*t;this.body.view.scale=e,this.body.view.translation={x:o,y:i},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}},{key:"_zoomOut",value:function(){var t=this.body.view.scale,e=this.body.view.scale/(1+this.options.keyboard.speed.zoom),i=this.body.view.translation,t=e/t,o=(1-t)*this.canvas.canvasViewCenter.x+i.x*t,i=(1-t)*this.canvas.canvasViewCenter.y+i.y*t;this.body.view.scale=e,this.body.view.translation={x:o,y:i},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}},{key:"configureKeyboardBindings",value:function(){var t=this;void 0!==this.keycharm&&this.keycharm.destroy(),!0===this.options.keyboard.enabled&&(!0===this.options.keyboard.bindToWindow?this.keycharm=s({container:window,preventDefault:!0}):this.keycharm=s({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),!0===this.activated&&(this.keycharm.bind("up",function(){t.bindToRedraw("_moveUp")},"keydown"),this.keycharm.bind("down",function(){t.bindToRedraw("_moveDown")},"keydown"),this.keycharm.bind("left",function(){t.bindToRedraw("_moveLeft")},"keydown"),this.keycharm.bind("right",function(){t.bindToRedraw("_moveRight")},"keydown"),this.keycharm.bind("=",function(){t.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("num+",function(){t.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("num-",function(){t.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("-",function(){t.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("[",function(){t.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("]",function(){t.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("pageup",function(){t.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("pagedown",function(){t.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("up",function(){t.unbindFromRedraw("_moveUp")},"keyup"),this.keycharm.bind("down",function(){t.unbindFromRedraw("_moveDown")},"keyup"),this.keycharm.bind("left",function(){t.unbindFromRedraw("_moveLeft")},"keyup"),this.keycharm.bind("right",function(){t.unbindFromRedraw("_moveRight")},"keyup"),this.keycharm.bind("=",function(){t.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("num+",function(){t.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("num-",function(){t.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("-",function(){t.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("[",function(){t.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("]",function(){t.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("pageup",function(){t.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("pagedown",function(){t.unbindFromRedraw("_zoomOut")},"keyup")))}}]),h);function h(t,e){var i=this;(0,o.default)(this,h),this.body=t,this.canvas=e,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",function(){i.activated=!0,i.configureKeyboardBindings()}),this.body.emitter.on("deactivate",function(){i.activated=!1,i.configureKeyboardBindings()}),this.body.emitter.on("destroy",function(){void 0!==i.keycharm&&i.keycharm.destroy()}),this.options={}}t.default=e},function(d,t,e){Object.defineProperty(t,"__esModule",{value:!0});var o=r(e(119)),i=r(e(120)),n=r(e(163)),s=r(e(196));function r(t){return t&&t.__esModule?t:{default:t}}var a=e(1),e=((0,i.default)(h,[{key:"setOptions",value:function(t){void 0!==t&&a.selectiveDeepExtend(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,t)}},{key:"selectOnPoint",value:function(t){var e=!1;return!0===this.options.selectable&&(t=this.getNodeAt(t)||this.getEdgeAt(t),this.unselectAll(),void 0!==t&&(e=this.selectObject(t)),this.body.emitter.emit("_requestRedraw")),e}},{key:"selectAdditionalOnPoint",value:function(t){var e=!1;return!0!==this.options.selectable||void 0!==(t=this.getNodeAt(t)||this.getEdgeAt(t))&&((e=!0)===t.isSelected()?this.deselectObject(t):this.selectObject(t),this.body.emitter.emit("_requestRedraw")),e}},{key:"_generateClickEvent",value:function(t,e,i,o){var n=void 0;(n=!0===(4<arguments.length&&void 0!==arguments[4]&&arguments[4])?{nodes:[],edges:[]}:this.getSelection()).pointer={DOM:{x:i.x,y:i.y},canvas:this.canvas.DOMtoCanvas(i)},n.event=e,void 0!==o&&(n.previousSelection=o),this.body.emitter.emit(t,n)}},{key:"selectObject",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.options.selectConnectedEdges;return void 0!==t&&(t instanceof n.default&&!0===e&&this._selectConnectedEdges(t),t.select(),this._addToSelection(t),!0)}},{key:"deselectObject",value:function(t){!0===t.isSelected()&&(t.selected=!1,this._removeFromSelection(t))}},{key:"_getAllNodesOverlappingWith",value:function(t){for(var e=[],i=this.body.nodes,o=0;o<this.body.nodeIndices.length;o++){var n=this.body.nodeIndices[o];i[n].isOverlappingWith(t)&&e.push(n)}return e}},{key:"_pointerToPositionObject",value:function(t){t=this.canvas.DOMtoCanvas(t);return{left:t.x-1,top:t.y+1,right:t.x+1,bottom:t.y-1}}},{key:"getNodeAt",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],t=this._pointerToPositionObject(t),t=this._getAllNodesOverlappingWith(t);if(0<t.length)return!0===e?this.body.nodes[t[t.length-1]]:t[t.length-1]}},{key:"_getEdgesOverlappingWith",value:function(t,e){for(var i=this.body.edges,o=0;o<this.body.edgeIndices.length;o++){var n=this.body.edgeIndices[o];i[n].isOverlappingWith(t)&&e.push(n)}}},{key:"_getAllEdgesOverlappingWith",value:function(t){var e=[];return this._getEdgesOverlappingWith(t,e),e}},{key:"getEdgeAt",value:function(d){for(var l=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],t=this.canvas.DOMtoCanvas(d),e=10,i=null,u=this.body.edges,o=0;o<this.body.edgeIndices.length;o++){var n,s,r,a,c=this.body.edgeIndices[o],h=u[c];h.connected&&(n=h.from.x,s=h.from.y,r=h.to.x,a=h.to.y,(h=h.edgeType.getDistanceToEdge(n,s,r,a,t.x,t.y))<e&&(i=c,e=h))}if(i)return!0===l?this.body.edges[i]:i}},{key:"_addToSelection",value:function(t){t instanceof n.default?this.selectionObj.nodes[t.id]=t:this.selectionObj.edges[t.id]=t}},{key:"_addToHover",value:function(t){t instanceof n.default?this.hoverObj.nodes[t.id]=t:this.hoverObj.edges[t.id]=t}},{key:"_removeFromSelection",value:function(t){t instanceof n.default?(delete this.selectionObj.nodes[t.id],this._unselectConnectedEdges(t)):delete this.selectionObj.edges[t.id]}},{key:"unselectAll",value:function(){for(var t in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(t)&&this.selectionObj.nodes[t].unselect();for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&this.selectionObj.edges[e].unselect();this.selectionObj={nodes:{},edges:{}}}},{key:"_getSelectedNodeCount",value:function(){var t,e=0;for(t in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(t)&&(e+=1);return e}},{key:"_getSelectedNode",value:function(){for(var t in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(t))return this.selectionObj.nodes[t]}},{key:"_getSelectedEdge",value:function(){for(var t in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(t))return this.selectionObj.edges[t]}},{key:"_getSelectedEdgeCount",value:function(){var t,e=0;for(t in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(t)&&(e+=1);return e}},{key:"_getSelectedObjectCount",value:function(){var t,e,i=0;for(t in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(t)&&(i+=1);for(e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&(i+=1);return i}},{key:"_selectionIsEmpty",value:function(){for(var t in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(t))return!1;for(var e in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(e))return!1;return!0}},{key:"_clusterInSelection",value:function(){for(var t in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(t)&&1<this.selectionObj.nodes[t].clusterSize)return!0;return!1}},{key:"_selectConnectedEdges",value:function(t){for(var e=0;e<t.edges.length;e++){var i=t.edges[e];i.select(),this._addToSelection(i)}}},{key:"_hoverConnectedEdges",value:function(t){for(var e=0;e<t.edges.length;e++){var i=t.edges[e];i.hover=!0,this._addToHover(i)}}},{key:"_unselectConnectedEdges",value:function(t){for(var e=0;e<t.edges.length;e++){var i=t.edges[e];i.unselect(),this._removeFromSelection(i)}}},{key:"blurObject",value:function(t){!0===t.hover&&(t.hover=!1,t instanceof n.default?this.body.emitter.emit("blurNode",{node:t.id}):this.body.emitter.emit("blurEdge",{edge:t.id}))}},{key:"hoverObject",value:function(t){var e,i,o=!1;for(e in this.hoverObj.nodes)this.hoverObj.nodes.hasOwnProperty(e)&&(void 0===t||t instanceof n.default&&t.id!=e||t instanceof s.default)&&(this.blurObject(this.hoverObj.nodes[e]),delete this.hoverObj.nodes[e],o=!0);for(i in this.hoverObj.edges)this.hoverObj.edges.hasOwnProperty(i)&&(!0===o?(this.hoverObj.edges[i].hover=!1,delete this.hoverObj.edges[i]):(void 0===t||t instanceof s.default&&t.id!=i||t instanceof n.default&&!t.hover)&&(this.blurObject(this.hoverObj.edges[i]),delete this.hoverObj.edges[i],o=!0));void 0!==t&&(!1===t.hover&&(t.hover=!0,this._addToHover(t),o=!0,t instanceof n.default?this.body.emitter.emit("hoverNode",{node:t.id}):this.body.emitter.emit("hoverEdge",{edge:t.id})),t instanceof n.default&&!0===this.options.hoverConnectedEdges&&this._hoverConnectedEdges(t)),!0===o&&this.body.emitter.emit("_requestRedraw")}},{key:"getSelection",value:function(){return{nodes:this.getSelectedNodes(),edges:this.getSelectedEdges()}}},{key:"getSelectedNodes",value:function(){var t=[];if(!0===this.options.selectable)for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&t.push(this.selectionObj.nodes[e].id);return t}},{key:"getSelectedEdges",value:function(){var t=[];if(!0===this.options.selectable)for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&t.push(this.selectionObj.edges[e].id);return t}},{key:"setSelection",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=void 0,o=void 0;if(!t||!t.nodes&&!t.edges)throw"Selection must be an object with nodes and/or edges properties";if(!e.unselectAll&&void 0!==e.unselectAll||this.unselectAll(),t.nodes)for(i=0;i<t.nodes.length;i++){var o=t.nodes[i],n=this.body.nodes[o];if(!n)throw new RangeError('Node with id "'+o+'" not found');this.selectObject(n,e.highlightEdges)}if(t.edges)for(i=0;i<t.edges.length;i++){o=t.edges[i];var s=this.body.edges[o];if(!s)throw new RangeError('Edge with id "'+o+'" not found');this.selectObject(s)}this.body.emitter.emit("_requestRedraw")}},{key:"selectNodes",value:function(t){if(!t||void 0===t.length)throw"Selection must be an array with ids";this.setSelection({nodes:t},{highlightEdges:!(1<arguments.length&&void 0!==arguments[1])||arguments[1]})}},{key:"selectEdges",value:function(t){if(!t||void 0===t.length)throw"Selection must be an array with ids";this.setSelection({edges:t})}},{key:"updateSelection",value:function(){for(var t in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(t)&&(this.body.nodes.hasOwnProperty(t)||delete this.selectionObj.nodes[t]);for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&(this.body.edges.hasOwnProperty(e)||delete this.selectionObj.edges[e])}}]),h);function h(t,e){var i=this;(0,o.default)(this,h),this.body=t,this.canvas=e,this.selectionObj={nodes:[],edges:[]},this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},a.extend(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",function(){i.updateSelection()})}t.default=e},function(h,t,e){Object.defineProperty(t,"__esModule",{value:!0});var B=s(e(58)),j=s(e(165)),i=s(e(62)),o=s(e(119)),d=s(e(120)),n=s(e(214));function s(t){return t&&t.__esModule?t:{default:t}}var r=e(1),e=((0,d.default)(a,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("_dataChanged",function(){t.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",function(){t.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",function(){t.setupHierarchicalLayout()})}},{key:"setOptions",value:function(t,e){if(void 0!==t){var i=this.options.hierarchical.enabled;if(r.selectiveDeepExtend(["randomSeed","improvedLayout"],this.options,t),r.mergeOptions(this.options,t,"hierarchical"),void 0!==t.randomSeed&&(this.initialRandomSeed=t.randomSeed),!0===this.options.hierarchical.enabled)return!0===i&&this.body.emitter.emit("refresh",!0),"RL"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?0<this.options.hierarchical.levelSeparation&&(this.options.hierarchical.levelSeparation*=-1):this.options.hierarchical.levelSeparation<0&&(this.options.hierarchical.levelSeparation*=-1),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(e);if(!0===i)return this.body.emitter.emit("refresh"),r.deepExtend(e,this.optionsBackup)}return e}},{key:"adaptAllOptionsForHierarchicalLayout",value:function(t){var e;return!0===this.options.hierarchical.enabled&&(void 0===t.physics||!0===t.physics?(t.physics={enabled:void 0===this.optionsBackup.physics.enabled||this.optionsBackup.physics.enabled,solver:"hierarchicalRepulsion"},this.optionsBackup.physics.enabled=void 0===this.optionsBackup.physics.enabled||this.optionsBackup.physics.enabled,this.optionsBackup.physics.solver=this.optionsBackup.physics.solver||"barnesHut"):"object"===(0,i.default)(t.physics)?(this.optionsBackup.physics.enabled=void 0===t.physics.enabled||t.physics.enabled,this.optionsBackup.physics.solver=t.physics.solver||"barnesHut",t.physics.solver="hierarchicalRepulsion"):!1!==t.physics&&(this.optionsBackup.physics.solver="barnesHut",t.physics={solver:"hierarchicalRepulsion"}),e="horizontal","RL"!==this.options.hierarchical.direction&&"LR"!==this.options.hierarchical.direction||(e="vertical"),void 0===t.edges?(this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},t.edges={smooth:!1}):void 0===t.edges.smooth?(this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},t.edges.smooth=!1):"boolean"==typeof t.edges.smooth?(this.optionsBackup.edges={smooth:t.edges.smooth},t.edges.smooth={enabled:t.edges.smooth,type:e}):(void 0!==t.edges.smooth.type&&"dynamic"!==t.edges.smooth.type&&(e=t.edges.smooth.type),this.optionsBackup.edges={smooth:void 0===t.edges.smooth.enabled||t.edges.smooth.enabled,type:void 0===t.edges.smooth.type?"dynamic":t.edges.smooth.type,roundness:void 0===t.edges.smooth.roundness?.5:t.edges.smooth.roundness,forceDirection:void 0!==t.edges.smooth.forceDirection&&t.edges.smooth.forceDirection},t.edges.smooth={enabled:void 0===t.edges.smooth.enabled||t.edges.smooth.enabled,type:e,roundness:void 0===t.edges.smooth.roundness?.5:t.edges.smooth.roundness,forceDirection:void 0!==t.edges.smooth.forceDirection&&t.edges.smooth.forceDirection}),this.body.emitter.emit("_forceDisableDynamicCurves",e)),t}},{key:"seededRandom",value:function(){var t=1e4*Math.sin(this.randomSeed++);return t-Math.floor(t)}},{key:"positionInitially",value:function(t){if(!0!==this.options.hierarchical.enabled){this.randomSeed=this.initialRandomSeed;for(var e=0;e<t.length;e++){var i=t[e],o=+t.length+10,n=2*Math.PI*this.seededRandom();void 0===i.x&&(i.x=o*Math.cos(n)),void 0===i.y&&(i.y=o*Math.sin(n))}}}},{key:"layoutNetwork",value:function(){if(!0!==this.options.hierarchical.enabled&&!0===this.options.improvedLayout){for(var t=0,e=0;e<this.body.nodeIndices.length;e++)!0===this.body.nodes[this.body.nodeIndices[e]].predefinedPosition&&(t+=1);if(t<.5*this.body.nodeIndices.length){var i=0;if(100<this.body.nodeIndices.length){for(var o=this.body.nodeIndices.length;100<this.body.nodeIndices.length;){i+=1;var n=this.body.nodeIndices.length;if(i%3==0?this.body.modules.clustering.clusterBridges():this.body.modules.clustering.clusterOutliers(),n==this.body.nodeIndices.length&&i%3!=0||10<i)return this._declusterAll(),this.body.emitter.emit("_layoutFailed"),void console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.")}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*o)})}this.body.modules.kamadaKawai.solve(this.body.nodeIndices,this.body.edgeIndices,!0),this._shiftToCenter();for(var s=0;s<this.body.nodeIndices.length;s++)!1===this.body.nodes[this.body.nodeIndices[s]].predefinedPosition&&(this.body.nodes[this.body.nodeIndices[s]].x+=70*(.5-this.seededRandom()),this.body.nodes[this.body.nodeIndices[s]].y+=70*(.5-this.seededRandom()));this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}},{key:"_shiftToCenter",value:function(){for(var t=n.default.getRangeCore(this.body.nodes,this.body.nodeIndices),e=n.default.findCenter(t),i=0;i<this.body.nodeIndices.length;i++)this.body.nodes[this.body.nodeIndices[i]].x-=e.x,this.body.nodes[this.body.nodeIndices[i]].y-=e.y}},{key:"_declusterAll",value:function(){for(var t=!0;!0===t;){for(var t=!1,e=0;e<this.body.nodeIndices.length;e++)!0===this.body.nodes[this.body.nodeIndices[e]].isCluster&&this.body.modules.clustering.openCluster(this.body.nodeIndices[e],{},!(t=!0));!0===t&&this.body.emitter.emit("_dataChanged")}}},{key:"getSeed",value:function(){return this.initialRandomSeed}},{key:"setupHierarchicalLayout",value:function(){if(!0===this.options.hierarchical.enabled&&0<this.body.nodeIndices.length){var t,e,i=void 0,o=!1,n=!1;for(i in this.hierarchicalLevels={},this.lastNodeOnLevel={},this.hierarchicalChildrenReference={},this.hierarchicalParentReference={},this.hierarchicalTrees={},this.treeIndex=-1,this.distributionOrdering={},this.distributionIndex={},this.distributionOrderingPresence={},this.body.nodes)this.body.nodes.hasOwnProperty(i)&&(void 0===(t=this.body.nodes[i]).options.x&&t.options.y,void 0!==t.options.level?(o=!0,this.hierarchicalLevels[i]=t.options.level):n=!0);if(!0===n&&!0===o)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");for(e in!0===n&&("hubsize"===this.options.hierarchical.sortMethod?this._determineLevelsByHubsize():"directed"===this.options.hierarchical.sortMethod?this._determineLevelsDirected():"custom"===this.options.hierarchical.sortMethod&&this._determineLevelsCustomCallback()),this.body.nodes)this.body.nodes.hasOwnProperty(e)&&void 0===this.hierarchicalLevels[e]&&(this.hierarchicalLevels[e]=0);var s=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(s),this._condenseHierarchy(),this._shiftToCenter()}}},{key:"_condenseHierarchy",value:function(){function s(t,e){for(var i in v.hierarchicalTrees){var o;v.hierarchicalTrees.hasOwnProperty(i)&&v.hierarchicalTrees[i]===t&&(i=v.body.nodes[i],o=v._getPositionForHierarchy(i),v._setPositionForHierarchy(i,o+e,void 0,!0))}}function r(){for(var t=[],e=0;e<=v.treeIndex;e++)t.push(l(e));return t}function a(t){var s={};return function t(e){if(void 0!==s[e])return s[e];var i=v.hierarchicalLevels[e];if(v.hierarchicalChildrenReference[e]){var o=v.hierarchicalChildrenReference[e];if(0<o.length)for(var n=0;n<o.length;n++)i=Math.max(i,t(o[n]))}return s[e]=i}(t)}function h(t,e){var i,o=2<arguments.length&&void 0!==arguments[2]&&arguments[2],n=v._getPositionForHierarchy(t),s=v._getPositionForHierarchy(e);Math.abs(s-n)>v.options.hierarchical.nodeSpacing&&(s={},_(t,n={}),_(e,s),t=u(t,e),n=w(n,t),(n=(0,j.default)(n,4))[0],i=n[1],n[2],n[3],n=w(s,t),t=(s=(0,j.default)(n,4))[0],s[1],n=s[2],s[3],Math.abs(i-t)>v.options.hierarchical.nodeSpacing&&((s=(s=i-t+v.options.hierarchical.nodeSpacing)<-n+v.options.hierarchical.nodeSpacing?-n+v.options.hierarchical.nodeSpacing:s)<0&&(v._shiftBlock(e.id,s),(y=!0)===o&&v._centerParent(e))))}function d(t,a){for(var l=a.id,e=a.edges,u=v.hierarchicalLevels[a.id],c=v.options.hierarchical.levelSeparation*v.options.hierarchical.levelSeparation,h={},p=[],f=0;f<e.length;f++){var m,i=e[f];i.toId!=i.fromId&&(m=i.toId==l?i.from:i.to,h[e[f].id]=m,v.hierarchicalLevels[m.id]<u&&p.push(i))}function g(t,e){for(var i=v._getPositionForHierarchy(a),o={},n=0;n<t;n++){var s=function(t,e){for(var i,o=0,n=0;n<e.length;n++)void 0!==h[e[n].id]&&(o+=(i=v._getPositionForHierarchy(h[e[n].id])-t)/Math.sqrt(i*i+c));return o}(i,e),r=function(t,e){for(var i,o=0,n=0;n<e.length;n++)void 0!==h[e[n].id]&&(i=v._getPositionForHierarchy(h[e[n].id])-t,o-=c*Math.pow(i*i+c,-1.5));return o}(i,e);if(void 0!==o[i-=Math.max(-40,Math.min(40,Math.round(s/r)))])break;o[i]=n}return i}var o,n,s,r,d=g(t,p);n=d,r=v._getPositionForHierarchy(a),void 0===b[a.id]&&(_(a,o={}),b[a.id]=o),o=w(b[a.id]),(o=(0,j.default)(o,4))[0],o[1],s=o[2],o=o[3],n-=r,(r=0)<n?r=Math.min(n,o-v.options.hierarchical.nodeSpacing):n<0&&(r=-Math.min(-n,s-v.options.hierarchical.nodeSpacing)),0!=r&&(v._shiftBlock(a.id,r),y=!0),d=g(t,e),o=d,n=v._getPositionForHierarchy(a),s=v._getSpaceAroundNode(a),s=(0,j.default)(s,2),r=s[0],s=s[1],0<(d=o-(t=n))?t=Math.min(n+(s-v.options.hierarchical.nodeSpacing),o):d<0&&(t=Math.max(n-(r-v.options.hierarchical.nodeSpacing),o)),t!==n&&(v._setPositionForHierarchy(a,t,void 0,!0),y=!0)}var v=this,y=!1,b={},l=function(t){var e,i,o=1e9,n=-1e9;for(e in v.hierarchicalTrees)v.hierarchicalTrees.hasOwnProperty(e)&&v.hierarchicalTrees[e]===t&&(i=v._getPositionForHierarchy(v.body.nodes[e]),o=Math.min(i,o),n=Math.max(i,n));return{min:o,max:n}},_=function t(e,i){if(!i[e.id]&&(i[e.id]=!0,v.hierarchicalChildrenReference[e.id])){var o=v.hierarchicalChildrenReference[e.id];if(0<o.length)for(var n=0;n<o.length;n++)t(v.body.nodes[o[n]],i)}},w=function(t){var e,i,o,d,n,l=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1e9,s=1e9,r=1e9,a=1e9,h=-1e9;for(e in t)t.hasOwnProperty(e)&&(n=v.body.nodes[e],i=v.hierarchicalLevels[n.id],o=v._getPositionForHierarchy(n),n=v._getSpaceAroundNode(n,t),d=(n=(0,j.default)(n,2))[0],n=n[1],s=Math.min(d,s),r=Math.min(n,r),i<=l&&(a=Math.min(o,a),h=Math.max(o,h)));return[a,h,s,r]},u=function(t,e){t=a(t.id),e=a(e.id);return Math.min(t,e)},c=function(t,e){var i=v.hierarchicalParentReference[t.id],o=v.hierarchicalParentReference[e.id];if(void 0===i||void 0===o)return!1;for(var n=0;n<i.length;n++)for(var s=0;s<o.length;s++)if(i[n]==o[s])return!0;return!1};if(!0===this.options.hierarchical.blockShifting){{var p=5;for(var f=(f=(0,B.default)(v.distributionOrdering)).reverse(),m=0;m<p;m++){y=!1;for(var g=h,x=f,k=!(i=e=O=t=void 0),t=0;t<x.length;t++){var O=x[t],e=v.distributionOrdering[O];if(1<e.length)for(var i=0;i<e.length-1;i++)!0===c(e[i],e[i+1])&&v.hierarchicalTrees[e[i].id]===v.hierarchicalTrees[e[i+1].id]&&g(e[i],e[i+1],k)}if(!0!==y)break}}for(var S in v.body.nodes)v.body.nodes.hasOwnProperty(S)&&v._centerParent(v.body.nodes[S])}if(!0===this.options.hierarchical.edgeMinimization)for(var M=20,o=(o=(0,B.default)(v.distributionOrdering)).reverse(),D=0;D<M;D++){y=!1;for(var C=0;C<o.length;C++)for(var T=o[C],E=v.distributionOrdering[T],P=0;P<E.length;P++)d(1e3,E[P]);if(!0!==y)break}if(!0===this.options.hierarchical.parentCentralization)for(var I=(I=(0,B.default)(v.distributionOrdering)).reverse(),N=0;N<I.length;N++)for(var R=I[N],z=v.distributionOrdering[R],A=0;A<z.length;A++)v._centerParent(z[A]);for(var L=r(),F=0,n=0;n<L.length-1;n++)F+=L[n].max-L[n+1].min+v.options.hierarchical.treeSpacing,s(n+1,F)}},{key:"_getSpaceAroundNode",value:function(t,e){var i,o,n,s,r=!0,a=(void 0===e&&(r=!1),this.hierarchicalLevels[t.id]);return void 0!==a?(i=this.distributionIndex[t.id],t=this._getPositionForHierarchy(t),s=o=1e9,0!==i&&(n=this.distributionOrdering[a][i-1],(!0===r&&void 0===e[n.id]||!1===r)&&(o=t-this._getPositionForHierarchy(n))),i!=this.distributionOrdering[a].length-1&&(n=this.distributionOrdering[a][i+1],(!0===r&&void 0===e[n.id]||!1===r)&&(a=this._getPositionForHierarchy(n),s=Math.min(s,a-t))),[o,s]):[0,0]}},{key:"_centerParent",value:function(t){if(this.hierarchicalParentReference[t.id])for(var e=this.hierarchicalParentReference[t.id],i=0;i<e.length;i++){var o=e[i],n=this.body.nodes[o];if(this.hierarchicalChildrenReference[o]){var s=1e9,r=-1e9,a=this.hierarchicalChildrenReference[o];if(0<a.length)for(var h=0;h<a.length;h++)var l=this.body.nodes[a[h]],s=Math.min(s,this._getPositionForHierarchy(l)),r=Math.max(r,this._getPositionForHierarchy(l));var o=this._getPositionForHierarchy(n),d=this._getSpaceAroundNode(n),d=(0,j.default)(d,2),u=d[0],d=d[1],c=.5*(s+r),o=o-c;(o<0&&Math.abs(o)<d-this.options.hierarchical.nodeSpacing||0<o&&Math.abs(o)<u-this.options.hierarchical.nodeSpacing)&&this._setPositionForHierarchy(n,c,void 0,!0)}}}},{key:"_placeNodesByHierarchy",value:function(t){for(var e in this.positionedNodes={},t)if(t.hasOwnProperty(e)){var i=(0,B.default)(t[e]),i=this._indexArrayToNodes(i);this._sortNodeArray(i);for(var o=0,n=0;n<i.length;n++){var s,r=i[n];void 0===this.positionedNodes[r.id]&&(s=this.options.hierarchical.nodeSpacing*o,0<o&&(s=this._getPositionForHierarchy(i[n-1])+this.options.hierarchical.nodeSpacing),this._setPositionForHierarchy(r,s,e),this._validataPositionAndContinue(r,e,s),o++)}}}},{key:"_placeBranchNodes",value:function(t,e){if(void 0!==this.hierarchicalChildrenReference[t]){for(var i=[],o=0;o<this.hierarchicalChildrenReference[t].length;o++)i.push(this.body.nodes[this.hierarchicalChildrenReference[t][o]]);this._sortNodeArray(i);for(var n=0;n<i.length;n++){var s=i[n],r=this.hierarchicalLevels[s.id];if(!(e<r&&void 0===this.positionedNodes[s.id]))return;var a=void 0,a=0===n?this._getPositionForHierarchy(this.body.nodes[t]):this._getPositionForHierarchy(i[n-1])+this.options.hierarchical.nodeSpacing;this._setPositionForHierarchy(s,a,r),this._validataPositionAndContinue(s,r,a)}for(var h=1e9,l=-1e9,d=0;d<i.length;d++)var u=i[d].id,h=Math.min(h,this._getPositionForHierarchy(this.body.nodes[u])),l=Math.max(l,this._getPositionForHierarchy(this.body.nodes[u]));this._setPositionForHierarchy(this.body.nodes[t],.5*(h+l),e)}}},{key:"_validataPositionAndContinue",value:function(t,e,i){var o;void 0===this.lastNodeOnLevel[e]||i-(o=this._getPositionForHierarchy(this.body.nodes[this.lastNodeOnLevel[e]]))<this.options.hierarchical.nodeSpacing&&(o=o+this.options.hierarchical.nodeSpacing-i,i=this._findCommonParent(this.lastNodeOnLevel[e],t.id),this._shiftBlock(i.withChild,o)),this.lastNodeOnLevel[e]=t.id,this.positionedNodes[t.id]=!0,this._placeBranchNodes(t.id,e)}},{key:"_indexArrayToNodes",value:function(t){for(var e=[],i=0;i<t.length;i++)e.push(this.body.nodes[t[i]]);return e}},{key:"_getDistribution",value:function(){var t,e={},i=void 0,o=void 0;for(i in this.body.nodes)this.body.nodes.hasOwnProperty(i)&&(o=this.body.nodes[i],t=void 0===this.hierarchicalLevels[i]?0:this.hierarchicalLevels[i],"UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?(o.y=this.options.hierarchical.levelSeparation*t,o.options.fixed.y=!0):(o.x=this.options.hierarchical.levelSeparation*t,o.options.fixed.x=!0),void 0===e[t]&&(e[t]={}),e[t][i]=o);return e}},{key:"_getHubSize",value:function(){var t,e,i=0;for(t in this.body.nodes)this.body.nodes.hasOwnProperty(t)&&(e=this.body.nodes[t],void 0===this.hierarchicalLevels[t]&&(i=e.edges.length<i?i:e.edges.length));return i}},{key:"_determineLevelsByHubsize",value:function(){for(var i=this,t=1,e=function(t,e){void 0===i.hierarchicalLevels[e.id]&&(void 0===i.hierarchicalLevels[t.id]&&(i.hierarchicalLevels[t.id]=0),i.hierarchicalLevels[e.id]=i.hierarchicalLevels[t.id]+1)};0<t&&0!==(t=this._getHubSize());)for(var o in this.body.nodes)this.body.nodes.hasOwnProperty(o)&&this.body.nodes[o].edges.length===t&&this._crawlNetwork(e,o)}},{key:"_determineLevelsCustomCallback",value:function(){var o=this;this._crawlNetwork(function(t,e,i){void 0===o.hierarchicalLevels[t.id]&&(o.hierarchicalLevels[t.id]=1e5),n.default.cloneOptions(t,"node"),n.default.cloneOptions(e,"node"),n.default.cloneOptions(i,"edge");o.hierarchicalLevels[e.id]=o.hierarchicalLevels[t.id]+void 0}),this._setMinLevelToZero()}},{key:"_determineLevelsDirected",value:function(){var o=this;this._crawlNetwork(function(t,e,i){void 0===o.hierarchicalLevels[t.id]&&(o.hierarchicalLevels[t.id]=1e4),i.toId==e.id?o.hierarchicalLevels[e.id]=o.hierarchicalLevels[t.id]+1:o.hierarchicalLevels[e.id]=o.hierarchicalLevels[t.id]-1}),this._setMinLevelToZero()}},{key:"_setMinLevelToZero",value:function(){var t,e,i=1e9;for(t in this.body.nodes)this.body.nodes.hasOwnProperty(t)&&void 0!==this.hierarchicalLevels[t]&&(i=Math.min(this.hierarchicalLevels[t],i));for(e in this.body.nodes)this.body.nodes.hasOwnProperty(e)&&void 0!==this.hierarchicalLevels[e]&&(this.hierarchicalLevels[e]-=i)}},{key:"_generateMap",value:function(){var i=this;this._crawlNetwork(function(t,e){i.hierarchicalLevels[e.id]>i.hierarchicalLevels[t.id]&&(t=t.id,e=e.id,void 0===i.hierarchicalChildrenReference[t]&&(i.hierarchicalChildrenReference[t]=[]),i.hierarchicalChildrenReference[t].push(e),void 0===i.hierarchicalParentReference[e]&&(i.hierarchicalParentReference[e]=[]),i.hierarchicalParentReference[e].push(t))})}},{key:"_crawlNetwork",value:function(){function n(t,e){if(void 0===a[t.id]){void 0===s.hierarchicalTrees[t.id]&&(s.hierarchicalTrees[t.id]=e,s.treeIndex=Math.max(e,s.treeIndex)),a[t.id]=!0;for(var i=void 0,o=0;o<t.edges.length;o++)!0===t.edges[o].connected&&(i=t.edges[o].toId===t.id?t.edges[o].from:t.edges[o].to,t.id!==i.id&&(r(t,i,t.edges[o]),n(i,e)))}}var s=this,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:function(){},t=arguments[1],a={},e=0;if(void 0===t)for(var i=0;i<this.body.nodeIndices.length;i++){var o=this.body.nodes[this.body.nodeIndices[i]];void 0===a[o.id]&&(n(o,e),e+=1)}else{var h=this.body.nodes[t];void 0!==h?n(h):console.error("Node not found:",t)}}},{key:"_shiftBlock",value:function(t,o){var n=this,s={};(function t(e){if(!s[e]&&(s[e]=!0,"UD"===n.options.hierarchical.direction||"DU"===n.options.hierarchical.direction?n.body.nodes[e].x+=o:n.body.nodes[e].y+=o,void 0!==n.hierarchicalChildrenReference[e]))for(var i=0;i<n.hierarchicalChildrenReference[e].length;i++)t(n.hierarchicalChildrenReference[e][i])})(t)}},{key:"_findCommonParent",value:function(t,e){function n(t,e){if(void 0!==s.hierarchicalParentReference[e])for(var i=0;i<s.hierarchicalParentReference[e].length;i++){var o=s.hierarchicalParentReference[e][i];if(void 0!==t[o])return{foundParent:o,withChild:e};o=n(t,o);if(null!==o.foundParent)return o}return{foundParent:null,withChild:e}}var s=this,i={};return function t(e,i){if(void 0!==s.hierarchicalParentReference[i])for(var o=0;o<s.hierarchicalParentReference[i].length;o++){var n=s.hierarchicalParentReference[i][o];e[n]=!0,t(e,n)}}(i,t),n(i,e)}},{key:"_setPositionForHierarchy",value:function(t,e,i){!0!==(3<arguments.length&&void 0!==arguments[3]&&arguments[3])&&(void 0===this.distributionOrdering[i]&&(this.distributionOrdering[i]=[],this.distributionOrderingPresence[i]={}),void 0===this.distributionOrderingPresence[i][t.id]&&(this.distributionOrdering[i].push(t),this.distributionIndex[t.id]=this.distributionOrdering[i].length-1),this.distributionOrderingPresence[i][t.id]=!0),"UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?t.x=e:t.y=e}},{key:"_getPositionForHierarchy",value:function(t){return"UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?t.x:t.y}},{key:"_sortNodeArray",value:function(t){1<t.length&&("UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?t.sort(function(t,e){return t.x-e.x}):t.sort(function(t,e){return t.y-e.y}))}}]),a);function a(t){(0,o.default)(this,a),this.body=t,this.initialRandomSeed=Math.round(1e6*Math.random()),this.randomSeed=this.initialRandomSeed,this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},r.extend(this.options,this.defaultOptions),this.bindEventListeners()}t.default=e},function(l,t,e){Object.defineProperty(t,"__esModule",{value:!0});var i=a(e(58)),o=a(e(90)),n=a(e(62)),s=a(e(119)),r=a(e(120));function a(t){return t&&t.__esModule?t:{default:t}}var h=e(1),u=e(112),c=e(125),e=((0,r.default)(d,[{key:"_restore",value:function(){!1!==this.inMode&&(!0===this.options.initiallyActive?this.enableEditMode():this.disableEditMode())}},{key:"setOptions",value:function(t,e,i){void 0!==e&&(void 0!==e.locale?this.options.locale=e.locale:this.options.locale=i.locale,void 0!==e.locales?this.options.locales=e.locales:this.options.locales=i.locales),void 0!==t&&("boolean"==typeof t?this.options.enabled=t:(this.options.enabled=!0,h.deepExtend(this.options,t)),!0===this.options.initiallyActive&&(this.editMode=!0),this._setup())}},{key:"toggleEditMode",value:function(){!0===this.editMode?this.disableEditMode():this.enableEditMode()}},{key:"enableEditMode",value:function(){this.editMode=!0,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}},{key:"disableEditMode",value:function(){this.editMode=!1,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}},{key:"showManipulatorToolbar",value:function(){var t,e,i,o,n;this._clean(),this.manipulationDOM={},!0===this.guiEnabled&&(this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",i=(t=this.selectionHandler._getSelectedNodeCount())+(e=this.selectionHandler._getSelectedEdgeCount()),o=this.options.locales[this.options.locale],(n=!1)!==this.options.addNode&&(this._createAddNodeButton(o),n=!0),!1!==this.options.addEdge&&(!0===n?this._createSeperator(1):n=!0,this._createAddEdgeButton(o)),1===t&&"function"==typeof this.options.editNode?(!0===n?this._createSeperator(2):n=!0,this._createEditNodeButton(o)):1===e&&0===t&&!1!==this.options.editEdge&&(!0===n?this._createSeperator(3):n=!0,this._createEditEdgeButton(o)),0!==i&&(0<t&&!1!==this.options.deleteNode||0===t&&!1!==this.options.deleteEdge)&&(!0===n&&this._createSeperator(4),this._createDeleteButton(o)),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this)),this._temporaryBindEvent("select",this.showManipulatorToolbar.bind(this))),this.body.emitter.emit("_redraw")}},{key:"addNodeMode",value:function(){var t;!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addNode",!0===this.guiEnabled&&(t=this.options.locales[this.options.locale],this.manipulationDOM={},this._createBackButton(t),this._createSeperator(),this._createDescription(t.addDescription||this.options.locales.en.addDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))),this._temporaryBindEvent("click",this._performAddNode.bind(this))}},{key:"editNode",value:function(){var e=this,t=(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.selectionHandler._getSelectedNode());if(void 0!==t){if(this.inMode="editNode","function"!=typeof this.options.editNode)throw new Error("No function has been configured to handle the editing of nodes.");if(!0!==t.isCluster){var i=h.deepExtend({},t.options,!1);if(i.x=t.x,i.y=t.y,2!==this.options.editNode.length)throw new Error("The function for edit does not support two arguments (data, callback)");this.options.editNode(i,function(t){null!=t&&"editNode"===e.inMode&&e.body.data.nodes.getDataSet().update(t),e.showManipulatorToolbar()})}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError)}else this.showManipulatorToolbar()}},{key:"addEdgeMode",value:function(){var t;!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addEdge",!0===this.guiEnabled&&(t=this.options.locales[this.options.locale],this.manipulationDOM={},this._createBackButton(t),this._createSeperator(),this._createDescription(t.edgeDescription||this.options.locales.en.edgeDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))),this._temporaryBindUI("onTouch",this._handleConnect.bind(this)),this._temporaryBindUI("onDragEnd",this._finishConnect.bind(this)),this._temporaryBindUI("onDrag",this._dragControlNode.bind(this)),this._temporaryBindUI("onRelease",this._finishConnect.bind(this)),this._temporaryBindUI("onDragStart",function(){}),this._temporaryBindUI("onHold",function(){})}},{key:"editEdgeMode",value:function(){var t,e,i,o;if((!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="editEdge","object"===(0,n.default)(this.options.editEdge)&&"function"==typeof this.options.editEdge.editWithoutDrag)&&(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdges()[0],void 0!==this.edgeBeingEditedId))return t=this.body.edges[this.edgeBeingEditedId],void this._performEditEdge(t.from,t.to);!0===this.guiEnabled&&(t=this.options.locales[this.options.locale],this.manipulationDOM={},this._createBackButton(t),this._createSeperator(),this._createDescription(t.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))),this.edgeBeingEditedId=this.selectionHandler.getSelectedEdges()[0],void 0!==this.edgeBeingEditedId?(e=this.body.edges[this.edgeBeingEditedId],i=this._getNewTargetNode(e.from.x,e.from.y),o=this._getNewTargetNode(e.to.x,e.to.y),this.temporaryIds.nodes.push(i.id),this.temporaryIds.nodes.push(o.id),this.body.nodes[i.id]=i,this.body.nodeIndices.push(i.id),this.body.nodes[o.id]=o,this.body.nodeIndices.push(o.id),this._temporaryBindUI("onTouch",this._controlNodeTouch.bind(this)),this._temporaryBindUI("onTap",function(){}),this._temporaryBindUI("onHold",function(){}),this._temporaryBindUI("onDragStart",this._controlNodeDragStart.bind(this)),this._temporaryBindUI("onDrag",this._controlNodeDrag.bind(this)),this._temporaryBindUI("onDragEnd",this._controlNodeDragEnd.bind(this)),this._temporaryBindUI("onMouseMove",function(){}),this._temporaryBindEvent("beforeDrawing",function(t){t=e.edgeType.findBorderPositions(t);!1===i.selected&&(i.x=t.from.x,i.y=t.from.y),!1===o.selected&&(o.x=t.to.x,o.y=t.to.y)}),this.body.emitter.emit("_redraw")):this.showManipulatorToolbar()}},{key:"deleteSelected",value:function(){var e=this,t=(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="delete",this.selectionHandler.getSelectedNodes()),i=this.selectionHandler.getSelectedEdges(),o=void 0;if(0<t.length){for(var n=0;n<t.length;n++)if(!0===this.body.nodes[t[n]].isCluster)return void alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);"function"==typeof this.options.deleteNode&&(o=this.options.deleteNode)}else 0<i.length&&"function"==typeof this.options.deleteEdge&&(o=this.options.deleteEdge);if("function"==typeof o){var s={nodes:t,edges:i};if(2!==o.length)throw new Error("The function for delete does not support two arguments (data, callback)");o(s,function(t){null!=t&&"delete"===e.inMode&&(e.body.data.edges.getDataSet().remove(t.edges),e.body.data.nodes.getDataSet().remove(t.nodes)),e.body.emitter.emit("startSimulation"),e.showManipulatorToolbar()})}else this.body.data.edges.getDataSet().remove(i),this.body.data.nodes.getDataSet().remove(t),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}},{key:"_setup",value:function(){!0===this.options.enabled?(this.guiEnabled=!0,this._createWrappers(),!1===this.editMode?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}},{key:"_createWrappers",value:function(){void 0===this.manipulationDiv&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",!0===this.editMode?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),void 0===this.editModeDiv&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",!0===this.editMode?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),void 0===this.closeDiv&&(this.closeDiv=document.createElement("div"),this.closeDiv.className="vis-close",this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv))}},{key:"_getNewTargetNode",value:function(t,e){var i=h.deepExtend({},this.options.controlNodeStyle),i=(i.id="targetNode"+h.randomUUID(),i.hidden=!1,i.physics=!1,i.x=t,i.y=e,this.body.functions.createNode(i));return i.shape.boundingBox={left:t,right:t,top:e,bottom:e},i}},{key:"_createEditButton",value:function(){this._clean(),this.manipulationDOM={},h.recursiveDOMDelete(this.editModeDiv);var t=this.options.locales[this.options.locale],t=this._createButton("editMode","vis-button vis-edit vis-edit-mode",t.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(t),this._bindHammerToDiv(t,this.toggleEditMode.bind(this))}},{key:"_clean",value:function(){!(this.inMode=!1)===this.guiEnabled&&(h.recursiveDOMDelete(this.editModeDiv),h.recursiveDOMDelete(this.manipulationDiv),this._cleanManipulatorHammers()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}},{key:"_cleanManipulatorHammers",value:function(){if(0!=this.manipulationHammers.length){for(var t=0;t<this.manipulationHammers.length;t++)this.manipulationHammers[t].destroy();this.manipulationHammers=[]}}},{key:"_removeManipulationDOM",value:function(){this._clean(),h.recursiveDOMDelete(this.manipulationDiv),h.recursiveDOMDelete(this.editModeDiv),h.recursiveDOMDelete(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}},{key:"_createSeperator",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+t]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+t].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+t])}},{key:"_createAddNodeButton",value:function(t){t=this._createButton("addNode","vis-button vis-add",t.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(t),this._bindHammerToDiv(t,this.addNodeMode.bind(this))}},{key:"_createAddEdgeButton",value:function(t){t=this._createButton("addEdge","vis-button vis-connect",t.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(t),this._bindHammerToDiv(t,this.addEdgeMode.bind(this))}},{key:"_createEditNodeButton",value:function(t){t=this._createButton("editNode","vis-button vis-edit",t.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(t),this._bindHammerToDiv(t,this.editNode.bind(this))}},{key:"_createEditEdgeButton",value:function(t){t=this._createButton("editEdge","vis-button vis-edit",t.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(t),this._bindHammerToDiv(t,this.editEdgeMode.bind(this))}},{key:"_createDeleteButton",value:function(t){e=this.options.rtl?"vis-button vis-delete-rtl":"vis-button vis-delete";var e=this._createButton("delete",e,t.del||this.options.locales.en.del);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.deleteSelected.bind(this))}},{key:"_createBackButton",value:function(t){t=this._createButton("back","vis-button vis-back",t.back||this.options.locales.en.back);this.manipulationDiv.appendChild(t),this._bindHammerToDiv(t,this.showManipulatorToolbar.bind(this))}},{key:"_createButton",value:function(t,e,i){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"vis-label";return this.manipulationDOM[t+"Div"]=document.createElement("div"),this.manipulationDOM[t+"Div"].className=e,this.manipulationDOM[t+"Label"]=document.createElement("div"),this.manipulationDOM[t+"Label"].className=o,this.manipulationDOM[t+"Label"].innerHTML=i,this.manipulationDOM[t+"Div"].appendChild(this.manipulationDOM[t+"Label"]),this.manipulationDOM[t+"Div"]}},{key:"_createDescription",value:function(t){this.manipulationDiv.appendChild(this._createButton("description","vis-button vis-none",t))}},{key:"_temporaryBindEvent",value:function(t,e){this.temporaryEventFunctions.push({event:t,boundFunction:e}),this.body.emitter.on(t,e)}},{key:"_temporaryBindUI",value:function(t,e){if(void 0===this.body.eventListeners[t])throw new Error("This UI function does not exist. Typo? You tried: "+t+" possible are: "+(0,o.default)((0,i.default)(this.body.eventListeners)));this.temporaryUIFunctions[t]=this.body.eventListeners[t],this.body.eventListeners[t]=e}},{key:"_unbindTemporaryUIs",value:function(){for(var t in this.temporaryUIFunctions)this.temporaryUIFunctions.hasOwnProperty(t)&&(this.body.eventListeners[t]=this.temporaryUIFunctions[t],delete this.temporaryUIFunctions[t]);this.temporaryUIFunctions={}}},{key:"_unbindTemporaryEvents",value:function(){for(var t=0;t<this.temporaryEventFunctions.length;t++){var e=this.temporaryEventFunctions[t].event,i=this.temporaryEventFunctions[t].boundFunction;this.body.emitter.off(e,i)}this.temporaryEventFunctions=[]}},{key:"_bindHammerToDiv",value:function(t,e){t=new u(t,{});c.onTouch(t,e),this.manipulationHammers.push(t)}},{key:"_cleanupTemporaryNodesAndEdges",value:function(){for(var t=0;t<this.temporaryIds.edges.length;t++){this.body.edges[this.temporaryIds.edges[t]].disconnect(),delete this.body.edges[this.temporaryIds.edges[t]];var e=this.body.edgeIndices.indexOf(this.temporaryIds.edges[t]);-1!==e&&this.body.edgeIndices.splice(e,1)}for(var i=0;i<this.temporaryIds.nodes.length;i++){delete this.body.nodes[this.temporaryIds.nodes[i]];var o=this.body.nodeIndices.indexOf(this.temporaryIds.nodes[i]);-1!==o&&this.body.nodeIndices.splice(o,1)}this.temporaryIds={nodes:[],edges:[]}}},{key:"_controlNodeTouch",value:function(t){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(t.center),this.lastTouch.translation=h.extend({},this.body.view.translation)}},{key:"_controlNodeDragStart",value:function(t){var e=this.lastTouch,e=this.selectionHandler._pointerToPositionObject(e),i=this.body.nodes[this.temporaryIds.nodes[0]],o=this.body.nodes[this.temporaryIds.nodes[1]],n=this.body.edges[this.edgeBeingEditedId],s=(this.selectedControlNode=void 0,i.isOverlappingWith(e)),e=o.isOverlappingWith(e);!0===s?(this.selectedControlNode=i,n.edgeType.from=i):!0===e&&(this.selectedControlNode=o,n.edgeType.to=o),void 0!==this.selectedControlNode&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDrag",value:function(t){this.body.emitter.emit("disablePhysics");var t=this.body.functions.getPointer(t.center),e=this.canvas.DOMtoCanvas(t);void 0!==this.selectedControlNode?(this.selectedControlNode.x=e.x,this.selectedControlNode.y=e.y):(e=t.x-this.lastTouch.x,t=t.y-this.lastTouch.y,this.body.view.translation={x:this.lastTouch.translation.x+e,y:this.lastTouch.translation.y+t}),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDragEnd",value:function(t){var t=this.body.functions.getPointer(t.center),t=this.selectionHandler._pointerToPositionObject(t),e=this.body.edges[this.edgeBeingEditedId];if(void 0!==this.selectedControlNode){this.selectionHandler.unselectAll();for(var i=this.selectionHandler._getAllNodesOverlappingWith(t),o=void 0,n=i.length-1;0<=n;n--)if(i[n]!==this.selectedControlNode.id){o=this.body.nodes[i[n]];break}void 0!==o&&void 0!==this.selectedControlNode?!0===o.isCluster?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):(t=this.body.nodes[this.temporaryIds.nodes[0]],this.selectedControlNode.id===t.id?this._performEditEdge(o.id,e.to.id):this._performEditEdge(e.from.id,o.id)):(e.updateEdgeType(),this.body.emitter.emit("restorePhysics")),this.body.emitter.emit("_redraw")}}},{key:"_handleConnect",value:function(t){var e;100<(new Date).valueOf()-this.touchTime&&(this.lastTouch=this.body.functions.getPointer(t.center),this.lastTouch.translation=h.extend({},this.body.view.translation),t=this.lastTouch,void 0!==(t=this.selectionHandler.getNodeAt(t))&&(!0===t.isCluster?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):(e=this._getNewTargetNode(t.x,t.y),this.body.nodes[e.id]=e,this.body.nodeIndices.push(e.id),t=this.body.functions.createEdge({id:"connectionEdge"+h.randomUUID(),from:t.id,to:e.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}}),this.body.edges[t.id]=t,this.body.edgeIndices.push(t.id),this.temporaryIds.nodes.push(e.id),this.temporaryIds.edges.push(t.id))),this.touchTime=(new Date).valueOf())}},{key:"_dragControlNode",value:function(t){var e,t=this.body.functions.getPointer(t.center);void 0!==this.temporaryIds.nodes[0]?((e=this.body.nodes[this.temporaryIds.nodes[0]]).x=this.canvas._XconvertDOMtoCanvas(t.x),e.y=this.canvas._YconvertDOMtoCanvas(t.y),this.body.emitter.emit("_redraw")):(e=t.x-this.lastTouch.x,t=t.y-this.lastTouch.y,this.body.view.translation={x:this.lastTouch.translation.x+e,y:this.lastTouch.translation.y+t})}},{key:"_finishConnect",value:function(t){for(var t=this.body.functions.getPointer(t.center),t=this.selectionHandler._pointerToPositionObject(t),e=void 0,i=(void 0!==this.temporaryIds.edges[0]&&(e=this.body.edges[this.temporaryIds.edges[0]].fromId),this.selectionHandler._getAllNodesOverlappingWith(t)),o=void 0,n=i.length-1;0<=n;n--)if(-1===this.temporaryIds.nodes.indexOf(i[n])){o=this.body.nodes[i[n]];break}this._cleanupTemporaryNodesAndEdges(),void 0!==o&&(!0===o.isCluster?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):void 0!==this.body.nodes[e]&&void 0!==this.body.nodes[o.id]&&this._performAddEdge(e,o.id)),this.body.emitter.emit("_redraw")}},{key:"_performAddNode",value:function(t){var e=this,t={id:h.randomUUID(),x:t.pointer.canvas.x,y:t.pointer.canvas.y,label:"new"};if("function"==typeof this.options.addNode){if(2!==this.options.addNode.length)throw new Error("The function for add does not support two arguments (data,callback)");this.options.addNode(t,function(t){null!=t&&"addNode"===e.inMode&&(e.body.data.nodes.getDataSet().add(t),e.showManipulatorToolbar())})}else this.body.data.nodes.getDataSet().add(t),this.showManipulatorToolbar()}},{key:"_performAddEdge",value:function(t,e){var i=this,t={from:t,to:e};if("function"==typeof this.options.addEdge){if(2!==this.options.addEdge.length)throw new Error("The function for connect does not support two arguments (data,callback)");this.options.addEdge(t,function(t){null!=t&&"addEdge"===i.inMode&&(i.body.data.edges.getDataSet().add(t),i.selectionHandler.unselectAll(),i.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().add(t),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}},{key:"_performEditEdge",value:function(t,e){var i=this,o={id:this.edgeBeingEditedId,from:t,to:e,label:this.body.data.edges._data[this.edgeBeingEditedId].label},t=this.options.editEdge;if("function"==typeof(t="object"===(void 0===t?"undefined":(0,n.default)(t))?t.editWithoutDrag:t)){if(2!==t.length)throw new Error("The function for edit does not support two arguments (data, callback)");t(o,function(t){null==t||"editEdge"!==i.inMode?(i.body.edges[o.id].updateEdgeType(),i.body.emitter.emit("_redraw")):(i.body.data.edges.getDataSet().update(t),i.selectionHandler.unselectAll()),i.showManipulatorToolbar()})}else this.body.data.edges.getDataSet().update(o),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}]),d);function d(t,e,i){var o=this;(0,s.default)(this,d),this.body=t,this.canvas=e,this.selectionHandler=i,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this.manipulationHammers=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},h.extend(this.options,this.defaultOptions),this.body.emitter.on("destroy",function(){o._clean()}),this.body.emitter.on("_dataChanged",this._restore.bind(this)),this.body.emitter.on("_resetData",this._restore.bind(this))}t.default=e},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i="string",o="boolean",n="number",s="array",r="object",s={configure:{enabled:{boolean:o},filter:{boolean:o,string:i,array:s,function:"function"},container:{dom:"dom"},showButton:{boolean:o},__type__:{object:r,boolean:o,string:i,array:s,function:"function"}},edges:{arrows:{to:{enabled:{boolean:o},scaleFactor:{number:n},type:{string:["arrow","circle"]},__type__:{object:r,boolean:o}},middle:{enabled:{boolean:o},scaleFactor:{number:n},type:{string:["arrow","circle"]},__type__:{object:r,boolean:o}},from:{enabled:{boolean:o},scaleFactor:{number:n},type:{string:["arrow","circle"]},__type__:{object:r,boolean:o}},__type__:{string:["from","to","middle"],object:r}},arrowStrikethrough:{boolean:o},chosen:{label:{boolean:o,function:"function"},edge:{boolean:o,function:"function"},__type__:{object:r,boolean:o}},color:{color:{string:i},highlight:{string:i},hover:{string:i},inherit:{string:["from","to","both"],boolean:o},opacity:{number:n},__type__:{object:r,string:i}},dashes:{boolean:o,array:s},font:{color:{string:i},size:{number:n},face:{string:i},background:{string:i},strokeWidth:{number:n},strokeColor:{string:i},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:n},multi:{boolean:o,string:i},bold:{color:{string:i},size:{number:n},face:{string:i},mod:{string:i},vadjust:{number:n},__type__:{object:r,string:i}},boldital:{color:{string:i},size:{number:n},face:{string:i},mod:{string:i},vadjust:{number:n},__type__:{object:r,string:i}},ital:{color:{string:i},size:{number:n},face:{string:i},mod:{string:i},vadjust:{number:n},__type__:{object:r,string:i}},mono:{color:{string:i},size:{number:n},face:{string:i},mod:{string:i},vadjust:{number:n},__type__:{object:r,string:i}},__type__:{object:r,string:i}},hidden:{boolean:o},hoverWidth:{function:"function",number:n},label:{string:i,undefined:"undefined"},labelHighlightBold:{boolean:o},length:{number:n,undefined:"undefined"},physics:{boolean:o},scaling:{min:{number:n},max:{number:n},label:{enabled:{boolean:o},min:{number:n},max:{number:n},maxVisible:{number:n},drawThreshold:{number:n},__type__:{object:r,boolean:o}},customScalingFunction:{function:"function"},__type__:{object:r}},selectionWidth:{function:"function",number:n},selfReferenceSize:{number:n},shadow:{enabled:{boolean:o},color:{string:i},size:{number:n},x:{number:n},y:{number:n},__type__:{object:r,boolean:o}},smooth:{enabled:{boolean:o},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:n},forceDirection:{string:["horizontal","vertical","none"],boolean:o},__type__:{object:r,boolean:o}},title:{string:i,undefined:"undefined"},width:{number:n},widthConstraint:{maximum:{number:n},__type__:{object:r,boolean:o,number:n}},value:{number:n,undefined:"undefined"},__type__:{object:r}},groups:{useDefaultGroups:{boolean:o},__any__:"get from nodes, will be overwritten below",__type__:{object:r}},interaction:{dragNodes:{boolean:o},dragView:{boolean:o},hideEdgesOnDrag:{boolean:o},hideNodesOnDrag:{boolean:o},hover:{boolean:o},keyboard:{enabled:{boolean:o},speed:{x:{number:n},y:{number:n},zoom:{number:n},__type__:{object:r}},bindToWindow:{boolean:o},__type__:{object:r,boolean:o}},multiselect:{boolean:o},navigationButtons:{boolean:o},selectable:{boolean:o},selectConnectedEdges:{boolean:o},hoverConnectedEdges:{boolean:o},tooltipDelay:{number:n},zoomView:{boolean:o},__type__:{object:r}},layout:{randomSeed:{undefined:"undefined",number:n},improvedLayout:{boolean:o},hierarchical:{enabled:{boolean:o},levelSeparation:{number:n},nodeSpacing:{number:n},treeSpacing:{number:n},blockShifting:{boolean:o},edgeMinimization:{boolean:o},parentCentralization:{boolean:o},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},__type__:{object:r,boolean:o}},__type__:{object:r}},manipulation:{enabled:{boolean:o},initiallyActive:{boolean:o},addNode:{boolean:o,function:"function"},addEdge:{boolean:o,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:r,boolean:o,function:"function"}},deleteNode:{boolean:o,function:"function"},deleteEdge:{boolean:o,function:"function"},controlNodeStyle:"get from nodes, will be overwritten below",__type__:{object:r,boolean:o}},nodes:{borderWidth:{number:n},borderWidthSelected:{number:n,undefined:"undefined"},brokenImage:{string:i,undefined:"undefined"},chosen:{label:{boolean:o,function:"function"},node:{boolean:o,function:"function"},__type__:{object:r,boolean:o}},color:{border:{string:i},background:{string:i},highlight:{border:{string:i},background:{string:i},__type__:{object:r,string:i}},hover:{border:{string:i},background:{string:i},__type__:{object:r,string:i}},__type__:{object:r,string:i}},fixed:{x:{boolean:o},y:{boolean:o},__type__:{object:r,boolean:o}},font:{align:{string:i},color:{string:i},size:{number:n},face:{string:i},background:{string:i},strokeWidth:{number:n},strokeColor:{string:i},vadjust:{number:n},multi:{boolean:o,string:i},bold:{color:{string:i},size:{number:n},face:{string:i},mod:{string:i},vadjust:{number:n},__type__:{object:r,string:i}},boldital:{color:{string:i},size:{number:n},face:{string:i},mod:{string:i},vadjust:{number:n},__type__:{object:r,string:i}},ital:{color:{string:i},size:{number:n},face:{string:i},mod:{string:i},vadjust:{number:n},__type__:{object:r,string:i}},mono:{color:{string:i},size:{number:n},face:{string:i},mod:{string:i},vadjust:{number:n},__type__:{object:r,string:i}},__type__:{object:r,string:i}},group:{string:i,number:n,undefined:"undefined"},heightConstraint:{minimum:{number:n},valign:{string:i},__type__:{object:r,boolean:o,number:n}},hidden:{boolean:o},icon:{face:{string:i},code:{string:i},size:{number:n},color:{string:i},__type__:{object:r}},id:{string:i,number:n},image:{selected:{string:i,undefined:"undefined"},unselected:{string:i,undefined:"undefined"},__type__:{object:r,string:i}},label:{string:i,undefined:"undefined"},labelHighlightBold:{boolean:o},level:{number:n,undefined:"undefined"},margin:{top:{number:n},right:{number:n},bottom:{number:n},left:{number:n},__type__:{object:r,number:n}},mass:{number:n},physics:{boolean:o},scaling:{min:{number:n},max:{number:n},label:{enabled:{boolean:o},min:{number:n},max:{number:n},maxVisible:{number:n},drawThreshold:{number:n},__type__:{object:r,boolean:o}},customScalingFunction:{function:"function"},__type__:{object:r}},shadow:{enabled:{boolean:o},color:{string:i},size:{number:n},x:{number:n},y:{number:n},__type__:{object:r,boolean:o}},shape:{string:["ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon"]},shapeProperties:{borderDashes:{boolean:o,array:s},borderRadius:{number:n},interpolation:{boolean:o},useImageSize:{boolean:o},useBorderWithImage:{boolean:o},__type__:{object:r}},size:{number:n},title:{string:i,undefined:"undefined"},value:{number:n,undefined:"undefined"},widthConstraint:{minimum:{number:n},maximum:{number:n},__type__:{object:r,boolean:o,number:n}},x:{number:n},y:{number:n},__type__:{object:r}},physics:{enabled:{boolean:o},barnesHut:{gravitationalConstant:{number:n},centralGravity:{number:n},springLength:{number:n},springConstant:{number:n},damping:{number:n},avoidOverlap:{number:n},__type__:{object:r}},forceAtlas2Based:{gravitationalConstant:{number:n},centralGravity:{number:n},springLength:{number:n},springConstant:{number:n},damping:{number:n},avoidOverlap:{number:n},__type__:{object:r}},repulsion:{centralGravity:{number:n},springLength:{number:n},springConstant:{number:n},nodeDistance:{number:n},damping:{number:n},__type__:{object:r}},hierarchicalRepulsion:{centralGravity:{number:n},springLength:{number:n},springConstant:{number:n},nodeDistance:{number:n},damping:{number:n},__type__:{object:r}},maxVelocity:{number:n},minVelocity:{number:n},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:o},iterations:{number:n},updateInterval:{number:n},onlyDynamicEdges:{boolean:o},fit:{boolean:o},__type__:{object:r,boolean:o}},timestep:{number:n},adaptiveTimestep:{boolean:o},__type__:{object:r,boolean:o}},autoResize:{boolean:o},clickToUse:{boolean:o},locale:{string:i},locales:{__any__:{any:"any"},__type__:{object:r}},height:{string:i},width:{string:i},__type__:{object:r}};s.groups.__any__=s.nodes,s.manipulation.controlNodeStyle=s.nodes;e.allOptions=s,e.configureOptions={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01]}}},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var p=r(i(165)),o=r(i(119)),n=r(i(120)),s=r(i(226));function r(t){return t&&t.__esModule?t:{default:t}}(0,n.default)(a,[{key:"setOptions",value:function(t){t&&(t.springLength&&(this.springLength=t.springLength),t.springConstant&&(this.springConstant=t.springConstant))}},{key:"solve",value:function(t,d){for(var l=2<arguments.length&&void 0!==arguments[2]&&arguments[2],t=this.distanceSolver.getDistances(this.body,t,d),e=(this._createL_matrix(t),this._createK_matrix(t),0),u=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),i=1e9,o=0,n=0,s=0,r=0;.01<i&&e<u;){e+=1;var a=this._getHighestEnergyNode(l),a=(0,p.default)(a,4),c=a[0],i=a[1];for(o=a[2],n=a[3],s=i,r=0;1<s&&r<5;){r+=1,this._moveNode(c,o,n);var h=this._getEnergy(c),h=(0,p.default)(h,3),s=h[0],o=h[1],n=h[2]}}}},{key:"_getHighestEnergyNode",value:function(l){for(var t=this.body.nodeIndices,e=this.body.nodes,i=0,o=t[0],n=0,s=0,r=0;r<t.length;r++){var a,u,h,d=t[r];(!1===e[d].predefinedPosition||!0===e[d].isCluster&&!0===l||!0===e[d].options.fixed.x||!0===e[d].options.fixed.y)&&(h=this._getEnergy(d),a=(h=(0,p.default)(h,3))[0],u=h[1],h=h[2],i<a&&(i=a,o=d,n=u,s=h))}return[o,i,n,s]}},{key:"_getEnergy",value:function(t){for(var l=this.body.nodeIndices,e=this.body.nodes,i=e[t].x,o=e[t].y,n=0,s=0,r=0;r<l.length;r++){var a,h,u,d=l[r];d!==t&&(a=e[d].x,h=e[d].y,u=1/Math.sqrt(Math.pow(i-a,2)+Math.pow(o-h,2)),n+=this.K_matrix[t][d]*(i-a-this.L_matrix[t][d]*(i-a)*u),s+=this.K_matrix[t][d]*(o-h-this.L_matrix[t][d]*(o-h)*u))}return[Math.sqrt(Math.pow(n,2)+Math.pow(s,2)),n,s]}},{key:"_moveNode",value:function(t,l,e){for(var u=this.body.nodeIndices,i=this.body.nodes,c=0,p=0,f=0,o=i[t].x,n=i[t].y,m=0;m<u.length;m++){var s,r,a,h=u[m];h!==t&&(s=i[h].x,r=i[h].y,a=1/Math.pow(Math.pow(o-s,2)+Math.pow(n-r,2),1.5),c+=this.K_matrix[t][h]*(1-this.L_matrix[t][h]*Math.pow(n-r,2)*a),p+=this.K_matrix[t][h]*(this.L_matrix[t][h]*(o-s)*(n-r)*a),f+=this.K_matrix[t][h]*(1-this.L_matrix[t][h]*Math.pow(o-s,2)*a))}var g=c,d=p,e=(l/g+e/d)/(d/g-f/d);i[t].x+=-(d*e+l)/g,i[t].y+=e}},{key:"_createL_matrix",value:function(t){var e=this.body.nodeIndices,i=this.springLength;this.L_matrix=[];for(var o=0;o<e.length;o++){this.L_matrix[e[o]]={};for(var n=0;n<e.length;n++)this.L_matrix[e[o]][e[n]]=i*t[e[o]][e[n]]}}},{key:"_createK_matrix",value:function(t){var e=this.body.nodeIndices,i=this.springConstant;this.K_matrix=[];for(var o=0;o<e.length;o++){this.K_matrix[e[o]]={};for(var n=0;n<e.length;n++)this.K_matrix[e[o]][e[n]]=i*Math.pow(t[e[o]][e[n]],-2)}}}]);i=a;function a(t,e,i){(0,o.default)(this,a),this.body=t,this.springLength=e,this.springConstant=i,this.distanceSolver=new s.default}e.default=i},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o=n(i(119));function n(t){return t&&t.__esModule?t:{default:t}}function s(){(0,o.default)(this,s)}(0,n(i(120)).default)(s,[{key:"getDistances",value:function(l,t,u){for(var e={},c=l.edges,i=0;i<t.length;i++){e[t[i]]={},e[t[i]]={};for(var o=0;o<t.length;o++)e[t[i]][t[o]]=i==o?0:1e9,e[t[i]][t[o]]=i==o?0:1e9}for(var n=0;n<u.length;n++){var s=c[u[n]];!0===s.connected&&void 0!==e[s.fromId]&&void 0!==e[s.toId]&&(e[s.fromId][s.toId]=1,e[s.toId][s.fromId]=1)}for(var r=t.length,a=0;a<r;a++)for(var h=0;h<r-1;h++)for(var d=h+1;d<r;d++)e[t[h]][t[d]]=Math.min(e[t[h]][t[d]],e[t[h]][t[a]]+e[t[a]][t[d]]),e[t[d]][t[h]]=e[t[h]][t[d]];return e}}]),e.default=s},function(t,e){"undefined"!=typeof CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.circle=function(t,e,i){this.beginPath(),this.arc(t,e,i,0,2*Math.PI,!1),this.closePath()},CanvasRenderingContext2D.prototype.square=function(t,e,i){this.beginPath(),this.rect(t-i,e-i,2*i,2*i),this.closePath()},CanvasRenderingContext2D.prototype.triangle=function(t,e,i){this.beginPath(),e+=.275*(i*=1.15);var i=2*i,o=i/2,n=Math.sqrt(3)/6*i,i=Math.sqrt(i*i-o*o);this.moveTo(t,e-(i-n)),this.lineTo(t+o,e+n),this.lineTo(t-o,e+n),this.lineTo(t,e-(i-n)),this.closePath()},CanvasRenderingContext2D.prototype.triangleDown=function(t,e,i){this.beginPath(),e-=.275*(i*=1.15);var i=2*i,o=i/2,n=Math.sqrt(3)/6*i,i=Math.sqrt(i*i-o*o);this.moveTo(t,e+(i-n)),this.lineTo(t+o,e-n),this.lineTo(t-o,e-n),this.lineTo(t,e+(i-n)),this.closePath()},CanvasRenderingContext2D.prototype.star=function(t,e,i){this.beginPath(),e+=.1*(i*=.82);for(var o=0;o<10;o++){var n=o%2==0?1.3*i:.5*i;this.lineTo(t+n*Math.sin(2*o*Math.PI/10),e-n*Math.cos(2*o*Math.PI/10))}this.closePath()},CanvasRenderingContext2D.prototype.diamond=function(t,e,i){this.beginPath(),this.lineTo(t,e+i),this.lineTo(t+i,e),this.lineTo(t,e-i),this.lineTo(t-i,e),this.closePath()},CanvasRenderingContext2D.prototype.roundRect=function(t,e,i,o,n){var s=Math.PI/180;o-2*(n=i-2*n<0?i/2:n)<0&&(n=o/2),this.beginPath(),this.moveTo(t+n,e),this.lineTo(t+i-n,e),this.arc(t+i-n,e+n,n,270*s,360*s,!1),this.lineTo(t+i,e+o-n),this.arc(t+i-n,e+o-n,n,0,90*s,!1),this.lineTo(t+n,e+o),this.arc(t+n,e+o-n,n,90*s,180*s,!1),this.lineTo(t,e+n),this.arc(t+n,e+n,n,180*s,270*s,!1),this.closePath()},CanvasRenderingContext2D.prototype.ellipse=function(t,e,i,o){var n=i/2*.5522848,s=o/2*.5522848,r=t+i,a=e+o,i=t+i/2,o=e+o/2;this.beginPath(),this.moveTo(t,o),this.bezierCurveTo(t,o-s,i-n,e,i,e),this.bezierCurveTo(i+n,e,r,o-s,r,o),this.bezierCurveTo(r,o+s,i+n,a,i,a),this.bezierCurveTo(i-n,a,t,o+s,t,o),this.closePath()},CanvasRenderingContext2D.prototype.database=function(t,e,i,o){var n=o*(1/3),s=i/2*.5522848,r=n/2*.5522848,a=t+i,h=e+n,i=t+i/2,d=e+n/2,n=e+(o-n/2),o=e+o;this.beginPath(),this.moveTo(a,d),this.bezierCurveTo(a,d+r,i+s,h,i,h),this.bezierCurveTo(i-s,h,t,d+r,t,d),this.bezierCurveTo(t,d-r,i-s,e,i,e),this.bezierCurveTo(i+s,e,a,d-r,a,d),this.lineTo(a,n),this.bezierCurveTo(a,n+r,i+s,o,i,o),this.bezierCurveTo(i-s,o,t,n+r,t,n),this.lineTo(t,d)},CanvasRenderingContext2D.prototype.arrowEndpoint=function(t,e,i,o){var n=t-o*Math.cos(i),s=e-o*Math.sin(i),r=t-.9*o*Math.cos(i),a=e-.9*o*Math.sin(i),h=n+o/3*Math.cos(i+.5*Math.PI),d=s+o/3*Math.sin(i+.5*Math.PI),n=n+o/3*Math.cos(i-.5*Math.PI),s=s+o/3*Math.sin(i-.5*Math.PI);this.beginPath(),this.moveTo(t,e),this.lineTo(h,d),this.lineTo(r,a),this.lineTo(n,s),this.closePath()},CanvasRenderingContext2D.prototype.circleEndpoint=function(t,e,i,o){o*=.4,t-=o*Math.cos(i),e-=o*Math.sin(i);this.circle(t,e,o)},CanvasRenderingContext2D.prototype.dashedLine=function(t,e,i,l,o){this.beginPath(),this.moveTo(t,e);for(var u=o.length,n=i-t,i=l-e,s=i/n,r=Math.sqrt(n*n+i*i),c=0,a=!0,h=0,d=o[0];.1<=r;)r<(d=o[c++%u])&&(d=r),h=Math.sqrt(d*d/(1+s*s)),t+=h=n<0?-h:h,e+=s*h,!0===a?this.lineTo(t,e):this.moveTo(t,e),r-=d,a=!a})},function(e,i,t){var t=t(55),t=(t=t)&&t.__esModule?t:{default:t};function p(t){var e={};if(g=0,n=(o=t).charAt(0),u(),"strict"===h&&(e.strict=!0,u()),"graph"!==h&&"digraph"!==h||(e.type=h,u()),d===a.IDENTIFIER&&(e.id=h,u()),"{"!=h)throw c("Angle bracket { expected");if(u(),x(e),"}"!=h)throw c("Angle bracket } expected");if(u(),""===h)return u(),delete e.node,delete e.edge,delete e.graph,e;throw c("End of file expected")}var f={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},m=(0,t.default)(f),a=(m.color="color.color",{NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3}),r={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},o="",g=0,n="",h="",d=a.NULL;function s(){g++,n=o.charAt(g)}function v(){return o.charAt(g+1)}var y=/[a-zA-Z_0-9.:#]/;function b(t){return y.test(t)}function l(t,e){if(t=t||{},e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function _(t,e){for(var i,o,n=null,s=[t],r=t;r.parent;)s.push(r.parent),r=r.parent;if(r.nodes)for(i=0,o=r.nodes.length;i<o;i++)if(e.id===r.nodes[i].id){n=r.nodes[i];break}for(n||(n={id:e.id},t.node&&(n.attr=l(n.attr,t.node))),i=s.length-1;0<=i;i--){var a=s[i];a.nodes||(a.nodes=[]),-1===a.nodes.indexOf(n)&&a.nodes.push(n)}e.attr&&(n.attr=l(n.attr,e.attr))}function w(t,e,i,o,n){e={from:e,to:i,type:o};return t.edge&&(e.attr=l({},t.edge)),e.attr=l(e.attr||{},n),e}function u(){for(d=a.NULL,h="";" "===n||"\t"===n||"\n"===n||"\r"===n;)s();do{var t=!1;if("#"===n){for(var e=g-1;" "===o.charAt(e)||"\t"===o.charAt(e);)e--;if("\n"===o.charAt(e)||""===o.charAt(e)){for(;""!=n&&"\n"!=n;)s();t=!0}}if("/"===n&&"/"===v()){for(;""!=n&&"\n"!=n;)s();t=!0}if("/"===n&&"*"===v()){for(;""!=n;){if("*"===n&&"/"===v()){s(),s();break}s()}t=!0}for(;" "===n||"\t"===n||"\n"===n||"\r"===n;)s()}while(t);if(""!==n){var i=n+v();if(r[i])return d=a.DELIMITER,h=i,s(),void s();if(r[n])return d=a.DELIMITER,h=n,void s();if(b(n)||"-"===n){for(h+=n,s();b(n);)h+=n,s();return"false"===h?h=!1:"true"===h?h=!0:isNaN(Number(h))||(h=Number(h)),void(d=a.IDENTIFIER)}if('"'===n){for(s();""!=n&&('"'!=n||'"'===n&&'"'===v());)h+=n,'"'===n&&s(),s();if('"'!=n)throw c('End of string " expected');return s(),void(d=a.IDENTIFIER)}for(d=a.UNKNOWN;""!=n;)h+=n,s();throw new SyntaxError('Syntax error in part "'+M(h,30)+'"')}d=a.DELIMITER}function x(t){for(;""!==h&&"}"!=h;){i=i=e=void 0;var e=t,i=k(e);if(i)O(e,i);else if(!function(t){{if("node"===h)return u(),t.node=S(),"node";if("edge"===h)return u(),t.edge=S(),"edge";if("graph"===h)return u(),t.graph=S(),"graph"}return null}(e)){if(d!=a.IDENTIFIER)throw c("Identifier expected");i=h;if(u(),"="===h){if(u(),d!=a.IDENTIFIER)throw c("Identifier expected");e[i]=h,u()}else!function(t,e){var i={id:e},o=S();o&&(i.attr=o);_(t,i),O(t,e)}(e,i)}";"===h&&u()}}function k(t){var e=null;if("subgraph"===h&&(e={type:"subgraph"},u(),d===a.IDENTIFIER&&(e.id=h,u())),"{"===h){if(u(),(e=e||{}).parent=t,e.node=t.node,e.edge=t.edge,e.graph=t.graph,x(e),"}"!=h)throw c("Angle bracket } expected");u(),delete e.node,delete e.edge,delete e.graph,delete e.parent,t.subgraphs||(t.subgraphs=[]),t.subgraphs.push(e)}return e}function O(t,e){for(;"->"===h||"--"===h;){var i,o=h,n=(u(),k(t));if(n)i=n;else{if(d!=a.IDENTIFIER)throw c("Identifier or subgraph expected");_(t,{id:i=h}),u()}n=S(),o=w(t,e,i,o,n);n=o,(o=t).edges||(o.edges=[]),o.edges.push(n),o.edge&&(o=l({},o.edge),n.attr=l(o,n.attr)),e=i}}function S(){for(var t=null;"["===h;){for(u(),t={};""!==h&&"]"!=h;){if(d!=a.IDENTIFIER)throw c("Attribute name expected");var e=h;if(u(),"="!=h)throw c("Equal sign = expected");if(u(),d!=a.IDENTIFIER)throw c("Attribute value expected");r=s=n=o=i=void 0;for(var i=t,o=h,n=e.split("."),s=i;n.length;){var r=n.shift();n.length?(s[r]||(s[r]={}),s=s[r]):s[r]=o}u(),","==h&&u()}if("]"!=h)throw c("Bracket ] expected");u()}return t}function c(t){return new SyntaxError(t+', got "'+M(h,30)+'" (char '+g+")")}function M(t,e){return t.length<=e?t:t.substr(0,27)+"..."}function D(t,e,i){for(var o=e.split("."),e=o.pop(),n=t,s=0;s<o.length;s++){var r=o[s];r in n||(n[r]={}),n=n[r]}return n[e]=i,t}function C(e,t){var i,o,n={};for(i in e)e.hasOwnProperty(i)&&(o=t[i],Array.isArray(o)?o.forEach(function(t){D(n,t,e[i])}):D(n,"string"==typeof o?o:i,e[i]));return n}i.parseDOT=p,i.DOTToGraph=function(t){var r,t=p(t),a={nodes:[],edges:[],options:{}};return t.nodes&&t.nodes.forEach(function(t){var e={id:t.id,label:String(t.label||t.id)};l(e,C(t.attr,f)),e.image&&(e.shape="image"),a.nodes.push(e)}),t.edges&&(r=function(t){var e={from:t.from,to:t.to};return l(e,C(t.attr,m)),e.arrows="->"===t.type?"to":void 0,e},t.edges.forEach(function(i){var e,t,o,n=i.from instanceof Object?i.from.nodes:{id:i.from},s=i.to instanceof Object?i.to.nodes:{id:i.to};i.from instanceof Object&&i.from.edges&&i.from.edges.forEach(function(t){t=r(t);a.edges.push(t)}),e=n,t=s,o=function(t,e){t=w(a,t.id,e.id,i.type,i.attr),e=r(t);a.edges.push(e)},Array.isArray(e)?e.forEach(function(e){Array.isArray(t)?t.forEach(function(t){o(e,t)}):o(e,t)}):Array.isArray(t)?t.forEach(function(t){o(e,t)}):o(e,t),i.to instanceof Object&&i.to.edges&&i.to.edges.forEach(function(t){t=r(t);a.edges.push(t)})})),t.attr&&(a.options=t.attr),a}},function(t,e){e.parseGephi=function(t,e){for(var i=[],o=[],n={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}},l=(void 0!==e&&(void 0!==e.fixed&&(n.nodes.fixed=e.fixed),void 0!==e.parseColor&&(n.nodes.parseColor=e.parseColor),void 0!==e.inheritColor&&(n.edges.inheritColor=e.inheritColor)),t.edges),u=t.nodes,s=0;s<l.length;s++){var r={},a=l[s];r.id=a.id,r.from=a.source,r.to=a.target,r.attributes=a.attributes,r.label=a.label,r.title=void 0!==a.attributes?a.attributes.title:void 0,"Directed"===a.type&&(r.arrows="to"),a.color&&!1===n.inheritColor&&(r.color=a.color),i.push(r)}for(s=0;s<u.length;s++){var h={},d=u[s];h.id=d.id,h.attributes=d.attributes,h.title=d.title,h.x=d.x,h.y=d.y,h.label=d.label,h.title=void 0!==d.attributes?d.attributes.title:void 0,!0===n.nodes.parseColor?h.color=d.color:h.color=void 0!==d.color?{background:d.color,border:d.color,highlight:{background:d.color,border:d.color},hover:{background:d.color,border:d.color}}:void 0,h.size=d.size,h.fixed=n.nodes.fixed&&void 0!==d.x&&void 0!==d.y,o.push(h)}return{nodes:o,edges:i}}},function(t,e){e.en={edit:"Edit",del:"Delete selected",back:"Back",addNode:"Add Node",addEdge:"Add Edge",editNode:"Edit Node",editEdge:"Edit Edge",addDescription:"Click in an empty space to place a new node.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",createEdgeError:"Cannot link edges to a cluster.",deleteClusterError:"Clusters cannot be deleted.",editClusterError:"Clusters cannot be edited."},e.en_EN=e.en,e.en_US=e.en,e.de={edit:"Editieren",del:"Lösche Auswahl",back:"Zurück",addNode:"Knoten hinzufügen",addEdge:"Kante hinzufügen",editNode:"Knoten editieren",editEdge:"Kante editieren",addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",createEdgeError:"Es ist nicht möglich, Kanten mit Clustern zu verbinden.",deleteClusterError:"Cluster können nicht gelöscht werden.",editClusterError:"Cluster können nicht editiert werden."},e.de_DE=e.de,e.es={edit:"Editar",del:"Eliminar selección",back:"Átras",addNode:"Añadir nodo",addEdge:"Añadir arista",editNode:"Editar nodo",editEdge:"Editar arista",addDescription:"Haga clic en un lugar vacío para colocar un nuevo nodo.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",createEdgeError:"No se puede conectar una arista a un grupo.",deleteClusterError:"No es posible eliminar grupos.",editClusterError:"No es posible editar grupos."},e.es_ES=e.es,e.it={edit:"Modifica",del:"Cancella la selezione",back:"Indietro",addNode:"Aggiungi un nodo",addEdge:"Aggiungi un vertice",editNode:"Modifica il nodo",editEdge:"Modifica il vertice",addDescription:"Clicca per aggiungere un nuovo nodo",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",createEdgeError:"Non si possono collegare vertici ad un cluster",deleteClusterError:"I cluster non possono essere cancellati",editClusterError:"I clusters non possono essere modificati."},e.it_IT=e.it,e.nl={edit:"Wijzigen",del:"Selectie verwijderen",back:"Terug",addNode:"Node toevoegen",addEdge:"Link toevoegen",editNode:"Node wijzigen",editEdge:"Link wijzigen",addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",createEdgeError:"Kan geen link maken naar een cluster.",deleteClusterError:"Clusters kunnen niet worden verwijderd.",editClusterError:"Clusters kunnen niet worden aangepast."},e.nl_NL=e.nl,e.nl_BE=e.nl,e["pt-br"]={edit:"Editar",del:"Remover selecionado",back:"Voltar",addNode:"Adicionar nó",addEdge:"Adicionar aresta",editNode:"Editar nó",editEdge:"Editar aresta",addDescription:"Clique em um espaço em branco para adicionar um novo nó",edgeDescription:"Clique em um nó e arraste a aresta até outro nó para conectá-los",editEdgeDescription:"Clique nos pontos de controle e os arraste para um nó para conectá-los",createEdgeError:"Não foi possível linkar arestas a um cluster.",deleteClusterError:"Clusters não puderam ser removidos.",editClusterError:"Clusters não puderam ser editados."},e["pt-BR"]=e["pt-br"],e.pt_BR=e["pt-br"],e.pt_br=e["pt-br"],e.ru={edit:"Редактировать",del:"Удалить выбранное",back:"Назад",addNode:"Добавить узел",addEdge:"Добавить ребро",editNode:"Редактировать узел",editEdge:"Редактировать ребро",addDescription:"Кликните в свободное место, чтобы добавить новый узел.",edgeDescription:"Кликните на узел и протяните ребро к другому узлу, чтобы соединить их.",editEdgeDescription:"Кликните на контрольные точки и перетащите их в узел, чтобы подключиться к нему.",createEdgeError:"Невозможно соединить ребра в кластер.",deleteClusterError:"Кластеры не могут быть удалены",editClusterError:"Кластеры недоступны для редактирования."},e.ru_RU=e.ru}],n={},i.m=o,i.c=n,i.p="",i(0);function i(t){if(n[t])return n[t].exports;var e=n[t]={exports:{},id:t,loaded:!1};return o[t].call(e.exports,e,e.exports,i),e.loaded=!0,e.exports}var o,n});
//# sourceMappingURL=vis.js.map